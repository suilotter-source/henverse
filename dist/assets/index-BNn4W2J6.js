import{g as hr,a as dr,c as Pt}from"./index-DyuXo1Sm.js";var vn={},_t={};Object.defineProperty(_t,"__esModule",{value:!0});var Oi=_t.getLocalStorage=zi=_t.getLocalStorageOrThrow=ji=_t.getCrypto=Wi=_t.getCryptoOrThrow=Hi=_t.getLocation=qi=_t.getLocationOrThrow=Di=_t.getNavigator=Fi=_t.getNavigatorOrThrow=Ui=_t.getDocument=Pi=_t.getDocumentOrThrow=Li=_t.getFromWindowOrThrow=Ni=_t.getFromWindow=void 0;function be(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}var Ni=_t.getFromWindow=be;function Ne(e){const t=be(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}var Li=_t.getFromWindowOrThrow=Ne;function Na(){return Ne("document")}var Pi=_t.getDocumentOrThrow=Na;function La(){return be("document")}var Ui=_t.getDocument=La;function Pa(){return Ne("navigator")}var Fi=_t.getNavigatorOrThrow=Pa;function Ua(){return be("navigator")}var Di=_t.getNavigator=Ua;function Fa(){return Ne("location")}var qi=_t.getLocationOrThrow=Fa;function Da(){return be("location")}var Hi=_t.getLocation=Da;function qa(){return Ne("crypto")}var Wi=_t.getCryptoOrThrow=qa;function Ha(){return be("crypto")}var ji=_t.getCrypto=Ha;function Wa(){return Ne("localStorage")}var zi=_t.getLocalStorageOrThrow=Wa;function ja(){return be("localStorage")}Oi=_t.getLocalStorage=ja;Object.defineProperty(vn,"__esModule",{value:!0});var $i=vn.getWindowMetadata=void 0;const Vn=_t;function za(){let e,t;try{e=Vn.getDocumentOrThrow(),t=Vn.getLocationOrThrow()}catch{return null}function r(){const A=e.getElementsByTagName("link"),B=[];for(let U=0;U<A.length;U++){const N=A[U],j=N.getAttribute("rel");if(j&&j.toLowerCase().indexOf("icon")>-1){const S=N.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let R=t.protocol+"//"+t.host;if(S.indexOf("/")===0)R+=S;else{const O=t.pathname.split("/");O.pop();const T=O.join("/");R+=T+"/"+S}B.push(R)}else if(S.indexOf("//")===0){const R=t.protocol+S;B.push(R)}else B.push(S)}}return B}function n(...A){const B=e.getElementsByTagName("meta");for(let U=0;U<B.length;U++){const N=B[U],j=["itemprop","property","name"].map(S=>N.getAttribute(S)).filter(S=>S?A.includes(S):!1);if(j.length&&j){const S=N.getAttribute("content");if(S)return S}}return""}function o(){let A=n("name","og:site_name","og:title","twitter:title");return A||(A=e.title),A}function i(){return n("description","og:description","twitter:description","keywords")}const h=o(),l=i(),_=t.origin,v=r();return{description:l,url:_,icons:v,name:h}}$i=vn.getWindowMetadata=za;var $a=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],h=0,l=i.length;h<l;h++,o++)n[o]=i[h];return n},Ja=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),Va=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),Ka=function(){function e(t,r,n,o){this.name=t,this.version=r,this.os=n,this.bot=o,this.type="bot-device"}return e}(),Ga=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),Ya=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),Qa=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Xa=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Kn=3,Za=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",Qa]],Gn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ts(e){return e?Yn(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ya:typeof navigator<"u"?Yn(navigator.userAgent):ns()}function es(e){return e!==""&&Za.reduce(function(t,r){var n=r[0],o=r[1];if(t)return t;var i=o.exec(e);return!!i&&[n,i]},!1)}function Yn(e){var t=es(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new Ga;var o=n[1]&&n[1].split(/[._]/).slice(0,3);o?o.length<Kn&&(o=$a(o,is(Kn-o.length))):o=[];var i=o.join("."),h=rs(e),l=Xa.exec(e);return l&&l[1]?new Ka(r,i,h,l[1]):new Ja(r,i,h)}function rs(e){for(var t=0,r=Gn.length;t<r;t++){var n=Gn[t],o=n[0],i=n[1],h=i.exec(e);if(h)return o}return null}function ns(){var e=typeof process<"u"&&process.version;return e?new Va(process.version.slice(1)):null}function is(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function pr(e){return ts(e)}function _r(){const e=pr();return e&&e.os?e.os:void 0}function Ji(){const e=_r();return e?e.toLowerCase().includes("android"):!1}function Vi(){const e=_r();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Ki(){return _r()?Ji()||Vi():!1}function Gi(){const e=pr();return e&&e.name?e.name.toLowerCase()==="node":!1}function Yi(){return!Gi()&&!!Xi()}const Qi=Ni,os=Li,as=Pi,ss=Ui,us=Fi,Xi=Di,cs=qi,Zi=Hi,ls=Wi,fs=ji,hs=zi,gr=Oi;function Qr(){return $i()}function ds(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}function ps(e){return typeof e=="string"?e:JSON.stringify(e)}const to=ds,eo=ps;function mn(e,t){const r=eo(t),n=gr();n&&n.setItem(e,r)}function yn(e){let t=null,r=null;const n=gr();return n&&(r=n.getItem(e)),t=r&&to(r),t}function wn(e){const t=gr();t&&t.removeItem(e)}const ir="WALLETCONNECT_DEEPLINK_CHOICE";function _s(e,t){const r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function gs(e){const t=e.href.split("?")[0];mn(ir,Object.assign(Object.assign({},e),{href:t}))}function ro(e,t){return e.filter(r=>r.name.toLowerCase().includes(t.toLowerCase()))[0]}function vs(e,t){let r=e;return t&&(r=t.map(n=>ro(e,n)).filter(Boolean)),r}const no="https://registry.walletconnect.com";function ms(){return no+"/api/v2/wallets"}function ys(){return no+"/api/v2/dapps"}function io(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:(r=e.image_url.sm)!==null&&r!==void 0?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function ws(e,t="mobile"){return Object.values(e).filter(r=>!!r[t].universal||!!r[t].native).map(r=>io(r,t))}const bs=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:pr,detectOS:_r,formatIOSMobile:_s,formatMobileRegistry:ws,formatMobileRegistryEntry:io,getClientMeta:Qr,getCrypto:fs,getCryptoOrThrow:ls,getDappRegistryUrl:ys,getDocument:ss,getDocumentOrThrow:as,getFromWindow:Qi,getFromWindowOrThrow:os,getLocal:yn,getLocalStorage:gr,getLocalStorageOrThrow:hs,getLocation:Zi,getLocationOrThrow:cs,getMobileLinkRegistry:vs,getMobileRegistryEntry:ro,getNavigator:Xi,getNavigatorOrThrow:us,getWalletRegistryUrl:ms,isAndroid:Ji,isBrowser:Yi,isIOS:Vi,isMobile:Ki,isNode:Gi,mobileLinkChoiceKey:ir,removeLocal:wn,safeJsonParse:to,safeJsonStringify:eo,saveMobileLinkInfo:gs,setLocal:mn},Symbol.toStringTag,{value:"Module"})),xs=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],bn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],Ms={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var xn={exports:{}};const Es={},Ss=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"})),Ve=hr(Ss);xn.exports;(function(e){(function(t,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function o(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof t=="object"?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var h;try{h=Ve.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,p){if(typeof a=="number")return this._initNumber(a,f,p);if(typeof a=="object")return this._initArray(a,f,p);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&g++,f===16?this._parseHex(a,g):this._parseBase(a,f,g),a[0]==="-"&&(this.negative=1),this.strip(),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initNumber=function(a,f,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(a,f,p){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var x,C,I=0;if(p==="be")for(g=a.length-1,x=0;g>=0;g-=3)C=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[x]|=C<<I&67108863,this.words[x+1]=C>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);else if(p==="le")for(g=0,x=0;g<a.length;g+=3)C=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[x]|=C<<I&67108863,this.words[x+1]=C>>>26-I&67108863,I+=24,I>=26&&(I-=26,x++);return this.strip()};function l(E,a,f){for(var p=0,g=Math.min(E.length,f),x=a;x<g;x++){var C=E.charCodeAt(x)-48;p<<=4,C>=49&&C<=54?p|=C-49+10:C>=17&&C<=22?p|=C-17+10:p|=C&15}return p}i.prototype._parseHex=function(a,f){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,x,C=0;for(p=a.length-6,g=0;p>=f;p-=6)x=l(a,p,p+6),this.words[g]|=x<<C&67108863,this.words[g+1]|=x>>>26-C&4194303,C+=24,C>=26&&(C-=26,g++);p+6!==f&&(x=l(a,f,p+6),this.words[g]|=x<<C&67108863,this.words[g+1]|=x>>>26-C&4194303),this.strip()};function _(E,a,f,p){for(var g=0,x=Math.min(E.length,f),C=a;C<x;C++){var I=E.charCodeAt(C)-48;g*=p,I>=49?g+=I-49+10:I>=17?g+=I-17+10:g+=I}return g}i.prototype._parseBase=function(a,f,p){this.words=[0],this.length=1;for(var g=0,x=1;x<=67108863;x*=f)g++;g--,x=x/f|0;for(var C=a.length-p,I=C%g,w=Math.min(C,C-I)+p,s=0,b=p;b<w;b+=g)s=_(a,b,b+g,f),this.imuln(x),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(I!==0){var $=1;for(s=_(a,b,a.length,f),b=0;b<I;b++)$*=f;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var p;if(a===16||a==="hex"){p="";for(var g=0,x=0,C=0;C<this.length;C++){var I=this.words[C],w=((I<<g|x)&16777215).toString(16);x=I>>>24-g&16777215,x!==0||C!==this.length-1?p=v[6-w.length]+w+p:p=w+p,g+=2,g>=26&&(g-=26,C--)}for(x!==0&&(p=x.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var s=y[a],b=A[a];p="";var $=this.clone();for($.negative=0;!$.isZero();){var W=$.modn(b).toString(a);$=$.idivn(b),$.isZero()?p=W+p:p=v[s-W.length]+W+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof h<"u"),this.toArrayLike(h,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,p){var g=this.byteLength(),x=p||Math.max(1,g);n(g<=x,"byte array longer than desired length"),n(x>0,"Requested array length <= 0"),this.strip();var C=f==="le",I=new a(x),w,s,b=this.clone();if(C){for(s=0;!b.isZero();s++)w=b.andln(255),b.iushrn(8),I[s]=w;for(;s<x;s++)I[s]=0}else{for(s=0;s<x-g;s++)I[s]=0;for(s=0;!b.isZero();s++)w=b.andln(255),b.iushrn(8),I[x-s-1]=w}return I},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function B(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var p=f/26|0,g=f%26;a[f]=(E.words[p]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,p;this.length>a.length?(f=this,p=a):(f=a,p=this);for(var g=0;g<p.length;g++)this.words[g]=f.words[g]^p.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,p=a%26;this._expand(f),p>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var p=a/26|0,g=a%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var p,g;this.length>a.length?(p=this,g=a):(p=a,g=this);for(var x=0,C=0;C<g.length;C++)f=(p.words[C]|0)+(g.words[C]|0)+x,this.words[C]=f&67108863,x=f>>>26;for(;x!==0&&C<p.length;C++)f=(p.words[C]|0)+x,this.words[C]=f&67108863,x=f>>>26;if(this.length=p.length,x!==0)this.words[this.length]=x,this.length++;else if(p!==this)for(;C<p.length;C++)this.words[C]=p.words[C];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,x;p>0?(g=this,x=a):(g=a,x=this);for(var C=0,I=0;I<x.length;I++)f=(g.words[I]|0)-(x.words[I]|0)+C,C=f>>26,this.words[I]=f&67108863;for(;C!==0&&I<g.length;I++)f=(g.words[I]|0)+C,C=f>>26,this.words[I]=f&67108863;if(C===0&&I<g.length&&g!==this)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=Math.max(this.length,I),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function U(E,a,f){f.negative=a.negative^E.negative;var p=E.length+a.length|0;f.length=p,p=p-1|0;var g=E.words[0]|0,x=a.words[0]|0,C=g*x,I=C&67108863,w=C/67108864|0;f.words[0]=I;for(var s=1;s<p;s++){for(var b=w>>>26,$=w&67108863,W=Math.min(s,a.length-1),X=Math.max(0,s-E.length+1);X<=W;X++){var nt=s-X|0;g=E.words[nt]|0,x=a.words[X]|0,C=g*x+$,b+=C/67108864|0,$=C&67108863}f.words[s]=$|0,w=b|0}return w!==0?f.words[s]=w|0:f.length--,f.strip()}var N=function(a,f,p){var g=a.words,x=f.words,C=p.words,I=0,w,s,b,$=g[0]|0,W=$&8191,X=$>>>13,nt=g[1]|0,d=nt&8191,P=nt>>>13,q=g[2]|0,D=q&8191,z=q>>>13,tt=g[3]|0,G=tt&8191,J=tt>>>13,lt=g[4]|0,Y=lt&8191,st=lt>>>13,m=g[5]|0,u=m&8191,c=m>>>13,M=g[6]|0,k=M&8191,L=M>>>13,H=g[7]|0,Z=H&8191,et=H>>>13,ft=g[8]|0,ut=ft&8191,ot=ft>>>13,qt=g[9]|0,dt=qt&8191,pt=qt>>>13,le=x[0]|0,gt=le&8191,vt=le>>>13,fe=x[1]|0,mt=fe&8191,yt=fe>>>13,he=x[2]|0,wt=he&8191,bt=he>>>13,de=x[3]|0,xt=de&8191,Mt=de>>>13,pe=x[4]|0,Et=pe&8191,St=pe>>>13,_e=x[5]|0,Ct=_e&8191,kt=_e>>>13,ge=x[6]|0,At=ge&8191,Rt=ge>>>13,ve=x[7]|0,It=ve&8191,Tt=ve>>>13,me=x[8]|0,Bt=me&8191,Ot=me>>>13,ye=x[9]|0,Nt=ye&8191,Lt=ye>>>13;p.negative=a.negative^f.negative,p.length=19,w=Math.imul(W,gt),s=Math.imul(W,vt),s=s+Math.imul(X,gt)|0,b=Math.imul(X,vt);var Yt=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,w=Math.imul(d,gt),s=Math.imul(d,vt),s=s+Math.imul(P,gt)|0,b=Math.imul(P,vt),w=w+Math.imul(W,mt)|0,s=s+Math.imul(W,yt)|0,s=s+Math.imul(X,mt)|0,b=b+Math.imul(X,yt)|0;var Qt=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,w=Math.imul(D,gt),s=Math.imul(D,vt),s=s+Math.imul(z,gt)|0,b=Math.imul(z,vt),w=w+Math.imul(d,mt)|0,s=s+Math.imul(d,yt)|0,s=s+Math.imul(P,mt)|0,b=b+Math.imul(P,yt)|0,w=w+Math.imul(W,wt)|0,s=s+Math.imul(W,bt)|0,s=s+Math.imul(X,wt)|0,b=b+Math.imul(X,bt)|0;var Xt=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,w=Math.imul(G,gt),s=Math.imul(G,vt),s=s+Math.imul(J,gt)|0,b=Math.imul(J,vt),w=w+Math.imul(D,mt)|0,s=s+Math.imul(D,yt)|0,s=s+Math.imul(z,mt)|0,b=b+Math.imul(z,yt)|0,w=w+Math.imul(d,wt)|0,s=s+Math.imul(d,bt)|0,s=s+Math.imul(P,wt)|0,b=b+Math.imul(P,bt)|0,w=w+Math.imul(W,xt)|0,s=s+Math.imul(W,Mt)|0,s=s+Math.imul(X,xt)|0,b=b+Math.imul(X,Mt)|0;var Zt=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,w=Math.imul(Y,gt),s=Math.imul(Y,vt),s=s+Math.imul(st,gt)|0,b=Math.imul(st,vt),w=w+Math.imul(G,mt)|0,s=s+Math.imul(G,yt)|0,s=s+Math.imul(J,mt)|0,b=b+Math.imul(J,yt)|0,w=w+Math.imul(D,wt)|0,s=s+Math.imul(D,bt)|0,s=s+Math.imul(z,wt)|0,b=b+Math.imul(z,bt)|0,w=w+Math.imul(d,xt)|0,s=s+Math.imul(d,Mt)|0,s=s+Math.imul(P,xt)|0,b=b+Math.imul(P,Mt)|0,w=w+Math.imul(W,Et)|0,s=s+Math.imul(W,St)|0,s=s+Math.imul(X,Et)|0,b=b+Math.imul(X,St)|0;var te=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(te>>>26)|0,te&=67108863,w=Math.imul(u,gt),s=Math.imul(u,vt),s=s+Math.imul(c,gt)|0,b=Math.imul(c,vt),w=w+Math.imul(Y,mt)|0,s=s+Math.imul(Y,yt)|0,s=s+Math.imul(st,mt)|0,b=b+Math.imul(st,yt)|0,w=w+Math.imul(G,wt)|0,s=s+Math.imul(G,bt)|0,s=s+Math.imul(J,wt)|0,b=b+Math.imul(J,bt)|0,w=w+Math.imul(D,xt)|0,s=s+Math.imul(D,Mt)|0,s=s+Math.imul(z,xt)|0,b=b+Math.imul(z,Mt)|0,w=w+Math.imul(d,Et)|0,s=s+Math.imul(d,St)|0,s=s+Math.imul(P,Et)|0,b=b+Math.imul(P,St)|0,w=w+Math.imul(W,Ct)|0,s=s+Math.imul(W,kt)|0,s=s+Math.imul(X,Ct)|0,b=b+Math.imul(X,kt)|0;var ee=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(ee>>>26)|0,ee&=67108863,w=Math.imul(k,gt),s=Math.imul(k,vt),s=s+Math.imul(L,gt)|0,b=Math.imul(L,vt),w=w+Math.imul(u,mt)|0,s=s+Math.imul(u,yt)|0,s=s+Math.imul(c,mt)|0,b=b+Math.imul(c,yt)|0,w=w+Math.imul(Y,wt)|0,s=s+Math.imul(Y,bt)|0,s=s+Math.imul(st,wt)|0,b=b+Math.imul(st,bt)|0,w=w+Math.imul(G,xt)|0,s=s+Math.imul(G,Mt)|0,s=s+Math.imul(J,xt)|0,b=b+Math.imul(J,Mt)|0,w=w+Math.imul(D,Et)|0,s=s+Math.imul(D,St)|0,s=s+Math.imul(z,Et)|0,b=b+Math.imul(z,St)|0,w=w+Math.imul(d,Ct)|0,s=s+Math.imul(d,kt)|0,s=s+Math.imul(P,Ct)|0,b=b+Math.imul(P,kt)|0,w=w+Math.imul(W,At)|0,s=s+Math.imul(W,Rt)|0,s=s+Math.imul(X,At)|0,b=b+Math.imul(X,Rt)|0;var re=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(re>>>26)|0,re&=67108863,w=Math.imul(Z,gt),s=Math.imul(Z,vt),s=s+Math.imul(et,gt)|0,b=Math.imul(et,vt),w=w+Math.imul(k,mt)|0,s=s+Math.imul(k,yt)|0,s=s+Math.imul(L,mt)|0,b=b+Math.imul(L,yt)|0,w=w+Math.imul(u,wt)|0,s=s+Math.imul(u,bt)|0,s=s+Math.imul(c,wt)|0,b=b+Math.imul(c,bt)|0,w=w+Math.imul(Y,xt)|0,s=s+Math.imul(Y,Mt)|0,s=s+Math.imul(st,xt)|0,b=b+Math.imul(st,Mt)|0,w=w+Math.imul(G,Et)|0,s=s+Math.imul(G,St)|0,s=s+Math.imul(J,Et)|0,b=b+Math.imul(J,St)|0,w=w+Math.imul(D,Ct)|0,s=s+Math.imul(D,kt)|0,s=s+Math.imul(z,Ct)|0,b=b+Math.imul(z,kt)|0,w=w+Math.imul(d,At)|0,s=s+Math.imul(d,Rt)|0,s=s+Math.imul(P,At)|0,b=b+Math.imul(P,Rt)|0,w=w+Math.imul(W,It)|0,s=s+Math.imul(W,Tt)|0,s=s+Math.imul(X,It)|0,b=b+Math.imul(X,Tt)|0;var ne=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(ne>>>26)|0,ne&=67108863,w=Math.imul(ut,gt),s=Math.imul(ut,vt),s=s+Math.imul(ot,gt)|0,b=Math.imul(ot,vt),w=w+Math.imul(Z,mt)|0,s=s+Math.imul(Z,yt)|0,s=s+Math.imul(et,mt)|0,b=b+Math.imul(et,yt)|0,w=w+Math.imul(k,wt)|0,s=s+Math.imul(k,bt)|0,s=s+Math.imul(L,wt)|0,b=b+Math.imul(L,bt)|0,w=w+Math.imul(u,xt)|0,s=s+Math.imul(u,Mt)|0,s=s+Math.imul(c,xt)|0,b=b+Math.imul(c,Mt)|0,w=w+Math.imul(Y,Et)|0,s=s+Math.imul(Y,St)|0,s=s+Math.imul(st,Et)|0,b=b+Math.imul(st,St)|0,w=w+Math.imul(G,Ct)|0,s=s+Math.imul(G,kt)|0,s=s+Math.imul(J,Ct)|0,b=b+Math.imul(J,kt)|0,w=w+Math.imul(D,At)|0,s=s+Math.imul(D,Rt)|0,s=s+Math.imul(z,At)|0,b=b+Math.imul(z,Rt)|0,w=w+Math.imul(d,It)|0,s=s+Math.imul(d,Tt)|0,s=s+Math.imul(P,It)|0,b=b+Math.imul(P,Tt)|0,w=w+Math.imul(W,Bt)|0,s=s+Math.imul(W,Ot)|0,s=s+Math.imul(X,Bt)|0,b=b+Math.imul(X,Ot)|0;var Ar=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,w=Math.imul(dt,gt),s=Math.imul(dt,vt),s=s+Math.imul(pt,gt)|0,b=Math.imul(pt,vt),w=w+Math.imul(ut,mt)|0,s=s+Math.imul(ut,yt)|0,s=s+Math.imul(ot,mt)|0,b=b+Math.imul(ot,yt)|0,w=w+Math.imul(Z,wt)|0,s=s+Math.imul(Z,bt)|0,s=s+Math.imul(et,wt)|0,b=b+Math.imul(et,bt)|0,w=w+Math.imul(k,xt)|0,s=s+Math.imul(k,Mt)|0,s=s+Math.imul(L,xt)|0,b=b+Math.imul(L,Mt)|0,w=w+Math.imul(u,Et)|0,s=s+Math.imul(u,St)|0,s=s+Math.imul(c,Et)|0,b=b+Math.imul(c,St)|0,w=w+Math.imul(Y,Ct)|0,s=s+Math.imul(Y,kt)|0,s=s+Math.imul(st,Ct)|0,b=b+Math.imul(st,kt)|0,w=w+Math.imul(G,At)|0,s=s+Math.imul(G,Rt)|0,s=s+Math.imul(J,At)|0,b=b+Math.imul(J,Rt)|0,w=w+Math.imul(D,It)|0,s=s+Math.imul(D,Tt)|0,s=s+Math.imul(z,It)|0,b=b+Math.imul(z,Tt)|0,w=w+Math.imul(d,Bt)|0,s=s+Math.imul(d,Ot)|0,s=s+Math.imul(P,Bt)|0,b=b+Math.imul(P,Ot)|0,w=w+Math.imul(W,Nt)|0,s=s+Math.imul(W,Lt)|0,s=s+Math.imul(X,Nt)|0,b=b+Math.imul(X,Lt)|0;var Rr=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,w=Math.imul(dt,mt),s=Math.imul(dt,yt),s=s+Math.imul(pt,mt)|0,b=Math.imul(pt,yt),w=w+Math.imul(ut,wt)|0,s=s+Math.imul(ut,bt)|0,s=s+Math.imul(ot,wt)|0,b=b+Math.imul(ot,bt)|0,w=w+Math.imul(Z,xt)|0,s=s+Math.imul(Z,Mt)|0,s=s+Math.imul(et,xt)|0,b=b+Math.imul(et,Mt)|0,w=w+Math.imul(k,Et)|0,s=s+Math.imul(k,St)|0,s=s+Math.imul(L,Et)|0,b=b+Math.imul(L,St)|0,w=w+Math.imul(u,Ct)|0,s=s+Math.imul(u,kt)|0,s=s+Math.imul(c,Ct)|0,b=b+Math.imul(c,kt)|0,w=w+Math.imul(Y,At)|0,s=s+Math.imul(Y,Rt)|0,s=s+Math.imul(st,At)|0,b=b+Math.imul(st,Rt)|0,w=w+Math.imul(G,It)|0,s=s+Math.imul(G,Tt)|0,s=s+Math.imul(J,It)|0,b=b+Math.imul(J,Tt)|0,w=w+Math.imul(D,Bt)|0,s=s+Math.imul(D,Ot)|0,s=s+Math.imul(z,Bt)|0,b=b+Math.imul(z,Ot)|0,w=w+Math.imul(d,Nt)|0,s=s+Math.imul(d,Lt)|0,s=s+Math.imul(P,Nt)|0,b=b+Math.imul(P,Lt)|0;var Ir=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,w=Math.imul(dt,wt),s=Math.imul(dt,bt),s=s+Math.imul(pt,wt)|0,b=Math.imul(pt,bt),w=w+Math.imul(ut,xt)|0,s=s+Math.imul(ut,Mt)|0,s=s+Math.imul(ot,xt)|0,b=b+Math.imul(ot,Mt)|0,w=w+Math.imul(Z,Et)|0,s=s+Math.imul(Z,St)|0,s=s+Math.imul(et,Et)|0,b=b+Math.imul(et,St)|0,w=w+Math.imul(k,Ct)|0,s=s+Math.imul(k,kt)|0,s=s+Math.imul(L,Ct)|0,b=b+Math.imul(L,kt)|0,w=w+Math.imul(u,At)|0,s=s+Math.imul(u,Rt)|0,s=s+Math.imul(c,At)|0,b=b+Math.imul(c,Rt)|0,w=w+Math.imul(Y,It)|0,s=s+Math.imul(Y,Tt)|0,s=s+Math.imul(st,It)|0,b=b+Math.imul(st,Tt)|0,w=w+Math.imul(G,Bt)|0,s=s+Math.imul(G,Ot)|0,s=s+Math.imul(J,Bt)|0,b=b+Math.imul(J,Ot)|0,w=w+Math.imul(D,Nt)|0,s=s+Math.imul(D,Lt)|0,s=s+Math.imul(z,Nt)|0,b=b+Math.imul(z,Lt)|0;var Tr=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,w=Math.imul(dt,xt),s=Math.imul(dt,Mt),s=s+Math.imul(pt,xt)|0,b=Math.imul(pt,Mt),w=w+Math.imul(ut,Et)|0,s=s+Math.imul(ut,St)|0,s=s+Math.imul(ot,Et)|0,b=b+Math.imul(ot,St)|0,w=w+Math.imul(Z,Ct)|0,s=s+Math.imul(Z,kt)|0,s=s+Math.imul(et,Ct)|0,b=b+Math.imul(et,kt)|0,w=w+Math.imul(k,At)|0,s=s+Math.imul(k,Rt)|0,s=s+Math.imul(L,At)|0,b=b+Math.imul(L,Rt)|0,w=w+Math.imul(u,It)|0,s=s+Math.imul(u,Tt)|0,s=s+Math.imul(c,It)|0,b=b+Math.imul(c,Tt)|0,w=w+Math.imul(Y,Bt)|0,s=s+Math.imul(Y,Ot)|0,s=s+Math.imul(st,Bt)|0,b=b+Math.imul(st,Ot)|0,w=w+Math.imul(G,Nt)|0,s=s+Math.imul(G,Lt)|0,s=s+Math.imul(J,Nt)|0,b=b+Math.imul(J,Lt)|0;var Br=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(dt,Et),s=Math.imul(dt,St),s=s+Math.imul(pt,Et)|0,b=Math.imul(pt,St),w=w+Math.imul(ut,Ct)|0,s=s+Math.imul(ut,kt)|0,s=s+Math.imul(ot,Ct)|0,b=b+Math.imul(ot,kt)|0,w=w+Math.imul(Z,At)|0,s=s+Math.imul(Z,Rt)|0,s=s+Math.imul(et,At)|0,b=b+Math.imul(et,Rt)|0,w=w+Math.imul(k,It)|0,s=s+Math.imul(k,Tt)|0,s=s+Math.imul(L,It)|0,b=b+Math.imul(L,Tt)|0,w=w+Math.imul(u,Bt)|0,s=s+Math.imul(u,Ot)|0,s=s+Math.imul(c,Bt)|0,b=b+Math.imul(c,Ot)|0,w=w+Math.imul(Y,Nt)|0,s=s+Math.imul(Y,Lt)|0,s=s+Math.imul(st,Nt)|0,b=b+Math.imul(st,Lt)|0;var Or=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Or>>>26)|0,Or&=67108863,w=Math.imul(dt,Ct),s=Math.imul(dt,kt),s=s+Math.imul(pt,Ct)|0,b=Math.imul(pt,kt),w=w+Math.imul(ut,At)|0,s=s+Math.imul(ut,Rt)|0,s=s+Math.imul(ot,At)|0,b=b+Math.imul(ot,Rt)|0,w=w+Math.imul(Z,It)|0,s=s+Math.imul(Z,Tt)|0,s=s+Math.imul(et,It)|0,b=b+Math.imul(et,Tt)|0,w=w+Math.imul(k,Bt)|0,s=s+Math.imul(k,Ot)|0,s=s+Math.imul(L,Bt)|0,b=b+Math.imul(L,Ot)|0,w=w+Math.imul(u,Nt)|0,s=s+Math.imul(u,Lt)|0,s=s+Math.imul(c,Nt)|0,b=b+Math.imul(c,Lt)|0;var Nr=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,w=Math.imul(dt,At),s=Math.imul(dt,Rt),s=s+Math.imul(pt,At)|0,b=Math.imul(pt,Rt),w=w+Math.imul(ut,It)|0,s=s+Math.imul(ut,Tt)|0,s=s+Math.imul(ot,It)|0,b=b+Math.imul(ot,Tt)|0,w=w+Math.imul(Z,Bt)|0,s=s+Math.imul(Z,Ot)|0,s=s+Math.imul(et,Bt)|0,b=b+Math.imul(et,Ot)|0,w=w+Math.imul(k,Nt)|0,s=s+Math.imul(k,Lt)|0,s=s+Math.imul(L,Nt)|0,b=b+Math.imul(L,Lt)|0;var Lr=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,w=Math.imul(dt,It),s=Math.imul(dt,Tt),s=s+Math.imul(pt,It)|0,b=Math.imul(pt,Tt),w=w+Math.imul(ut,Bt)|0,s=s+Math.imul(ut,Ot)|0,s=s+Math.imul(ot,Bt)|0,b=b+Math.imul(ot,Ot)|0,w=w+Math.imul(Z,Nt)|0,s=s+Math.imul(Z,Lt)|0,s=s+Math.imul(et,Nt)|0,b=b+Math.imul(et,Lt)|0;var Pr=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,w=Math.imul(dt,Bt),s=Math.imul(dt,Ot),s=s+Math.imul(pt,Bt)|0,b=Math.imul(pt,Ot),w=w+Math.imul(ut,Nt)|0,s=s+Math.imul(ut,Lt)|0,s=s+Math.imul(ot,Nt)|0,b=b+Math.imul(ot,Lt)|0;var Ur=(I+w|0)+((s&8191)<<13)|0;I=(b+(s>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,w=Math.imul(dt,Nt),s=Math.imul(dt,Lt),s=s+Math.imul(pt,Nt)|0,b=Math.imul(pt,Lt);var Fr=(I+w|0)+((s&8191)<<13)|0;return I=(b+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,C[0]=Yt,C[1]=Qt,C[2]=Xt,C[3]=Zt,C[4]=te,C[5]=ee,C[6]=re,C[7]=ne,C[8]=Ar,C[9]=Rr,C[10]=Ir,C[11]=Tr,C[12]=Br,C[13]=Or,C[14]=Nr,C[15]=Lr,C[16]=Pr,C[17]=Ur,C[18]=Fr,I!==0&&(C[19]=I,p.length++),p};Math.imul||(N=U);function j(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var p=0,g=0,x=0;x<f.length-1;x++){var C=g;g=0;for(var I=p&67108863,w=Math.min(x,a.length-1),s=Math.max(0,x-E.length+1);s<=w;s++){var b=x-s,$=E.words[b]|0,W=a.words[s]|0,X=$*W,nt=X&67108863;C=C+(X/67108864|0)|0,nt=nt+I|0,I=nt&67108863,C=C+(nt>>>26)|0,g+=C>>>26,C&=67108863}f.words[x]=I,p=C,C=g}return p!==0?f.words[x]=p:f.length--,f.strip()}function S(E,a,f){var p=new R;return p.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var p,g=this.length+a.length;return this.length===10&&a.length===10?p=N(this,a,f):g<63?p=U(this,a,f):g<1024?p=j(this,a,f):p=S(this,a,f),p};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),p=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,p,a);return f},R.prototype.revBin=function(a,f,p){if(a===0||a===p-1)return a;for(var g=0,x=0;x<f;x++)g|=(a&1)<<f-x-1,a>>=1;return g},R.prototype.permute=function(a,f,p,g,x,C){for(var I=0;I<C;I++)g[I]=f[a[I]],x[I]=p[a[I]]},R.prototype.transform=function(a,f,p,g,x,C){this.permute(C,a,f,p,g,x);for(var I=1;I<x;I<<=1)for(var w=I<<1,s=Math.cos(2*Math.PI/w),b=Math.sin(2*Math.PI/w),$=0;$<x;$+=w)for(var W=s,X=b,nt=0;nt<I;nt++){var d=p[$+nt],P=g[$+nt],q=p[$+nt+I],D=g[$+nt+I],z=W*q-X*D;D=W*D+X*q,q=z,p[$+nt]=d+q,g[$+nt]=P+D,p[$+nt+I]=d-q,g[$+nt+I]=P-D,nt!==w&&(z=s*W-b*X,X=s*X+b*W,W=z)}},R.prototype.guessLen13b=function(a,f){var p=Math.max(f,a)|1,g=p&1,x=0;for(p=p/2|0;p;p=p>>>1)x++;return 1<<x+1+g},R.prototype.conjugate=function(a,f,p){if(!(p<=1))for(var g=0;g<p/2;g++){var x=a[g];a[g]=a[p-g-1],a[p-g-1]=x,x=f[g],f[g]=-f[p-g-1],f[p-g-1]=-x}},R.prototype.normalize13b=function(a,f){for(var p=0,g=0;g<f/2;g++){var x=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+p;a[g]=x&67108863,x<67108864?p=0:p=x/67108864|0}return a},R.prototype.convert13b=function(a,f,p,g){for(var x=0,C=0;C<f;C++)x=x+(a[C]|0),p[2*C]=x&8191,x=x>>>13,p[2*C+1]=x&8191,x=x>>>13;for(C=2*f;C<g;++C)p[C]=0;n(x===0),n((x&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),p=0;p<a;p++)f[p]=0;return f},R.prototype.mulp=function(a,f,p){var g=2*this.guessLen13b(a.length,f.length),x=this.makeRBT(g),C=this.stub(g),I=new Array(g),w=new Array(g),s=new Array(g),b=new Array(g),$=new Array(g),W=new Array(g),X=p.words;X.length=g,this.convert13b(a.words,a.length,I,g),this.convert13b(f.words,f.length,b,g),this.transform(I,C,w,s,g,x),this.transform(b,C,$,W,g,x);for(var nt=0;nt<g;nt++){var d=w[nt]*$[nt]-s[nt]*W[nt];s[nt]=w[nt]*W[nt]+s[nt]*$[nt],w[nt]=d}return this.conjugate(w,s,g),this.transform(w,s,X,C,g,x),this.conjugate(X,C,g),this.normalize13b(X,g),p.negative=a.negative^f.negative,p.length=a.length+f.length,p.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),S(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*a,x=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=x>>>26,this.words[p]=x&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=B(a);if(f.length===0)return new i(1);for(var p=this,g=0;g<f.length&&f[g]===0;g++,p=p.sqr());if(++g<f.length)for(var x=p.sqr();g<f.length;g++,x=x.sqr())f[g]!==0&&(p=p.mul(x));return p},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,g=67108863>>>26-f<<26-f,x;if(f!==0){var C=0;for(x=0;x<this.length;x++){var I=this.words[x]&g,w=(this.words[x]|0)-I<<f;this.words[x]=w|C,C=I>>>26-f}C&&(this.words[x]=C,this.length++)}if(p!==0){for(x=this.length-1;x>=0;x--)this.words[x+p]=this.words[x];for(x=0;x<p;x++)this.words[x]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,p){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var x=a%26,C=Math.min((a-x)/26,this.length),I=67108863^67108863>>>x<<x,w=p;if(g-=C,g=Math.max(0,g),w){for(var s=0;s<C;s++)w.words[s]=this.words[s];w.length=C}if(C!==0)if(this.length>C)for(this.length-=C,s=0;s<this.length;s++)this.words[s]=this.words[s+C];else this.words[0]=0,this.length=1;var b=0;for(s=this.length-1;s>=0&&(b!==0||s>=g);s--){var $=this.words[s]|0;this.words[s]=b<<26-x|$>>>x,b=$&I}return w&&b!==0&&(w.words[w.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,p){return n(this.negative===0),this.iushrn(a,f,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26,g=1<<f;if(this.length<=p)return!1;var x=this.words[p];return!!(x&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,p=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,p){var g=a.length+p,x;this._expand(g);var C,I=0;for(x=0;x<a.length;x++){C=(this.words[x+p]|0)+I;var w=(a.words[x]|0)*f;C-=w&67108863,I=(C>>26)-(w/67108864|0),this.words[x+p]=C&67108863}for(;x<this.length-p;x++)C=(this.words[x+p]|0)+I,I=C>>26,this.words[x+p]=C&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,x=0;x<this.length;x++)C=-(this.words[x]|0)+I,I=C>>26,this.words[x]=C&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var p=this.length-a.length,g=this.clone(),x=a,C=x.words[x.length-1]|0,I=this._countBits(C);p=26-I,p!==0&&(x=x.ushln(p),g.iushln(p),C=x.words[x.length-1]|0);var w=g.length-x.length,s;if(f!=="mod"){s=new i(null),s.length=w+1,s.words=new Array(s.length);for(var b=0;b<s.length;b++)s.words[b]=0}var $=g.clone()._ishlnsubmul(x,1,w);$.negative===0&&(g=$,s&&(s.words[w]=1));for(var W=w-1;W>=0;W--){var X=(g.words[x.length+W]|0)*67108864+(g.words[x.length+W-1]|0);for(X=Math.min(X/C|0,67108863),g._ishlnsubmul(x,X,W);g.negative!==0;)X--,g.negative=0,g._ishlnsubmul(x,1,W),g.isZero()||(g.negative^=1);s&&(s.words[W]=X)}return s&&s.strip(),g.strip(),f!=="div"&&p!==0&&g.iushrn(p),{div:s||null,mod:g}},i.prototype.divmod=function(a,f,p){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,x,C;return this.negative!==0&&a.negative===0?(C=this.neg().divmod(a,f),f!=="mod"&&(g=C.div.neg()),f!=="div"&&(x=C.mod.neg(),p&&x.negative!==0&&x.iadd(a)),{div:g,mod:x}):this.negative===0&&a.negative!==0?(C=this.divmod(a.neg(),f),f!=="mod"&&(g=C.div.neg()),{div:g,mod:C.mod}):this.negative&a.negative?(C=this.neg().divmod(a.neg(),f),f!=="div"&&(x=C.mod.neg(),p&&x.negative!==0&&x.isub(a)),{div:C.div,mod:x}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),x=a.andln(1),C=p.cmp(g);return C<0||x===1&&C===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,p=0,g=this.length-1;g>=0;g--)p=(f*p+(this.words[g]|0))%a;return p},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+f*67108864;this.words[p]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),x=new i(0),C=new i(0),I=new i(1),w=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++w;for(var s=p.clone(),b=f.clone();!f.isZero();){for(var $=0,W=1;!(f.words[0]&W)&&$<26;++$,W<<=1);if($>0)for(f.iushrn($);$-- >0;)(g.isOdd()||x.isOdd())&&(g.iadd(s),x.isub(b)),g.iushrn(1),x.iushrn(1);for(var X=0,nt=1;!(p.words[0]&nt)&&X<26;++X,nt<<=1);if(X>0)for(p.iushrn(X);X-- >0;)(C.isOdd()||I.isOdd())&&(C.iadd(s),I.isub(b)),C.iushrn(1),I.iushrn(1);f.cmp(p)>=0?(f.isub(p),g.isub(C),x.isub(I)):(p.isub(f),C.isub(g),I.isub(x))}return{a:C,b:I,gcd:p.iushln(w)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,p=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),x=new i(0),C=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var I=0,w=1;!(f.words[0]&w)&&I<26;++I,w<<=1);if(I>0)for(f.iushrn(I);I-- >0;)g.isOdd()&&g.iadd(C),g.iushrn(1);for(var s=0,b=1;!(p.words[0]&b)&&s<26;++s,b<<=1);if(s>0)for(p.iushrn(s);s-- >0;)x.isOdd()&&x.iadd(C),x.iushrn(1);f.cmp(p)>=0?(f.isub(p),g.isub(x)):(p.isub(f),x.isub(g))}var $;return f.cmpn(1)===0?$=g:$=x,$.cmpn(0)<0&&$.iadd(a),$},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),p=a.clone();f.negative=0,p.negative=0;for(var g=0;f.isEven()&&p.isEven();g++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var x=f.cmp(p);if(x<0){var C=f;f=p,p=C}else if(x===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,p=(a-f)/26,g=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var x=g,C=p;x!==0&&C<this.length;C++){var I=this.words[C]|0;I+=x,x=I>>>26,I&=67108863,this.words[C]=I}return x!==0&&(this.words[C]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;p=g===a?0:g<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,x=a.words[p]|0;if(g!==x){g<x?f=-1:g>x&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new rt(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var O={k256:null,p224:null,p192:null,p25519:null};function T(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},T.prototype.ireduce=function(a){var f=a,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var g=p<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip(),f},T.prototype.split=function(a,f){a.iushrn(this.n,0,f)},T.prototype.imulK=function(a){return a.imul(this.k)};function F(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,T),F.prototype.split=function(a,f){for(var p=4194303,g=Math.min(a.length,9),x=0;x<g;x++)f.words[x]=a.words[x];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var C=a.words[9];for(f.words[f.length++]=C&p,x=10;x<a.length;x++){var I=a.words[x]|0;a.words[x-10]=(I&p)<<4|C>>>22,C=I}C>>>=22,a.words[x-10]=C,C===0&&a.length>10?a.length-=10:a.length-=9},F.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,p=0;p<a.length;p++){var g=a.words[p]|0;f+=g*977,a.words[p]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function V(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,T);function Q(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Q,T);function it(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(it,T),it.prototype.imulK=function(a){for(var f=0,p=0;p<a.length;p++){var g=(a.words[p]|0)*19+f,x=g&67108863;g>>>=26,a.words[p]=x,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(O[a])return O[a];var f;if(a==="k256")f=new F;else if(a==="p224")f=new V;else if(a==="p192")f=new Q;else if(a==="p25519")f=new it;else throw new Error("Unknown prime "+a);return O[a]=f,f};function rt(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}rt.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},rt.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},rt.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},rt.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},rt.prototype.add=function(a,f){this._verify2(a,f);var p=a.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},rt.prototype.iadd=function(a,f){this._verify2(a,f);var p=a.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},rt.prototype.sub=function(a,f){this._verify2(a,f);var p=a.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},rt.prototype.isub=function(a,f){this._verify2(a,f);var p=a.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},rt.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},rt.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},rt.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},rt.prototype.isqr=function(a){return this.imul(a,a.clone())},rt.prototype.sqr=function(a){return this.mul(a,a)},rt.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var g=this.m.subn(1),x=0;!g.isZero()&&g.andln(1)===0;)x++,g.iushrn(1);n(!g.isZero());var C=new i(1).toRed(this),I=C.redNeg(),w=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,w).cmp(I)!==0;)s.redIAdd(I);for(var b=this.pow(s,g),$=this.pow(a,g.addn(1).iushrn(1)),W=this.pow(a,g),X=x;W.cmp(C)!==0;){for(var nt=W,d=0;nt.cmp(C)!==0;d++)nt=nt.redSqr();n(d<X);var P=this.pow(b,new i(1).iushln(X-d-1));$=$.redMul(P),b=P.redSqr(),W=W.redMul(b),X=d}return $},rt.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},rt.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=a;for(var x=2;x<g.length;x++)g[x]=this.mul(g[x-1],a);var C=g[0],I=0,w=0,s=f.bitLength()%26;for(s===0&&(s=26),x=f.length-1;x>=0;x--){for(var b=f.words[x],$=s-1;$>=0;$--){var W=b>>$&1;if(C!==g[0]&&(C=this.sqr(C)),W===0&&I===0){w=0;continue}I<<=1,I|=W,w++,!(w!==p&&(x!==0||$!==0))&&(C=this.mul(C,g[I]),w=0,I=0)}s=26}return C},rt.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},rt.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ht(a)};function ht(E){rt.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(ht,rt),ht.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ht.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ht.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(f),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=p.isub(g).iushrn(this.shift),C=x;return x.cmp(this.m)>=0?C=x.isub(this.m):x.cmpn(0)<0&&(C=x.iadd(this.m)),C._forceRed(this)},ht.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var p=a.mul(f),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=p.isub(g).iushrn(this.shift),C=x;return x.cmp(this.m)>=0?C=x.isub(this.m):x.cmpn(0)<0&&(C=x.iadd(this.m)),C._forceRed(this)},ht.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(e,Pt)})(xn);var Cs=xn.exports;const ks=dr(Cs);var As=Mn;Mn.strict=oo;Mn.loose=ao;var Rs=Object.prototype.toString,Is={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Mn(e){return oo(e)||ao(e)}function oo(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function ao(e){return Is[Rs.call(e)]}var Ts=As.strict,Bs=function(t){if(Ts(t)){var r=Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return Buffer.from(t)};const Os=dr(Bs),so="hex",uo="utf8",vr="0";function ke(e){return new Uint8Array(e)}function co(e,t=!1){const r=e.toString(so);return t?Le(r):r}function Ns(e){return e.toString(uo)}function mr(e){return Os(e)}function Se(e,t=!1){return co(mr(e),t)}function Ls(e){return Ns(mr(e))}function Ps(e){return Buffer.from(ae(e),so)}function Ce(e){return ke(Ps(e))}function En(e){return Buffer.from(e,uo)}function Us(e){return ke(En(e))}function Fs(e,t=!1){return co(En(e),t)}function Ds(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/))}function lo(...e){let t=[];return e.forEach(r=>t=t.concat(Array.from(r))),new Uint8Array([...t])}function qs(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function Hs(e,t=8,r=vr){return Ws(e,qs(e.length,t),r)}function Ws(e,t,r=vr){return zs(e,t,!0,r)}function ae(e){return e.replace(/^0x/,"")}function Le(e){return e.startsWith("0x")?e:`0x${e}`}function fo(e){return e=ae(e),e=Hs(e,2),e&&(e=Le(e)),e}function js(e){const t=e.startsWith("0x");return e=ae(e),e=e.startsWith(vr)?e.substring(1):e,t?Le(e):e}function zs(e,t,r,n=vr){const o=t-e.length;let i=e;return o>0&&(i=n.repeat(o)+e),i}function Xr(e){return mr(new Uint8Array(e))}function $s(e,t){return Se(new Uint8Array(e),!1)}function Js(e){return ke(e).buffer}function Vs(e){return En(e)}function Ks(e,t){return Fs(e,!0)}function Gs(e){return Ce(e).buffer}function ho(e,t){const r=ae(fo(new ks(e).toString(16)));return t?r:Le(r)}var po={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",o=n?window:{};o.JS_SHA3_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",h=!o.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?o=Pt:i&&(o=self);var l=!o.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,_=!o.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",v="0123456789abcdef".split(""),y=[31,7936,2031616,520093696],A=[4,1024,262144,67108864],B=[1,256,65536,16777216],U=[6,1536,393216,100663296],N=[0,8,16,24],j=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],S=[224,256,384,512],R=[128,256],O=["hex","buffer","arrayBuffer","array","digest"],T={128:168,256:136};(o.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"}),_&&(o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(d){return typeof d=="object"&&d.buffer&&d.buffer.constructor===ArrayBuffer});for(var F=function(d,P,q){return function(D){return new W(d,P,d).update(D)[q]()}},V=function(d,P,q){return function(D,z){return new W(d,P,z).update(D)[q]()}},Q=function(d,P,q){return function(D,z,tt,G){return g["cshake"+d].update(D,z,tt,G)[q]()}},it=function(d,P,q){return function(D,z,tt,G){return g["kmac"+d].update(D,z,tt,G)[q]()}},rt=function(d,P,q,D){for(var z=0;z<O.length;++z){var tt=O[z];d[tt]=P(q,D,tt)}return d},ht=function(d,P){var q=F(d,P,"hex");return q.create=function(){return new W(d,P,d)},q.update=function(D){return q.create().update(D)},rt(q,F,d,P)},E=function(d,P){var q=V(d,P,"hex");return q.create=function(D){return new W(d,P,D)},q.update=function(D,z){return q.create(z).update(D)},rt(q,V,d,P)},a=function(d,P){var q=T[d],D=Q(d,P,"hex");return D.create=function(z,tt,G){return!tt&&!G?g["shake"+d].create(z):new W(d,P,z).bytepad([tt,G],q)},D.update=function(z,tt,G,J){return D.create(tt,G,J).update(z)},rt(D,Q,d,P)},f=function(d,P){var q=T[d],D=it(d,P,"hex");return D.create=function(z,tt,G){return new X(d,P,tt).bytepad(["KMAC",G],q).bytepad([z],q)},D.update=function(z,tt,G,J){return D.create(z,G,J).update(tt)},rt(D,it,d,P)},p=[{name:"keccak",padding:B,bits:S,createMethod:ht},{name:"sha3",padding:U,bits:S,createMethod:ht},{name:"shake",padding:y,bits:R,createMethod:E},{name:"cshake",padding:A,bits:R,createMethod:a},{name:"kmac",padding:A,bits:R,createMethod:f}],g={},x=[],C=0;C<p.length;++C)for(var I=p[C],w=I.bits,s=0;s<w.length;++s){var b=I.name+"_"+w[s];if(x.push(b),g[b]=I.createMethod(w[s],I.padding),I.name!=="sha3"){var $=I.name+w[s];x.push($),g[$]=g[b]}}function W(d,P,q){this.blocks=[],this.s=[],this.padding=P,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(d<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var D=0;D<50;++D)this.s[D]=0}W.prototype.update=function(d){if(this.finalized)throw new Error(r);var P,q=typeof d;if(q!=="string"){if(q==="object"){if(d===null)throw new Error(t);if(_&&d.constructor===ArrayBuffer)d=new Uint8Array(d);else if(!Array.isArray(d)&&(!_||!ArrayBuffer.isView(d)))throw new Error(t)}else throw new Error(t);P=!0}for(var D=this.blocks,z=this.byteCount,tt=d.length,G=this.blockCount,J=0,lt=this.s,Y,st;J<tt;){if(this.reset)for(this.reset=!1,D[0]=this.block,Y=1;Y<G+1;++Y)D[Y]=0;if(P)for(Y=this.start;J<tt&&Y<z;++J)D[Y>>2]|=d[J]<<N[Y++&3];else for(Y=this.start;J<tt&&Y<z;++J)st=d.charCodeAt(J),st<128?D[Y>>2]|=st<<N[Y++&3]:st<2048?(D[Y>>2]|=(192|st>>6)<<N[Y++&3],D[Y>>2]|=(128|st&63)<<N[Y++&3]):st<55296||st>=57344?(D[Y>>2]|=(224|st>>12)<<N[Y++&3],D[Y>>2]|=(128|st>>6&63)<<N[Y++&3],D[Y>>2]|=(128|st&63)<<N[Y++&3]):(st=65536+((st&1023)<<10|d.charCodeAt(++J)&1023),D[Y>>2]|=(240|st>>18)<<N[Y++&3],D[Y>>2]|=(128|st>>12&63)<<N[Y++&3],D[Y>>2]|=(128|st>>6&63)<<N[Y++&3],D[Y>>2]|=(128|st&63)<<N[Y++&3]);if(this.lastByteIndex=Y,Y>=z){for(this.start=Y-z,this.block=D[G],Y=0;Y<G;++Y)lt[Y]^=D[Y];nt(lt),this.reset=!0}else this.start=Y}return this},W.prototype.encode=function(d,P){var q=d&255,D=1,z=[q];for(d=d>>8,q=d&255;q>0;)z.unshift(q),d=d>>8,q=d&255,++D;return P?z.push(D):z.unshift(D),this.update(z),z.length},W.prototype.encodeString=function(d){var P,q=typeof d;if(q!=="string"){if(q==="object"){if(d===null)throw new Error(t);if(_&&d.constructor===ArrayBuffer)d=new Uint8Array(d);else if(!Array.isArray(d)&&(!_||!ArrayBuffer.isView(d)))throw new Error(t)}else throw new Error(t);P=!0}var D=0,z=d.length;if(P)D=z;else for(var tt=0;tt<d.length;++tt){var G=d.charCodeAt(tt);G<128?D+=1:G<2048?D+=2:G<55296||G>=57344?D+=3:(G=65536+((G&1023)<<10|d.charCodeAt(++tt)&1023),D+=4)}return D+=this.encode(D*8),this.update(d),D},W.prototype.bytepad=function(d,P){for(var q=this.encode(P),D=0;D<d.length;++D)q+=this.encodeString(d[D]);var z=P-q%P,tt=[];return tt.length=z,this.update(tt),this},W.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var d=this.blocks,P=this.lastByteIndex,q=this.blockCount,D=this.s;if(d[P>>2]|=this.padding[P&3],this.lastByteIndex===this.byteCount)for(d[0]=d[q],P=1;P<q+1;++P)d[P]=0;for(d[q-1]|=2147483648,P=0;P<q;++P)D[P]^=d[P];nt(D)}},W.prototype.toString=W.prototype.hex=function(){this.finalize();for(var d=this.blockCount,P=this.s,q=this.outputBlocks,D=this.extraBytes,z=0,tt=0,G="",J;tt<q;){for(z=0;z<d&&tt<q;++z,++tt)J=P[z],G+=v[J>>4&15]+v[J&15]+v[J>>12&15]+v[J>>8&15]+v[J>>20&15]+v[J>>16&15]+v[J>>28&15]+v[J>>24&15];tt%d===0&&(nt(P),z=0)}return D&&(J=P[z],G+=v[J>>4&15]+v[J&15],D>1&&(G+=v[J>>12&15]+v[J>>8&15]),D>2&&(G+=v[J>>20&15]+v[J>>16&15])),G},W.prototype.arrayBuffer=function(){this.finalize();var d=this.blockCount,P=this.s,q=this.outputBlocks,D=this.extraBytes,z=0,tt=0,G=this.outputBits>>3,J;D?J=new ArrayBuffer(q+1<<2):J=new ArrayBuffer(G);for(var lt=new Uint32Array(J);tt<q;){for(z=0;z<d&&tt<q;++z,++tt)lt[tt]=P[z];tt%d===0&&nt(P)}return D&&(lt[z]=P[z],J=J.slice(0,G)),J},W.prototype.buffer=W.prototype.arrayBuffer,W.prototype.digest=W.prototype.array=function(){this.finalize();for(var d=this.blockCount,P=this.s,q=this.outputBlocks,D=this.extraBytes,z=0,tt=0,G=[],J,lt;tt<q;){for(z=0;z<d&&tt<q;++z,++tt)J=tt<<2,lt=P[z],G[J]=lt&255,G[J+1]=lt>>8&255,G[J+2]=lt>>16&255,G[J+3]=lt>>24&255;tt%d===0&&nt(P)}return D&&(J=tt<<2,lt=P[z],G[J]=lt&255,D>1&&(G[J+1]=lt>>8&255),D>2&&(G[J+2]=lt>>16&255)),G};function X(d,P,q){W.call(this,d,P,q)}X.prototype=new W,X.prototype.finalize=function(){return this.encode(this.outputBits,!0),W.prototype.finalize.call(this)};var nt=function(d){var P,q,D,z,tt,G,J,lt,Y,st,m,u,c,M,k,L,H,Z,et,ft,ut,ot,qt,dt,pt,le,gt,vt,fe,mt,yt,he,wt,bt,de,xt,Mt,pe,Et,St,_e,Ct,kt,ge,At,Rt,ve,It,Tt,me,Bt,Ot,ye,Nt,Lt,Yt,Qt,Xt,Zt,te,ee,re,ne;for(D=0;D<48;D+=2)z=d[0]^d[10]^d[20]^d[30]^d[40],tt=d[1]^d[11]^d[21]^d[31]^d[41],G=d[2]^d[12]^d[22]^d[32]^d[42],J=d[3]^d[13]^d[23]^d[33]^d[43],lt=d[4]^d[14]^d[24]^d[34]^d[44],Y=d[5]^d[15]^d[25]^d[35]^d[45],st=d[6]^d[16]^d[26]^d[36]^d[46],m=d[7]^d[17]^d[27]^d[37]^d[47],u=d[8]^d[18]^d[28]^d[38]^d[48],c=d[9]^d[19]^d[29]^d[39]^d[49],P=u^(G<<1|J>>>31),q=c^(J<<1|G>>>31),d[0]^=P,d[1]^=q,d[10]^=P,d[11]^=q,d[20]^=P,d[21]^=q,d[30]^=P,d[31]^=q,d[40]^=P,d[41]^=q,P=z^(lt<<1|Y>>>31),q=tt^(Y<<1|lt>>>31),d[2]^=P,d[3]^=q,d[12]^=P,d[13]^=q,d[22]^=P,d[23]^=q,d[32]^=P,d[33]^=q,d[42]^=P,d[43]^=q,P=G^(st<<1|m>>>31),q=J^(m<<1|st>>>31),d[4]^=P,d[5]^=q,d[14]^=P,d[15]^=q,d[24]^=P,d[25]^=q,d[34]^=P,d[35]^=q,d[44]^=P,d[45]^=q,P=lt^(u<<1|c>>>31),q=Y^(c<<1|u>>>31),d[6]^=P,d[7]^=q,d[16]^=P,d[17]^=q,d[26]^=P,d[27]^=q,d[36]^=P,d[37]^=q,d[46]^=P,d[47]^=q,P=st^(z<<1|tt>>>31),q=m^(tt<<1|z>>>31),d[8]^=P,d[9]^=q,d[18]^=P,d[19]^=q,d[28]^=P,d[29]^=q,d[38]^=P,d[39]^=q,d[48]^=P,d[49]^=q,M=d[0],k=d[1],Rt=d[11]<<4|d[10]>>>28,ve=d[10]<<4|d[11]>>>28,vt=d[20]<<3|d[21]>>>29,fe=d[21]<<3|d[20]>>>29,te=d[31]<<9|d[30]>>>23,ee=d[30]<<9|d[31]>>>23,Ct=d[40]<<18|d[41]>>>14,kt=d[41]<<18|d[40]>>>14,bt=d[2]<<1|d[3]>>>31,de=d[3]<<1|d[2]>>>31,L=d[13]<<12|d[12]>>>20,H=d[12]<<12|d[13]>>>20,It=d[22]<<10|d[23]>>>22,Tt=d[23]<<10|d[22]>>>22,mt=d[33]<<13|d[32]>>>19,yt=d[32]<<13|d[33]>>>19,re=d[42]<<2|d[43]>>>30,ne=d[43]<<2|d[42]>>>30,Nt=d[5]<<30|d[4]>>>2,Lt=d[4]<<30|d[5]>>>2,xt=d[14]<<6|d[15]>>>26,Mt=d[15]<<6|d[14]>>>26,Z=d[25]<<11|d[24]>>>21,et=d[24]<<11|d[25]>>>21,me=d[34]<<15|d[35]>>>17,Bt=d[35]<<15|d[34]>>>17,he=d[45]<<29|d[44]>>>3,wt=d[44]<<29|d[45]>>>3,dt=d[6]<<28|d[7]>>>4,pt=d[7]<<28|d[6]>>>4,Yt=d[17]<<23|d[16]>>>9,Qt=d[16]<<23|d[17]>>>9,pe=d[26]<<25|d[27]>>>7,Et=d[27]<<25|d[26]>>>7,ft=d[36]<<21|d[37]>>>11,ut=d[37]<<21|d[36]>>>11,Ot=d[47]<<24|d[46]>>>8,ye=d[46]<<24|d[47]>>>8,ge=d[8]<<27|d[9]>>>5,At=d[9]<<27|d[8]>>>5,le=d[18]<<20|d[19]>>>12,gt=d[19]<<20|d[18]>>>12,Xt=d[29]<<7|d[28]>>>25,Zt=d[28]<<7|d[29]>>>25,St=d[38]<<8|d[39]>>>24,_e=d[39]<<8|d[38]>>>24,ot=d[48]<<14|d[49]>>>18,qt=d[49]<<14|d[48]>>>18,d[0]=M^~L&Z,d[1]=k^~H&et,d[10]=dt^~le&vt,d[11]=pt^~gt&fe,d[20]=bt^~xt&pe,d[21]=de^~Mt&Et,d[30]=ge^~Rt&It,d[31]=At^~ve&Tt,d[40]=Nt^~Yt&Xt,d[41]=Lt^~Qt&Zt,d[2]=L^~Z&ft,d[3]=H^~et&ut,d[12]=le^~vt&mt,d[13]=gt^~fe&yt,d[22]=xt^~pe&St,d[23]=Mt^~Et&_e,d[32]=Rt^~It&me,d[33]=ve^~Tt&Bt,d[42]=Yt^~Xt&te,d[43]=Qt^~Zt&ee,d[4]=Z^~ft&ot,d[5]=et^~ut&qt,d[14]=vt^~mt&he,d[15]=fe^~yt&wt,d[24]=pe^~St&Ct,d[25]=Et^~_e&kt,d[34]=It^~me&Ot,d[35]=Tt^~Bt&ye,d[44]=Xt^~te&re,d[45]=Zt^~ee&ne,d[6]=ft^~ot&M,d[7]=ut^~qt&k,d[16]=mt^~he&dt,d[17]=yt^~wt&pt,d[26]=St^~Ct&bt,d[27]=_e^~kt&de,d[36]=me^~Ot&ge,d[37]=Bt^~ye&At,d[46]=te^~re&Nt,d[47]=ee^~ne&Lt,d[8]=ot^~M&L,d[9]=qt^~k&H,d[18]=he^~dt&le,d[19]=wt^~pt&gt,d[28]=Ct^~bt&xt,d[29]=kt^~de&Mt,d[38]=Ot^~ge&Rt,d[39]=ye^~At&ve,d[48]=re^~Nt&Yt,d[49]=ne^~Lt&Qt,d[0]^=j[D],d[1]^=j[D+1]};if(l)e.exports=g;else for(C=0;C<x.length;++C)o[x[C]]=g[x[C]]})()})(po);var Ys=po.exports,Pe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zr=function(e,t){return Zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Zr(e,t)};function Qs(e,t){Zr(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tn=function(){return tn=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},tn.apply(this,arguments)};function Xs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Zs(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(h=e[l])&&(i=(o<3?h(i):o>3?h(t,r,i):h(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function tu(e,t){return function(r,n){t(r,n,e)}}function eu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ru(e,t,r,n){function o(i){return i instanceof r?i:new r(function(h){h(i)})}return new(r||(r=Promise))(function(i,h){function l(y){try{v(n.next(y))}catch(A){h(A)}}function _(y){try{v(n.throw(y))}catch(A){h(A)}}function v(y){y.done?i(y.value):o(y.value).then(l,_)}v((n=n.apply(e,t||[])).next())})}function nu(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,h;return h={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function l(v){return function(y){return _([v,y])}}function _(v){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=v[0]&2?o.return:v[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,v[1])).done)return i;switch(o=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,o=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){r.label=v[1];break}if(v[0]===6&&r.label<i[1]){r.label=i[1],i=v;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(v);break}i[2]&&r.ops.pop(),r.trys.pop();continue}v=t.call(e,r)}catch(y){v=[6,y],o=0}finally{n=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function iu(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function ou(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function en(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _o(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],h;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(l){h={error:l}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return i}function au(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_o(arguments[t]));return e}function su(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],h=0,l=i.length;h<l;h++,o++)n[o]=i[h];return n}function je(e){return this instanceof je?(this.v=e,this):new je(e)}function uu(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(B){n[B]&&(o[B]=function(U){return new Promise(function(N,j){i.push([B,U,N,j])>1||l(B,U)})})}function l(B,U){try{_(n[B](U))}catch(N){A(i[0][3],N)}}function _(B){B.value instanceof je?Promise.resolve(B.value.v).then(v,y):A(i[0][2],B)}function v(B){l("next",B)}function y(B){l("throw",B)}function A(B,U){B(U),i.shift(),i.length&&l(i[0][0],i[0][1])}}function cu(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(h){return(r=!r)?{value:je(e[o](h)),done:o==="return"}:i?i(h):h}:i}}function lu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof en=="function"?en(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(h){return new Promise(function(l,_){h=e[i](h),o(l,_,h.done,h.value)})}}function o(i,h,l,_){Promise.resolve(_).then(function(v){i({value:v,done:l})},h)}}function fu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function hu(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function du(e){return e&&e.__esModule?e:{default:e}}function pu(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _u(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const gu=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return tn},__asyncDelegator:cu,__asyncGenerator:uu,__asyncValues:lu,__await:je,__awaiter:ru,__classPrivateFieldGet:pu,__classPrivateFieldSet:_u,__createBinding:iu,__decorate:Zs,__exportStar:ou,__extends:Qs,__generator:nu,__importDefault:du,__importStar:hu,__makeTemplateObject:fu,__metadata:eu,__param:tu,__read:_o,__rest:Xs,__spread:au,__spreadArrays:su,__values:en},Symbol.toStringTag,{value:"Module"})),vu=hr(gu);var $t={},Qn;function mu(){if(Qn)return $t;Qn=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.isBrowserCryptoAvailable=$t.getSubtleCrypto=$t.getBrowerCrypto=void 0;function e(){return(Pt===null||Pt===void 0?void 0:Pt.crypto)||(Pt===null||Pt===void 0?void 0:Pt.msCrypto)||{}}$t.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}$t.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return $t.isBrowserCryptoAvailable=r,$t}var Jt={},Xn;function yu(){if(Xn)return Jt;Xn=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.isBrowser=Jt.isNode=Jt.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Jt.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Jt.isNode=t;function r(){return!e()&&!t()}return Jt.isBrowser=r,Jt}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vu;t.__exportStar(mu(),e),t.__exportStar(yu(),e)})(Pe);function wu(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Xe(e){return fo(e)}function bu(e){return js(Le(e))}const rn=wu;function Dr(){return((t,r)=>{for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r})()}function xu(e,t){let r;const n=Ms[e];return n&&(r=`https://${n}.infura.io/v3/${t}`),r}function Mu(e,t){let r;const n=xu(e,t.infuraId);return t.custom&&t.custom[e]?r=t.custom[e]:n&&(r=n),r}function Eu(e){return e===""||typeof e=="string"&&e.trim()===""}function Su(e){return!(e&&e.length)}function go(e,t){return Ds(e)}function Cu(e){return typeof e.method<"u"}function De(e){return typeof e.result<"u"}function or(e){return typeof e.error<"u"}function Zn(e){return typeof e.event<"u"}function ku(e){return xs.includes(e)||e.startsWith("wc_")}function Au(e){return e.method.startsWith("wc_")?!0:!bn.includes(e.method)}function Ru(e){e=ae(e.toLowerCase());const t=ae(Ys.keccak_256(Vs(e)));let r="";for(let n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return Le(r)}const Iu=e=>e?e.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(e)?/^(0x)?[0-9a-f]{40}$/.test(e)||/^(0x)?[0-9A-F]{40}$/.test(e)?!0:e===Ru(e):!1:!1;function ar(e){return!Su(e)&&!go(e[0])&&(e[0]=Ks(e[0])),e}function qr(e){if(typeof e.type<"u"&&e.type!=="0")return e;if(typeof e.from>"u"||!Iu(e.from))throw new Error("Transaction object must include a valid 'from' value.");function t(o){let i=o;return(typeof o=="number"||typeof o=="string"&&!Eu(o))&&(go(o)?typeof o=="string"&&(i=Xe(o)):i=ho(o)),typeof i=="string"&&(i=bu(i)),i}const r={from:Xe(e.from),to:typeof e.to>"u"?void 0:Xe(e.to),gasPrice:typeof e.gasPrice>"u"?"":t(e.gasPrice),gas:typeof e.gas>"u"?typeof e.gasLimit>"u"?"":t(e.gasLimit):t(e.gas),value:typeof e.value>"u"?"":t(e.value),nonce:typeof e.nonce>"u"?"":t(e.nonce),data:typeof e.data>"u"?"":Xe(e.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(o=>{(typeof r[o]>"u"||typeof r[o]=="string"&&!r[o].trim().length)&&n.includes(o)&&delete r[o]}),r}function Tu(e){const t=e.message||"Failed or Rejected Request";let r=-32e3;if(e&&!e.code)switch(t){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:t};return e.data&&(n.data=e.data),n}var Sn={},Bu=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),vo="%[a-f0-9]{2}",ti=new RegExp("("+vo+")|([^%]+?)","gi"),ei=new RegExp("("+vo+")+","gi");function nn(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],nn(r),nn(n))}function Ou(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(ti)||[],r=1;r<t.length;r++)e=nn(t,r).join(""),t=e.match(ti)||[];return e}}function Nu(e){for(var t={"%FE%FF":"","%FF%FE":""},r=ei.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=Ou(r[0]);n!==r[0]&&(t[r[0]]=n)}r=ei.exec(e)}t["%C2"]="";for(var o=Object.keys(t),i=0;i<o.length;i++){var h=o[i];e=e.replace(new RegExp(h,"g"),t[h])}return e}var Lu=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Nu(e)}},Pu=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]};(function(e){const t=Bu,r=Lu,n=Pu,o=S=>S==null;function i(S){switch(S.arrayFormat){case"index":return R=>(O,T)=>{const F=O.length;return T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?O:T===null?[...O,[_(R,S),"[",F,"]"].join("")]:[...O,[_(R,S),"[",_(F,S),"]=",_(T,S)].join("")]};case"bracket":return R=>(O,T)=>T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?O:T===null?[...O,[_(R,S),"[]"].join("")]:[...O,[_(R,S),"[]=",_(T,S)].join("")];case"comma":case"separator":return R=>(O,T)=>T==null||T.length===0?O:O.length===0?[[_(R,S),"=",_(T,S)].join("")]:[[O,_(T,S)].join(S.arrayFormatSeparator)];default:return R=>(O,T)=>T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?O:T===null?[...O,_(R,S)]:[...O,[_(R,S),"=",_(T,S)].join("")]}}function h(S){let R;switch(S.arrayFormat){case"index":return(O,T,F)=>{if(R=/\[(\d*)\]$/.exec(O),O=O.replace(/\[\d*\]$/,""),!R){F[O]=T;return}F[O]===void 0&&(F[O]={}),F[O][R[1]]=T};case"bracket":return(O,T,F)=>{if(R=/(\[\])$/.exec(O),O=O.replace(/\[\]$/,""),!R){F[O]=T;return}if(F[O]===void 0){F[O]=[T];return}F[O]=[].concat(F[O],T)};case"comma":case"separator":return(O,T,F)=>{const Q=typeof T=="string"&&T.split("").indexOf(S.arrayFormatSeparator)>-1?T.split(S.arrayFormatSeparator).map(it=>v(it,S)):T===null?T:v(T,S);F[O]=Q};default:return(O,T,F)=>{if(F[O]===void 0){F[O]=T;return}F[O]=[].concat(F[O],T)}}}function l(S){if(typeof S!="string"||S.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(S,R){return R.encode?R.strict?t(S):encodeURIComponent(S):S}function v(S,R){return R.decode?r(S):S}function y(S){return Array.isArray(S)?S.sort():typeof S=="object"?y(Object.keys(S)).sort((R,O)=>Number(R)-Number(O)).map(R=>S[R]):S}function A(S){const R=S.indexOf("#");return R!==-1&&(S=S.slice(0,R)),S}function B(S){let R="";const O=S.indexOf("#");return O!==-1&&(R=S.slice(O)),R}function U(S){S=A(S);const R=S.indexOf("?");return R===-1?"":S.slice(R+1)}function N(S,R){return R.parseNumbers&&!Number.isNaN(Number(S))&&typeof S=="string"&&S.trim()!==""?S=Number(S):R.parseBooleans&&S!==null&&(S.toLowerCase()==="true"||S.toLowerCase()==="false")&&(S=S.toLowerCase()==="true"),S}function j(S,R){R=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},R),l(R.arrayFormatSeparator);const O=h(R),T=Object.create(null);if(typeof S!="string"||(S=S.trim().replace(/^[?#&]/,""),!S))return T;for(const F of S.split("&")){let[V,Q]=n(R.decode?F.replace(/\+/g," "):F,"=");Q=Q===void 0?null:["comma","separator"].includes(R.arrayFormat)?Q:v(Q,R),O(v(V,R),Q,T)}for(const F of Object.keys(T)){const V=T[F];if(typeof V=="object"&&V!==null)for(const Q of Object.keys(V))V[Q]=N(V[Q],R);else T[F]=N(V,R)}return R.sort===!1?T:(R.sort===!0?Object.keys(T).sort():Object.keys(T).sort(R.sort)).reduce((F,V)=>{const Q=T[V];return Q&&typeof Q=="object"&&!Array.isArray(Q)?F[V]=y(Q):F[V]=Q,F},Object.create(null))}e.extract=U,e.parse=j,e.stringify=(S,R)=>{if(!S)return"";R=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},R),l(R.arrayFormatSeparator);const O=Q=>R.skipNull&&o(S[Q])||R.skipEmptyString&&S[Q]==="",T=i(R),F={};for(const Q of Object.keys(S))O(Q)||(F[Q]=S[Q]);const V=Object.keys(F);return R.sort!==!1&&V.sort(R.sort),V.map(Q=>{const it=S[Q];return it===void 0?"":it===null?_(Q,R):Array.isArray(it)?it.reduce(T(Q),[]).join("&"):_(Q,R)+"="+_(it,R)}).filter(Q=>Q.length>0).join("&")},e.parseUrl=(S,R)=>{R=Object.assign({decode:!0},R);const[O,T]=n(S,"#");return Object.assign({url:O.split("?")[0]||"",query:j(U(S),R)},R&&R.parseFragmentIdentifier&&T?{fragmentIdentifier:v(T,R)}:{})},e.stringifyUrl=(S,R)=>{R=Object.assign({encode:!0,strict:!0},R);const O=A(S.url).split("?")[0]||"",T=e.extract(S.url),F=e.parse(T,{sort:!1}),V=Object.assign(F,S.query);let Q=e.stringify(V,R);Q&&(Q=`?${Q}`);let it=B(S.url);return S.fragmentIdentifier&&(it=`#${_(S.fragmentIdentifier,R)}`),`${O}${Q}${it}`}})(Sn);function Uu(e){const t=e.indexOf("?")!==-1?e.indexOf("?"):void 0;return typeof t<"u"?e.substr(t):""}function Fu(e,t){let r=mo(e);return r=Object.assign(Object.assign({},r),t),e=Du(r),e}function mo(e){return Sn.parse(e)}function Du(e){return Sn.stringify(e)}function qu(e){return typeof e.bridge<"u"}function Hu(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),o=e.substring(t+1,r);function i(A){const U=A.split("@");return{handshakeTopic:U[0],version:parseInt(U[1],10)}}const h=i(o),l=typeof r<"u"?e.substr(r):"";function _(A){const B=mo(A);return{key:B.key||"",bridge:B.bridge||""}}const v=_(l);return Object.assign(Object.assign({protocol:n},h),v)}class Wu{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,r){this._eventEmitters.push({event:t,callback:r})}trigger(t){let r=[];t&&(r=this._eventEmitters.filter(n=>n.event===t)),r.forEach(n=>{n.callback()})}}const ju=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class zu{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new Wu,!t.url||typeof t.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return this.readyState===0}set connected(t){}get connected(){return this.readyState===1}set closing(t){}get closing(){return this.readyState===2}set closed(t){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(t,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:t,silent:!!n})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,r){this._events.push({event:t,callback:r})}_socketCreate(){if(this._nextSocket)return;const t=$u(this._url,this._protocol,this._version);if(this._nextSocket=new ju(t),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const r=JSON.stringify(t);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let r;try{r=JSON.parse(t.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(o=>o.event==="message");n&&n.length&&n.forEach(o=>o.callback(r))}}_socketError(t){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function $u(e,t,r){var n,o;const h=(e.startsWith("https")?e.replace("https","wss"):e.startsWith("http")?e.replace("http","ws"):e).split("?"),l=Yi()?{protocol:t,version:r,env:"browser",host:((n=Zi())===null||n===void 0?void 0:n.host)||""}:{protocol:t,version:r,env:((o=pr())===null||o===void 0?void 0:o.name)||""},_=Fu(Uu(h[1]||""),l);return h[0]+"?"+_}const Hr="Session currently connected",we="Session currently disconnected",Ju="Session Rejected",Vu="Missing JSON RPC response",Ku='JSON-RPC success response must include "result" field',Gu='JSON-RPC error response must include "error" field',Yu='JSON RPC request must have valid "method" value',Qu='JSON RPC request must have valid "id" value',Xu="Missing one of the required parameters: bridge / uri / session",ri="JSON RPC response format is invalid",Zu="URI format is invalid",tc="QRCode Modal not provided",ni="User close QRCode Modal";class ec{constructor(){this._eventEmitters=[]}subscribe(t){this._eventEmitters.push(t)}unsubscribe(t){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==t)}trigger(t){let r=[],n;Cu(t)?n=t.method:De(t)||or(t)?n=`response:${t.id}`:Zn(t)?n=t.event:n="",n&&(r=this._eventEmitters.filter(o=>o.event===n)),(!r||!r.length)&&!ku(n)&&!Zn(n)&&(r=this._eventEmitters.filter(o=>o.event==="call_request")),r.forEach(o=>{if(or(t)){const i=new Error(t.error.message);o.callback(i,null)}else o.callback(null,t)})}}class rc{constructor(t="walletconnect"){this.storageId=t}getSession(){let t=null;const r=yn(this.storageId);return r&&qu(r)&&(t=r),t}setSession(t){return mn(this.storageId,t),t}removeSession(){wn(this.storageId)}}const nc="walletconnect.org",ic="abcdefghijklmnopqrstuvwxyz0123456789",yo=ic.split("").map(e=>`https://${e}.bridge.walletconnect.org`);function oc(e){let t=e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0];return t=t.split(":")[0],t=t.split("?")[0],t}function ac(e){return oc(e).split(".").slice(-2).join(".")}function sc(){return Math.floor(Math.random()*yo.length)}function uc(){return yo[sc()]}function cc(e){return ac(e)===nc}function lc(e){return cc(e)?uc():e}class fc{constructor(t){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new ec,this._clientMeta=Qr()||t.connectorOpts.clientMeta||null,this._cryptoLib=t.cryptoLib,this._sessionStorage=t.sessionStorage||new rc(t.connectorOpts.storageId),this._qrcodeModal=t.connectorOpts.qrcodeModal,this._qrcodeModalOptions=t.connectorOpts.qrcodeModalOptions,this._signingMethods=[...bn,...t.connectorOpts.signingMethods||[]],!t.connectorOpts.bridge&&!t.connectorOpts.uri&&!t.connectorOpts.session)throw new Error(Xu);t.connectorOpts.bridge&&(this.bridge=lc(t.connectorOpts.bridge)),t.connectorOpts.uri&&(this.uri=t.connectorOpts.uri);const r=t.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=t.transport||new zu({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),t.connectorOpts.uri&&this._subscribeToSessionRequest(),t.pushServerOpts&&this._registerPushServer(t.pushServerOpts)}set bridge(t){t&&(this._bridge=t)}get bridge(){return this._bridge}set key(t){if(!t)return;const r=Gs(t);this._key=r}get key(){return this._key?$s(this._key):""}set clientId(t){t&&(this._clientId=t)}get clientId(){let t=this._clientId;return t||(t=this._clientId=Dr()),this._clientId}set peerId(t){t&&(this._peerId=t)}get peerId(){return this._peerId}set clientMeta(t){}get clientMeta(){let t=this._clientMeta;return t||(t=this._clientMeta=Qr()),t}set peerMeta(t){this._peerMeta=t}get peerMeta(){return this._peerMeta}set handshakeTopic(t){t&&(this._handshakeTopic=t)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(t){t&&(this._handshakeId=t)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(t){if(!t)return;const{handshakeTopic:r,bridge:n,key:o}=this._parseUri(t);this.handshakeTopic=r,this.bridge=n,this.key=o}set chainId(t){this._chainId=t}get chainId(){return this._chainId}set networkId(t){this._networkId=t}get networkId(){return this._networkId}set accounts(t){this._accounts=t}get accounts(){return this._accounts}set rpcUrl(t){this._rpcUrl=t}get rpcUrl(){return this._rpcUrl}set connected(t){}get connected(){return this._connected}set pending(t){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(t){t&&(this._connected=t.connected,this.accounts=t.accounts,this.chainId=t.chainId,this.bridge=t.bridge,this.key=t.key,this.clientId=t.clientId,this.clientMeta=t.clientMeta,this.peerId=t.peerId,this.peerMeta=t.peerMeta,this.handshakeId=t.handshakeId,this.handshakeTopic=t.handshakeTopic)}on(t,r){const n={event:t,callback:r};this._eventManager.subscribe(n)}off(t){this._eventManager.unsubscribe(t)}async createInstantRequest(t){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(t)}]});this.handshakeId=r.id,this.handshakeTopic=Dr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ni)});const n=()=>{this.killSession()};try{const o=await this._sendCallRequest(r);return o&&n(),o}catch(o){throw n(),o}}async connect(t){if(!this._qrcodeModal)throw new Error(tc);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(t),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(ni))),this.on("connect",(o,i)=>{if(o)return n(o);r(i.params[0])})}))}async createSession(t){if(this._connected)throw new Error(Hr);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:t&&t.chainId?t.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Dr(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(t){if(this._connected)throw new Error(Hr);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(t){if(this._connected)throw new Error(Hr);const r=t&&t.message?t.message:Ju,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(t){if(!this._connected)throw new Error(we);this.chainId=t.chainId,this.accounts=t.accounts,this.networkId=t.networkId||0,this.rpcUrl=t.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(t){const r=t?t.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},o=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(o),this._handleSessionDisconnect(r)}async sendTransaction(t){if(!this._connected)throw new Error(we);const r=qr(t),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(t){if(!this._connected)throw new Error(we);const r=qr(t),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(t){if(!this._connected)throw new Error(we);const r=this._formatRequest({method:"eth_sign",params:t});return await this._sendCallRequest(r)}async signPersonalMessage(t){if(!this._connected)throw new Error(we);t=ar(t);const r=this._formatRequest({method:"personal_sign",params:t});return await this._sendCallRequest(r)}async signTypedData(t){if(!this._connected)throw new Error(we);const r=this._formatRequest({method:"eth_signTypedData",params:t});return await this._sendCallRequest(r)}async updateChain(t){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[t]});return await this._sendCallRequest(r)}unsafeSend(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),new Promise((n,o)=>{this._subscribeToResponse(t.id,(i,h)=>{if(i){o(i);return}if(!h)throw new Error(Vu);n(h)})})}async sendCustomRequest(t,r){if(!this._connected)throw new Error(we);switch(t.method){case"eth_accounts":return this.accounts;case"eth_chainId":return ho(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":t.params&&(t.params[0]=qr(t.params[0]));break;case"personal_sign":t.params&&(t.params=ar(t.params));break}const n=this._formatRequest(t);return await this._sendCallRequest(n,r)}approveRequest(t){if(De(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(Ku)}rejectRequest(t){if(or(t)){const r=this._formatResponse(t);this._sendResponse(r)}else throw new Error(Gu)}transportClose(){this._transport.close()}async _sendRequest(t,r){const n=this._formatRequest(t),o=await this._encrypt(n),i=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,h=JSON.stringify(o),l=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:Au(n);this._transport.send(h,i,l)}async _sendResponse(t){const r=await this._encrypt(t),n=this.peerId,o=JSON.stringify(r);this._transport.send(o,n,!0)}async _sendSessionRequest(t,r,n){this._sendRequest(t,n),this._subscribeToSessionResponse(t.id,r)}_sendCallRequest(t,r){return this._sendRequest(t,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:t,options:r}]}),this._subscribeToCallResponse(t.id)}_formatRequest(t){if(typeof t.method>"u")throw new Error(Yu);return{id:typeof t.id>"u"?rn():t.id,jsonrpc:"2.0",method:t.method,params:typeof t.params>"u"?[]:t.params}}_formatResponse(t){if(typeof t.id>"u")throw new Error(Qu);const r={id:t.id,jsonrpc:"2.0"};if(or(t)){const n=Tu(t.error);return Object.assign(Object.assign(Object.assign({},r),t),{error:n})}else if(De(t))return Object.assign(Object.assign({},r),t);throw new Error(ri)}_handleSessionDisconnect(t){const r=t||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),wn(ir)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(t,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(t):this._handleSessionDisconnect(t)}async _handleIncomingMessages(t){if(![this.clientId,this.handshakeTopic].includes(t.topic))return;let n;try{n=JSON.parse(t.payload)}catch{return}const o=await this._decrypt(n);o&&this._eventManager.trigger(o)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(t,r){this.on(`response:${t}`,r)}_subscribeToSessionResponse(t,r){this._subscribeToResponse(t,(n,o)=>{if(n){this._handleSessionResponse(n.message);return}De(o)?this._handleSessionResponse(r,o.result):o.error&&o.error.message?this._handleSessionResponse(o.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(t){return new Promise((r,n)=>{this._subscribeToResponse(t,(o,i)=>{if(o){n(o);return}De(i)?r(i.result):i.error&&i.error.message?n(i.error):n(new Error(ri))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(t,r)=>{const{request:n}=r.params[0];if(Ki()&&this._signingMethods.includes(n.method)){const o=yn(ir);o&&(window.location.href=o.href)}}),this.on("wc_sessionRequest",(t,r)=>{t&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:t.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(t,r)=>{t&&this._handleSessionResponse(t.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",t=>this._handleIncomingMessages(t)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const t=this.protocol,r=this.handshakeTopic,n=this.version,o=encodeURIComponent(this.bridge),i=this.key;return`${t}:${r}@${n}?bridge=${o}&key=${i}`}_parseUri(t){const r=Hu(t);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const o=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const i=r.key;return{handshakeTopic:n,bridge:o,key:i}}else throw new Error(Zu)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(t,r):null}async _decrypt(t){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(t,r):null}_getStorageSession(){let t=null;return this._sessionStorage&&(t=this._sessionStorage.getSession()),t}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(t){if(!t.url||typeof t.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!t.type||typeof t.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!t.token||typeof t.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:t.type,token:t.token,peerName:"",language:t.language||""};this.on("connect",async(n,o)=>{if(n)throw n;if(t.peerMeta){const i=o.params[0].peerMeta.name;r.peerName=i}try{if(!(await(await fetch(`${t.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function hc(e){return Pe.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const wo=256,bo=wo,dc=wo,se="AES-CBC",pc=`SHA-${bo}`,on="HMAC",_c="encrypt",gc="decrypt",vc="sign",mc="verify";function yc(e){return e===se?{length:bo,name:se}:{hash:{name:pc},name:on}}function wc(e){return e===se?[_c,gc]:[vc,mc]}async function Cn(e,t=se){return Pe.getSubtleCrypto().importKey("raw",e,yc(t),!0,wc(t))}async function bc(e,t,r){const n=Pe.getSubtleCrypto(),o=await Cn(t,se),i=await n.encrypt({iv:e,name:se},o,r);return new Uint8Array(i)}async function xc(e,t,r){const n=Pe.getSubtleCrypto(),o=await Cn(t,se),i=await n.decrypt({iv:e,name:se},o,r);return new Uint8Array(i)}async function Mc(e,t){const r=Pe.getSubtleCrypto(),n=await Cn(e,on),o=await r.sign({length:dc,name:on},n,t);return new Uint8Array(o)}function Ec(e,t,r){return bc(e,t,r)}function Sc(e,t,r){return xc(e,t,r)}async function xo(e,t){return await Mc(e,t)}async function Mo(e){const t=(e||256)/8,r=hc(t);return Js(mr(r))}async function Eo(e,t){const r=Ce(e.data),n=Ce(e.iv),o=Ce(e.hmac),i=Se(o,!1),h=lo(r,n),l=await xo(t,h),_=Se(l,!1);return ae(i)===ae(_)}async function Cc(e,t,r){const n=ke(Xr(t)),o=r||await Mo(128),i=ke(Xr(o)),h=Se(i,!1),l=JSON.stringify(e),_=Us(l),v=await Ec(i,n,_),y=Se(v,!1),A=lo(v,i),B=await xo(n,A),U=Se(B,!1);return{data:y,hmac:U,iv:h}}async function kc(e,t){const r=ke(Xr(t));if(!r)throw new Error("Missing key: required for decryption");if(!await Eo(e,r))return null;const o=Ce(e.data),i=Ce(e.iv),h=await Sc(i,r,o),l=Ls(h);let _;try{_=JSON.parse(l)}catch{return null}return _}const Ac=Object.freeze(Object.defineProperty({__proto__:null,decrypt:kc,encrypt:Cc,generateKey:Mo,verifyHmac:Eo},Symbol.toStringTag,{value:"Module"}));class Rc extends fc{constructor(t,r){super({cryptoLib:Ac,connectorOpts:t,pushServerOpts:r})}}const Ic=hr(bs);var Ke={},Tc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},So={},ue={},Bc={}.toString,kn=Array.isArray||function(e){return Bc.call(e)=="[object Array]"},Oc=kn;function Nc(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42}catch{return!1}}ct.TYPED_ARRAY_SUPPORT=Nc();var ii=ct.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function ct(e,t,r){return!ct.TYPED_ARRAY_SUPPORT&&!(this instanceof ct)?new ct(e,t,r):typeof e=="number"?Co(this,e):Hc(this,e,t,r)}ct.TYPED_ARRAY_SUPPORT&&(ct.prototype.__proto__=Uint8Array.prototype,ct.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&ct[Symbol.species]===ct&&Object.defineProperty(ct,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function An(e){if(e>=ii)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ii.toString(16)+" bytes");return e|0}function Lc(e){return e!==e}function Ae(e,t){var r;return ct.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=ct.prototype):(r=e,r===null&&(r=new ct(t)),r.length=t),r}function Co(e,t){var r=Ae(e,t<0?0:An(t)|0);if(!ct.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function Pc(e,t){var r=Ao(t)|0,n=Ae(e,r),o=n.write(t);return o!==r&&(n=n.slice(0,o)),n}function an(e,t){for(var r=t.length<0?0:An(t.length)|0,n=Ae(e,r),o=0;o<r;o+=1)n[o]=t[o]&255;return n}function Uc(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var o;return r===void 0&&n===void 0?o=new Uint8Array(t):n===void 0?o=new Uint8Array(t,r):o=new Uint8Array(t,r,n),ct.TYPED_ARRAY_SUPPORT?o.__proto__=ct.prototype:o=an(e,o),o}function Fc(e,t){if(ct.isBuffer(t)){var r=An(t.length)|0,n=Ae(e,r);return n.length===0||t.copy(n,0,0,r),n}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Lc(t.length)?Ae(e,0):an(e,t);if(t.type==="Buffer"&&Array.isArray(t.data))return an(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ko(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],h=0;h<n;++h){if(r=e.charCodeAt(h),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(h+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Ao(e){if(ct.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var t=e.length;return t===0?0:ko(e).length}function Dc(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function qc(e,t,r,n){return Dc(ko(t,e.length-r),e,r,n)}function Hc(e,t,r,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?Uc(e,t,r,n):typeof t=="string"?Pc(e,t):Fc(e,t)}ct.prototype.write=function(t,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return qc(this,t,r,n)};ct.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var o;if(ct.TYPED_ARRAY_SUPPORT)o=this.subarray(t,r),o.__proto__=ct.prototype;else{var i=r-t;o=new ct(i,void 0);for(var h=0;h<i;++h)o[h]=this[h+t]}return o};ct.prototype.copy=function(t,r,n,o){if(n||(n=0),!o&&o!==0&&(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i=o-n,h;if(this===t&&n<r&&r<o)for(h=i-1;h>=0;--h)t[h+r]=this[h+n];else if(i<1e3||!ct.TYPED_ARRAY_SUPPORT)for(h=0;h<i;++h)t[h+r]=this[h+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),r);return i};ct.prototype.fill=function(t,r,n){if(typeof t=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}}else typeof t=="number"&&(t=t&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var i;if(typeof t=="number")for(i=r;i<n;++i)this[i]=t;else{var h=ct.isBuffer(t)?t:new ct(t),l=h.length;for(i=0;i<n-r;++i)this[i+r]=h[i%l]}return this};ct.concat=function(t,r){if(!Oc(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ae(null,0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=Co(null,r),i=0;for(n=0;n<t.length;++n){var h=t[n];if(!ct.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(o,i),i+=h.length}return o};ct.byteLength=Ao;ct.prototype._isBuffer=!0;ct.isBuffer=function(t){return!!(t!=null&&t._isBuffer)};ue.alloc=function(e){var t=new ct(e);return t.fill(0),t};ue.from=function(e){return new ct(e)};var Dt={},Rn,Wc=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Dt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Dt.getSymbolTotalCodewords=function(t){return Wc[t]};Dt.getBCHDigit=function(e){for(var t=0;e!==0;)t++,e>>>=1;return t};Dt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Rn=t};Dt.isKanjiModeEnabled=function(){return typeof Rn<"u"};Dt.toSJIS=function(t){return Rn(t)};var yr={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,o){if(e.isValid(n))return n;try{return t(n)}catch{return o}}})(yr);function Ro(){this.buffer=[],this.length=0}Ro.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var jc=Ro,oi=ue;function Ge(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=oi.alloc(e*e),this.reservedBit=oi.alloc(e*e)}Ge.prototype.set=function(e,t,r,n){var o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)};Ge.prototype.get=function(e,t){return this.data[e*this.size+t]};Ge.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ge.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var zc=Ge,Io={};(function(e){var t=Dt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];for(var o=Math.floor(n/7)+2,i=t(n),h=i===145?26:Math.ceil((i-13)/(2*o-2))*2,l=[i-7],_=1;_<o-1;_++)l[_]=l[_-1]-h;return l.push(6),l.reverse()},e.getPositions=function(n){for(var o=[],i=e.getRowColCoords(n),h=i.length,l=0;l<h;l++)for(var _=0;_<h;_++)l===0&&_===0||l===0&&_===h-1||l===h-1&&_===0||o.push([i[l],i[_]]);return o}})(Io);var To={},$c=Dt.getSymbolSize,ai=7;To.getPositions=function(t){var r=$c(t);return[[0,0],[r-ai,0],[0,r-ai]]};var Bo={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){for(var i=o.size,h=0,l=0,_=0,v=null,y=null,A=0;A<i;A++){l=_=0,v=y=null;for(var B=0;B<i;B++){var U=o.get(A,B);U===v?l++:(l>=5&&(h+=t.N1+(l-5)),v=U,l=1),U=o.get(B,A),U===y?_++:(_>=5&&(h+=t.N1+(_-5)),y=U,_=1)}l>=5&&(h+=t.N1+(l-5)),_>=5&&(h+=t.N1+(_-5))}return h},e.getPenaltyN2=function(o){for(var i=o.size,h=0,l=0;l<i-1;l++)for(var _=0;_<i-1;_++){var v=o.get(l,_)+o.get(l,_+1)+o.get(l+1,_)+o.get(l+1,_+1);(v===4||v===0)&&h++}return h*t.N2},e.getPenaltyN3=function(o){for(var i=o.size,h=0,l=0,_=0,v=0;v<i;v++){l=_=0;for(var y=0;y<i;y++)l=l<<1&2047|o.get(v,y),y>=10&&(l===1488||l===93)&&h++,_=_<<1&2047|o.get(y,v),y>=10&&(_===1488||_===93)&&h++}return h*t.N3},e.getPenaltyN4=function(o){for(var i=0,h=o.data.length,l=0;l<h;l++)i+=o.data[l];var _=Math.abs(Math.ceil(i*100/h/5)-10);return _*t.N4};function r(n,o,i){switch(n){case e.Patterns.PATTERN000:return(o+i)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(o+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return o*i%2+o*i%3===0;case e.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case e.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(o,i){for(var h=i.size,l=0;l<h;l++)for(var _=0;_<h;_++)i.isReserved(_,l)||i.xor(_,l,r(o,_,l))},e.getBestMask=function(o,i){for(var h=Object.keys(e.Patterns).length,l=0,_=1/0,v=0;v<h;v++){i(v),e.applyMask(v,o);var y=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(v,o),y<_&&(_=y,l=v)}return l}})(Bo);var wr={},ie=yr,Ze=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],tr=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wr.getBlocksCount=function(t,r){switch(r){case ie.L:return Ze[(t-1)*4+0];case ie.M:return Ze[(t-1)*4+1];case ie.Q:return Ze[(t-1)*4+2];case ie.H:return Ze[(t-1)*4+3];default:return}};wr.getTotalCodewordsCount=function(t,r){switch(r){case ie.L:return tr[(t-1)*4+0];case ie.M:return tr[(t-1)*4+1];case ie.Q:return tr[(t-1)*4+2];case ie.H:return tr[(t-1)*4+3];default:return}};var Oo={},br={},No=ue,qe=No.alloc(512),sr=No.alloc(256);(function(){for(var t=1,r=0;r<255;r++)qe[r]=t,sr[t]=r,t<<=1,t&256&&(t^=285);for(r=255;r<512;r++)qe[r]=qe[r-255]})();br.log=function(t){if(t<1)throw new Error("log("+t+")");return sr[t]};br.exp=function(t){return qe[t]};br.mul=function(t,r){return t===0||r===0?0:qe[sr[t]+sr[r]]};(function(e){var t=ue,r=br;e.mul=function(o,i){for(var h=t.alloc(o.length+i.length-1),l=0;l<o.length;l++)for(var _=0;_<i.length;_++)h[l+_]^=r.mul(o[l],i[_]);return h},e.mod=function(o,i){for(var h=t.from(o);h.length-i.length>=0;){for(var l=h[0],_=0;_<i.length;_++)h[_]^=r.mul(i[_],l);for(var v=0;v<h.length&&h[v]===0;)v++;h=h.slice(v)}return h},e.generateECPolynomial=function(o){for(var i=t.from([1]),h=0;h<o;h++)i=e.mul(i,[1,r.exp(h)]);return i}})(Oo);var Lo={},xr={};xr.byteLength=Kc;xr.toByteArray=Yc;xr.fromByteArray=Zc;var jt=[],Ht=[],Jc=typeof Uint8Array<"u"?Uint8Array:Array,Wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Me=0,Vc=Wr.length;Me<Vc;++Me)jt[Me]=Wr[Me],Ht[Wr.charCodeAt(Me)]=Me;Ht[45]=62;Ht[95]=63;function Po(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Kc(e){var t=Po(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Gc(e,t,r){return(t+r)*3/4-r}function Yc(e){var t,r=Po(e),n=r[0],o=r[1],i=new Jc(Gc(e,n,o)),h=0,l=o>0?n-4:n,_;for(_=0;_<l;_+=4)t=Ht[e.charCodeAt(_)]<<18|Ht[e.charCodeAt(_+1)]<<12|Ht[e.charCodeAt(_+2)]<<6|Ht[e.charCodeAt(_+3)],i[h++]=t>>16&255,i[h++]=t>>8&255,i[h++]=t&255;return o===2&&(t=Ht[e.charCodeAt(_)]<<2|Ht[e.charCodeAt(_+1)]>>4,i[h++]=t&255),o===1&&(t=Ht[e.charCodeAt(_)]<<10|Ht[e.charCodeAt(_+1)]<<4|Ht[e.charCodeAt(_+2)]>>2,i[h++]=t>>8&255,i[h++]=t&255),i}function Qc(e){return jt[e>>18&63]+jt[e>>12&63]+jt[e>>6&63]+jt[e&63]}function Xc(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(Qc(n));return o.join("")}function Zc(e){for(var t,r=e.length,n=r%3,o=[],i=16383,h=0,l=r-n;h<l;h+=i)o.push(Xc(e,h,h+i>l?l:h+i));return n===1?(t=e[r-1],o.push(jt[t>>2]+jt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(jt[t>>10]+jt[t>>4&63]+jt[t<<2&63]+"=")),o.join("")}var In={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */In.read=function(e,t,r,n,o){var i,h,l=o*8-n-1,_=(1<<l)-1,v=_>>1,y=-7,A=r?o-1:0,B=r?-1:1,U=e[t+A];for(A+=B,i=U&(1<<-y)-1,U>>=-y,y+=l;y>0;i=i*256+e[t+A],A+=B,y-=8);for(h=i&(1<<-y)-1,i>>=-y,y+=n;y>0;h=h*256+e[t+A],A+=B,y-=8);if(i===0)i=1-v;else{if(i===_)return h?NaN:(U?-1:1)*(1/0);h=h+Math.pow(2,n),i=i-v}return(U?-1:1)*h*Math.pow(2,i-n)};In.write=function(e,t,r,n,o,i){var h,l,_,v=i*8-o-1,y=(1<<v)-1,A=y>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,U=n?0:i-1,N=n?1:-1,j=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,h=y):(h=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-h))<1&&(h--,_*=2),h+A>=1?t+=B/_:t+=B*Math.pow(2,1-A),t*_>=2&&(h++,_/=2),h+A>=y?(l=0,h=y):h+A>=1?(l=(t*_-1)*Math.pow(2,o),h=h+A):(l=t*Math.pow(2,A-1)*Math.pow(2,o),h=0));o>=8;e[r+U]=l&255,U+=N,l/=256,o-=8);for(h=h<<o|l,v+=o;v>0;e[r+U]=h&255,U+=N,h/=256,v-=8);e[r+U-N]|=j*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=xr,r=In,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=O,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var m=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(m,u),m.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function h(m){if(m>o)throw new RangeError('The value "'+m+'" is invalid for option "size"');var u=new Uint8Array(m);return Object.setPrototypeOf(u,l.prototype),u}function l(m,u,c){if(typeof m=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(m)}return _(m,u,c)}l.poolSize=8192;function _(m,u,c){if(typeof m=="string")return B(m,u);if(ArrayBuffer.isView(m))return N(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(lt(m,ArrayBuffer)||m&&lt(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lt(m,SharedArrayBuffer)||m&&lt(m.buffer,SharedArrayBuffer)))return j(m,u,c);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=m.valueOf&&m.valueOf();if(M!=null&&M!==m)return l.from(M,u,c);var k=S(m);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return l.from(m[Symbol.toPrimitive]("string"),u,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}l.from=function(m,u,c){return _(m,u,c)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function v(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function y(m,u,c){return v(m),m<=0?h(m):u!==void 0?typeof c=="string"?h(m).fill(u,c):h(m).fill(u):h(m)}l.alloc=function(m,u,c){return y(m,u,c)};function A(m){return v(m),h(m<0?0:R(m)|0)}l.allocUnsafe=function(m){return A(m)},l.allocUnsafeSlow=function(m){return A(m)};function B(m,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var c=T(m,u)|0,M=h(c),k=M.write(m,u);return k!==c&&(M=M.slice(0,k)),M}function U(m){for(var u=m.length<0?0:R(m.length)|0,c=h(u),M=0;M<u;M+=1)c[M]=m[M]&255;return c}function N(m){if(lt(m,Uint8Array)){var u=new Uint8Array(m);return j(u.buffer,u.byteOffset,u.byteLength)}return U(m)}function j(m,u,c){if(u<0||m.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<u+(c||0))throw new RangeError('"length" is outside of buffer bounds');var M;return u===void 0&&c===void 0?M=new Uint8Array(m):c===void 0?M=new Uint8Array(m,u):M=new Uint8Array(m,u,c),Object.setPrototypeOf(M,l.prototype),M}function S(m){if(l.isBuffer(m)){var u=R(m.length)|0,c=h(u);return c.length===0||m.copy(c,0,0,u),c}if(m.length!==void 0)return typeof m.length!="number"||Y(m.length)?h(0):U(m);if(m.type==="Buffer"&&Array.isArray(m.data))return U(m.data)}function R(m){if(m>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return m|0}function O(m){return+m!=m&&(m=0),l.alloc(+m)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,c){if(lt(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),lt(c,Uint8Array)&&(c=l.from(c,c.offset,c.byteLength)),!l.isBuffer(u)||!l.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===c)return 0;for(var M=u.length,k=c.length,L=0,H=Math.min(M,k);L<H;++L)if(u[L]!==c[L]){M=u[L],k=c[L];break}return M<k?-1:k<M?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,c){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);var M;if(c===void 0)for(c=0,M=0;M<u.length;++M)c+=u[M].length;var k=l.allocUnsafe(c),L=0;for(M=0;M<u.length;++M){var H=u[M];if(lt(H,Uint8Array))L+H.length>k.length?l.from(H).copy(k,L):Uint8Array.prototype.set.call(k,H,L);else if(l.isBuffer(H))H.copy(k,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=H.length}return k};function T(m,u){if(l.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||lt(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var c=m.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&c===0)return 0;for(var k=!1;;)switch(u){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return D(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return G(m).length;default:if(k)return M?-1:D(m).length;u=(""+u).toLowerCase(),k=!0}}l.byteLength=T;function F(m,u,c){var M=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,u>>>=0,c<=u))return"";for(m||(m="utf8");;)switch(m){case"hex":return s(this,u,c);case"utf8":case"utf-8":return g(this,u,c);case"ascii":return I(this,u,c);case"latin1":case"binary":return w(this,u,c);case"base64":return p(this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,u,c);default:if(M)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),M=!0}}l.prototype._isBuffer=!0;function V(m,u,c){var M=m[u];m[u]=m[c],m[c]=M}l.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<u;c+=2)V(this,c,c+1);return this},l.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<u;c+=4)V(this,c,c+3),V(this,c+1,c+2);return this},l.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<u;c+=8)V(this,c,c+7),V(this,c+1,c+6),V(this,c+2,c+5),V(this,c+3,c+4);return this},l.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?g(this,0,u):F.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){var u="",c=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(u+=" ... "),"<Buffer "+u+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(u,c,M,k,L){if(lt(u,Uint8Array)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(c===void 0&&(c=0),M===void 0&&(M=u?u.length:0),k===void 0&&(k=0),L===void 0&&(L=this.length),c<0||M>u.length||k<0||L>this.length)throw new RangeError("out of range index");if(k>=L&&c>=M)return 0;if(k>=L)return-1;if(c>=M)return 1;if(c>>>=0,M>>>=0,k>>>=0,L>>>=0,this===u)return 0;for(var H=L-k,Z=M-c,et=Math.min(H,Z),ft=this.slice(k,L),ut=u.slice(c,M),ot=0;ot<et;++ot)if(ft[ot]!==ut[ot]){H=ft[ot],Z=ut[ot];break}return H<Z?-1:Z<H?1:0};function Q(m,u,c,M,k){if(m.length===0)return-1;if(typeof c=="string"?(M=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,Y(c)&&(c=k?0:m.length-1),c<0&&(c=m.length+c),c>=m.length){if(k)return-1;c=m.length-1}else if(c<0)if(k)c=0;else return-1;if(typeof u=="string"&&(u=l.from(u,M)),l.isBuffer(u))return u.length===0?-1:it(m,u,c,M,k);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(m,u,c):Uint8Array.prototype.lastIndexOf.call(m,u,c):it(m,[u],c,M,k);throw new TypeError("val must be string, number or Buffer")}function it(m,u,c,M,k){var L=1,H=m.length,Z=u.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(m.length<2||u.length<2)return-1;L=2,H/=2,Z/=2,c/=2}function et(dt,pt){return L===1?dt[pt]:dt.readUInt16BE(pt*L)}var ft;if(k){var ut=-1;for(ft=c;ft<H;ft++)if(et(m,ft)===et(u,ut===-1?0:ft-ut)){if(ut===-1&&(ut=ft),ft-ut+1===Z)return ut*L}else ut!==-1&&(ft-=ft-ut),ut=-1}else for(c+Z>H&&(c=H-Z),ft=c;ft>=0;ft--){for(var ot=!0,qt=0;qt<Z;qt++)if(et(m,ft+qt)!==et(u,qt)){ot=!1;break}if(ot)return ft}return-1}l.prototype.includes=function(u,c,M){return this.indexOf(u,c,M)!==-1},l.prototype.indexOf=function(u,c,M){return Q(this,u,c,M,!0)},l.prototype.lastIndexOf=function(u,c,M){return Q(this,u,c,M,!1)};function rt(m,u,c,M){c=Number(c)||0;var k=m.length-c;M?(M=Number(M),M>k&&(M=k)):M=k;var L=u.length;M>L/2&&(M=L/2);for(var H=0;H<M;++H){var Z=parseInt(u.substr(H*2,2),16);if(Y(Z))return H;m[c+H]=Z}return H}function ht(m,u,c,M){return J(D(u,m.length-c),m,c,M)}function E(m,u,c,M){return J(z(u),m,c,M)}function a(m,u,c,M){return J(G(u),m,c,M)}function f(m,u,c,M){return J(tt(u,m.length-c),m,c,M)}l.prototype.write=function(u,c,M,k){if(c===void 0)k="utf8",M=this.length,c=0;else if(M===void 0&&typeof c=="string")k=c,M=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(M)?(M=M>>>0,k===void 0&&(k="utf8")):(k=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var L=this.length-c;if((M===void 0||M>L)&&(M=L),u.length>0&&(M<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var H=!1;;)switch(k){case"hex":return rt(this,u,c,M);case"utf8":case"utf-8":return ht(this,u,c,M);case"ascii":case"latin1":case"binary":return E(this,u,c,M);case"base64":return a(this,u,c,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,u,c,M);default:if(H)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),H=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(m,u,c){return u===0&&c===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(u,c))}function g(m,u,c){c=Math.min(m.length,c);for(var M=[],k=u;k<c;){var L=m[k],H=null,Z=L>239?4:L>223?3:L>191?2:1;if(k+Z<=c){var et,ft,ut,ot;switch(Z){case 1:L<128&&(H=L);break;case 2:et=m[k+1],(et&192)===128&&(ot=(L&31)<<6|et&63,ot>127&&(H=ot));break;case 3:et=m[k+1],ft=m[k+2],(et&192)===128&&(ft&192)===128&&(ot=(L&15)<<12|(et&63)<<6|ft&63,ot>2047&&(ot<55296||ot>57343)&&(H=ot));break;case 4:et=m[k+1],ft=m[k+2],ut=m[k+3],(et&192)===128&&(ft&192)===128&&(ut&192)===128&&(ot=(L&15)<<18|(et&63)<<12|(ft&63)<<6|ut&63,ot>65535&&ot<1114112&&(H=ot))}}H===null?(H=65533,Z=1):H>65535&&(H-=65536,M.push(H>>>10&1023|55296),H=56320|H&1023),M.push(H),k+=Z}return C(M)}var x=4096;function C(m){var u=m.length;if(u<=x)return String.fromCharCode.apply(String,m);for(var c="",M=0;M<u;)c+=String.fromCharCode.apply(String,m.slice(M,M+=x));return c}function I(m,u,c){var M="";c=Math.min(m.length,c);for(var k=u;k<c;++k)M+=String.fromCharCode(m[k]&127);return M}function w(m,u,c){var M="";c=Math.min(m.length,c);for(var k=u;k<c;++k)M+=String.fromCharCode(m[k]);return M}function s(m,u,c){var M=m.length;(!u||u<0)&&(u=0),(!c||c<0||c>M)&&(c=M);for(var k="",L=u;L<c;++L)k+=st[m[L]];return k}function b(m,u,c){for(var M=m.slice(u,c),k="",L=0;L<M.length-1;L+=2)k+=String.fromCharCode(M[L]+M[L+1]*256);return k}l.prototype.slice=function(u,c){var M=this.length;u=~~u,c=c===void 0?M:~~c,u<0?(u+=M,u<0&&(u=0)):u>M&&(u=M),c<0?(c+=M,c<0&&(c=0)):c>M&&(c=M),c<u&&(c=u);var k=this.subarray(u,c);return Object.setPrototypeOf(k,l.prototype),k};function $(m,u,c){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+u>c)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,c,M){u=u>>>0,c=c>>>0,M||$(u,c,this.length);for(var k=this[u],L=1,H=0;++H<c&&(L*=256);)k+=this[u+H]*L;return k},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,c,M){u=u>>>0,c=c>>>0,M||$(u,c,this.length);for(var k=this[u+--c],L=1;c>0&&(L*=256);)k+=this[u+--c]*L;return k},l.prototype.readUint8=l.prototype.readUInt8=function(u,c){return u=u>>>0,c||$(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,c){return u=u>>>0,c||$(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,c){return u=u>>>0,c||$(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,c){return u=u>>>0,c||$(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,c){return u=u>>>0,c||$(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readIntLE=function(u,c,M){u=u>>>0,c=c>>>0,M||$(u,c,this.length);for(var k=this[u],L=1,H=0;++H<c&&(L*=256);)k+=this[u+H]*L;return L*=128,k>=L&&(k-=Math.pow(2,8*c)),k},l.prototype.readIntBE=function(u,c,M){u=u>>>0,c=c>>>0,M||$(u,c,this.length);for(var k=c,L=1,H=this[u+--k];k>0&&(L*=256);)H+=this[u+--k]*L;return L*=128,H>=L&&(H-=Math.pow(2,8*c)),H},l.prototype.readInt8=function(u,c){return u=u>>>0,c||$(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,c){u=u>>>0,c||$(u,2,this.length);var M=this[u]|this[u+1]<<8;return M&32768?M|4294901760:M},l.prototype.readInt16BE=function(u,c){u=u>>>0,c||$(u,2,this.length);var M=this[u+1]|this[u]<<8;return M&32768?M|4294901760:M},l.prototype.readInt32LE=function(u,c){return u=u>>>0,c||$(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,c){return u=u>>>0,c||$(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readFloatLE=function(u,c){return u=u>>>0,c||$(u,4,this.length),r.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,c){return u=u>>>0,c||$(u,4,this.length),r.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,c){return u=u>>>0,c||$(u,8,this.length),r.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,c){return u=u>>>0,c||$(u,8,this.length),r.read(this,u,!1,52,8)};function W(m,u,c,M,k,L){if(!l.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>k||u<L)throw new RangeError('"value" argument is out of bounds');if(c+M>m.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,c,M,k){if(u=+u,c=c>>>0,M=M>>>0,!k){var L=Math.pow(2,8*M)-1;W(this,u,c,M,L,0)}var H=1,Z=0;for(this[c]=u&255;++Z<M&&(H*=256);)this[c+Z]=u/H&255;return c+M},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,c,M,k){if(u=+u,c=c>>>0,M=M>>>0,!k){var L=Math.pow(2,8*M)-1;W(this,u,c,M,L,0)}var H=M-1,Z=1;for(this[c+H]=u&255;--H>=0&&(Z*=256);)this[c+H]=u/Z&255;return c+M},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,1,255,0),this[c]=u&255,c+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,2,65535,0),this[c]=u&255,this[c+1]=u>>>8,c+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,2,65535,0),this[c]=u>>>8,this[c+1]=u&255,c+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,4,4294967295,0),this[c+3]=u>>>24,this[c+2]=u>>>16,this[c+1]=u>>>8,this[c]=u&255,c+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,4,4294967295,0),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4},l.prototype.writeIntLE=function(u,c,M,k){if(u=+u,c=c>>>0,!k){var L=Math.pow(2,8*M-1);W(this,u,c,M,L-1,-L)}var H=0,Z=1,et=0;for(this[c]=u&255;++H<M&&(Z*=256);)u<0&&et===0&&this[c+H-1]!==0&&(et=1),this[c+H]=(u/Z>>0)-et&255;return c+M},l.prototype.writeIntBE=function(u,c,M,k){if(u=+u,c=c>>>0,!k){var L=Math.pow(2,8*M-1);W(this,u,c,M,L-1,-L)}var H=M-1,Z=1,et=0;for(this[c+H]=u&255;--H>=0&&(Z*=256);)u<0&&et===0&&this[c+H+1]!==0&&(et=1),this[c+H]=(u/Z>>0)-et&255;return c+M},l.prototype.writeInt8=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,1,127,-128),u<0&&(u=255+u+1),this[c]=u&255,c+1},l.prototype.writeInt16LE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,2,32767,-32768),this[c]=u&255,this[c+1]=u>>>8,c+2},l.prototype.writeInt16BE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,2,32767,-32768),this[c]=u>>>8,this[c+1]=u&255,c+2},l.prototype.writeInt32LE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,4,2147483647,-2147483648),this[c]=u&255,this[c+1]=u>>>8,this[c+2]=u>>>16,this[c+3]=u>>>24,c+4},l.prototype.writeInt32BE=function(u,c,M){return u=+u,c=c>>>0,M||W(this,u,c,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[c]=u>>>24,this[c+1]=u>>>16,this[c+2]=u>>>8,this[c+3]=u&255,c+4};function X(m,u,c,M,k,L){if(c+M>m.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function nt(m,u,c,M,k){return u=+u,c=c>>>0,k||X(m,u,c,4),r.write(m,u,c,M,23,4),c+4}l.prototype.writeFloatLE=function(u,c,M){return nt(this,u,c,!0,M)},l.prototype.writeFloatBE=function(u,c,M){return nt(this,u,c,!1,M)};function d(m,u,c,M,k){return u=+u,c=c>>>0,k||X(m,u,c,8),r.write(m,u,c,M,52,8),c+8}l.prototype.writeDoubleLE=function(u,c,M){return d(this,u,c,!0,M)},l.prototype.writeDoubleBE=function(u,c,M){return d(this,u,c,!1,M)},l.prototype.copy=function(u,c,M,k){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(M||(M=0),!k&&k!==0&&(k=this.length),c>=u.length&&(c=u.length),c||(c=0),k>0&&k<M&&(k=M),k===M||u.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),u.length-c<k-M&&(k=u.length-c+M);var L=k-M;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,M,k):Uint8Array.prototype.set.call(u,this.subarray(M,k),c),L},l.prototype.fill=function(u,c,M,k){if(typeof u=="string"){if(typeof c=="string"?(k=c,c=0,M=this.length):typeof M=="string"&&(k=M,M=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!l.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(u.length===1){var L=u.charCodeAt(0);(k==="utf8"&&L<128||k==="latin1")&&(u=L)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(c<0||this.length<c||this.length<M)throw new RangeError("Out of range index");if(M<=c)return this;c=c>>>0,M=M===void 0?this.length:M>>>0,u||(u=0);var H;if(typeof u=="number")for(H=c;H<M;++H)this[H]=u;else{var Z=l.isBuffer(u)?u:l.from(u,k),et=Z.length;if(et===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(H=0;H<M-c;++H)this[H+c]=Z[H%et]}return this};var P=/[^+/0-9A-Za-z-_]/g;function q(m){if(m=m.split("=")[0],m=m.trim().replace(P,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function D(m,u){u=u||1/0;for(var c,M=m.length,k=null,L=[],H=0;H<M;++H){if(c=m.charCodeAt(H),c>55295&&c<57344){if(!k){if(c>56319){(u-=3)>-1&&L.push(239,191,189);continue}else if(H+1===M){(u-=3)>-1&&L.push(239,191,189);continue}k=c;continue}if(c<56320){(u-=3)>-1&&L.push(239,191,189),k=c;continue}c=(k-55296<<10|c-56320)+65536}else k&&(u-=3)>-1&&L.push(239,191,189);if(k=null,c<128){if((u-=1)<0)break;L.push(c)}else if(c<2048){if((u-=2)<0)break;L.push(c>>6|192,c&63|128)}else if(c<65536){if((u-=3)<0)break;L.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((u-=4)<0)break;L.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return L}function z(m){for(var u=[],c=0;c<m.length;++c)u.push(m.charCodeAt(c)&255);return u}function tt(m,u){for(var c,M,k,L=[],H=0;H<m.length&&!((u-=2)<0);++H)c=m.charCodeAt(H),M=c>>8,k=c%256,L.push(k),L.push(M);return L}function G(m){return t.toByteArray(q(m))}function J(m,u,c,M){for(var k=0;k<M&&!(k+c>=u.length||k>=m.length);++k)u[k+c]=m[k];return k}function lt(m,u){return m instanceof u||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===u.name}function Y(m){return m!==m}var st=function(){for(var m="0123456789abcdef",u=new Array(256),c=0;c<16;++c)for(var M=c*16,k=0;k<16;++k)u[M+k]=m[c]+m[k];return u}()})(Lo);var si=ue,Uo=Oo,tl=Lo.Buffer;function Tn(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Tn.prototype.initialize=function(t){this.degree=t,this.genPoly=Uo.generateECPolynomial(this.degree)};Tn.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=si.alloc(this.degree),n=tl.concat([t,r],t.length+this.degree),o=Uo.mod(n,this.genPoly),i=this.degree-o.length;if(i>0){var h=si.alloc(this.degree);return o.copy(h,i),h}return o};var el=Tn,Fo={},ce={},Bn={};Bn.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var zt={},Do="[0-9]+",rl="[A-Z $%*+\\-./:]+",ze="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ze=ze.replace(/u/g,"\\u");var nl="(?:(?![A-Z0-9 $%*+\\-./:]|"+ze+`)(?:.|[\r
]))+`;zt.KANJI=new RegExp(ze,"g");zt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");zt.BYTE=new RegExp(nl,"g");zt.NUMERIC=new RegExp(Do,"g");zt.ALPHANUMERIC=new RegExp(rl,"g");var il=new RegExp("^"+ze+"$"),ol=new RegExp("^"+Do+"$"),al=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");zt.testKanji=function(t){return il.test(t)};zt.testNumeric=function(t){return ol.test(t)};zt.testAlphanumeric=function(t){return al.test(t)};(function(e){var t=Bn,r=zt;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,h){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?i.ccBits[0]:h<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");var i=o.toLowerCase();switch(i){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(i,h){if(e.isValid(i))return i;try{return n(i)}catch{return h}}})(ce);(function(e){var t=Dt,r=wr,n=yr,o=ce,i=Bn,h=kn,l=7973,_=t.getBCHDigit(l);function v(U,N,j){for(var S=1;S<=40;S++)if(N<=e.getCapacity(S,j,U))return S}function y(U,N){return o.getCharCountIndicator(U,N)+4}function A(U,N){var j=0;return U.forEach(function(S){var R=y(S.mode,N);j+=R+S.getBitsLength()}),j}function B(U,N){for(var j=1;j<=40;j++){var S=A(U,j);if(S<=e.getCapacity(j,N,o.MIXED))return j}}e.from=function(N,j){return i.isValid(N)?parseInt(N,10):j},e.getCapacity=function(N,j,S){if(!i.isValid(N))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=o.BYTE);var R=t.getSymbolTotalCodewords(N),O=r.getTotalCodewordsCount(N,j),T=(R-O)*8;if(S===o.MIXED)return T;var F=T-y(S,N);switch(S){case o.NUMERIC:return Math.floor(F/10*3);case o.ALPHANUMERIC:return Math.floor(F/11*2);case o.KANJI:return Math.floor(F/13);case o.BYTE:default:return Math.floor(F/8)}},e.getBestVersionForData=function(N,j){var S,R=n.from(j,n.M);if(h(N)){if(N.length>1)return B(N,R);if(N.length===0)return 1;S=N[0]}else S=N;return v(S.mode,S.getLength(),R)},e.getEncodedBits=function(N){if(!i.isValid(N)||N<7)throw new Error("Invalid QR Code version");for(var j=N<<12;t.getBCHDigit(j)-_>=0;)j^=l<<t.getBCHDigit(j)-_;return N<<12|j}})(Fo);var qo={},sn=Dt,Ho=1335,sl=21522,ui=sn.getBCHDigit(Ho);qo.getEncodedBits=function(t,r){for(var n=t.bit<<3|r,o=n<<10;sn.getBCHDigit(o)-ui>=0;)o^=Ho<<sn.getBCHDigit(o)-ui;return(n<<10|o)^sl};var Wo={},ul=ce;function Re(e){this.mode=ul.NUMERIC,this.data=e.toString()}Re.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Re.prototype.getLength=function(){return this.data.length};Re.prototype.getBitsLength=function(){return Re.getBitsLength(this.data.length)};Re.prototype.write=function(t){var r,n,o;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),o=parseInt(n,10),t.put(o,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),o=parseInt(n,10),t.put(o,i*3+1))};var cl=Re,ll=ce,jr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ie(e){this.mode=ll.ALPHANUMERIC,this.data=e}Ie.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ie.prototype.getLength=function(){return this.data.length};Ie.prototype.getBitsLength=function(){return Ie.getBitsLength(this.data.length)};Ie.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=jr.indexOf(this.data[r])*45;n+=jr.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(jr.indexOf(this.data[r]),6)};var fl=Ie,hl=ue,dl=ce;function Te(e){this.mode=dl.BYTE,this.data=hl.from(e)}Te.getBitsLength=function(t){return t*8};Te.prototype.getLength=function(){return this.data.length};Te.prototype.getBitsLength=function(){return Te.getBitsLength(this.data.length)};Te.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var pl=Te,_l=ce,gl=Dt;function Be(e){this.mode=_l.KANJI,this.data=e}Be.getBitsLength=function(t){return t*13};Be.prototype.getLength=function(){return this.data.length};Be.prototype.getBitsLength=function(){return Be.getBitsLength(this.data.length)};Be.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=gl.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var vl=Be,jo={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,o){var i={},h={};h[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var _,v,y,A,B,U,N,j,S;!l.empty();){_=l.pop(),v=_.value,A=_.cost,B=r[v]||{};for(y in B)B.hasOwnProperty(y)&&(U=B[y],N=A+U,j=h[y],S=typeof h[y]>"u",(S||j>N)&&(h[y]=N,l.push(y,N),i[y]=v))}if(typeof o<"u"&&typeof h[o]>"u"){var R=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(R)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],i=n;i;)o.push(i),r[i],i=r[i];return o.reverse(),o},find_path:function(r,n,o){var i=t.single_source_shortest_paths(r,n,o);return t.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,o={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(jo);var ml=jo.exports;(function(e){var t=ce,r=cl,n=fl,o=pl,i=vl,h=zt,l=Dt,_=ml;function v(R){return unescape(encodeURIComponent(R)).length}function y(R,O,T){for(var F=[],V;(V=R.exec(T))!==null;)F.push({data:V[0],index:V.index,mode:O,length:V[0].length});return F}function A(R){var O=y(h.NUMERIC,t.NUMERIC,R),T=y(h.ALPHANUMERIC,t.ALPHANUMERIC,R),F,V;l.isKanjiModeEnabled()?(F=y(h.BYTE,t.BYTE,R),V=y(h.KANJI,t.KANJI,R)):(F=y(h.BYTE_KANJI,t.BYTE,R),V=[]);var Q=O.concat(T,F,V);return Q.sort(function(it,rt){return it.index-rt.index}).map(function(it){return{data:it.data,mode:it.mode,length:it.length}})}function B(R,O){switch(O){case t.NUMERIC:return r.getBitsLength(R);case t.ALPHANUMERIC:return n.getBitsLength(R);case t.KANJI:return i.getBitsLength(R);case t.BYTE:return o.getBitsLength(R)}}function U(R){return R.reduce(function(O,T){var F=O.length-1>=0?O[O.length-1]:null;return F&&F.mode===T.mode?(O[O.length-1].data+=T.data,O):(O.push(T),O)},[])}function N(R){for(var O=[],T=0;T<R.length;T++){var F=R[T];switch(F.mode){case t.NUMERIC:O.push([F,{data:F.data,mode:t.ALPHANUMERIC,length:F.length},{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.ALPHANUMERIC:O.push([F,{data:F.data,mode:t.BYTE,length:F.length}]);break;case t.KANJI:O.push([F,{data:F.data,mode:t.BYTE,length:v(F.data)}]);break;case t.BYTE:O.push([{data:F.data,mode:t.BYTE,length:v(F.data)}])}}return O}function j(R,O){for(var T={},F={start:{}},V=["start"],Q=0;Q<R.length;Q++){for(var it=R[Q],rt=[],ht=0;ht<it.length;ht++){var E=it[ht],a=""+Q+ht;rt.push(a),T[a]={node:E,lastCount:0},F[a]={};for(var f=0;f<V.length;f++){var p=V[f];T[p]&&T[p].node.mode===E.mode?(F[p][a]=B(T[p].lastCount+E.length,E.mode)-B(T[p].lastCount,E.mode),T[p].lastCount+=E.length):(T[p]&&(T[p].lastCount=E.length),F[p][a]=B(E.length,E.mode)+4+t.getCharCountIndicator(E.mode,O))}}V=rt}for(f=0;f<V.length;f++)F[V[f]].end=0;return{map:F,table:T}}function S(R,O){var T,F=t.getBestModeForData(R);if(T=t.from(O,F),T!==t.BYTE&&T.bit<F.bit)throw new Error('"'+R+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(F));switch(T===t.KANJI&&!l.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new r(R);case t.ALPHANUMERIC:return new n(R);case t.KANJI:return new i(R);case t.BYTE:return new o(R)}}e.fromArray=function(O){return O.reduce(function(T,F){return typeof F=="string"?T.push(S(F,null)):F.data&&T.push(S(F.data,F.mode)),T},[])},e.fromString=function(O,T){for(var F=A(O,l.isKanjiModeEnabled()),V=N(F),Q=j(V,T),it=_.find_path(Q.map,"start","end"),rt=[],ht=1;ht<it.length-1;ht++)rt.push(Q.table[it[ht]].node);return e.fromArray(U(rt))},e.rawSplit=function(O){return e.fromArray(A(O,l.isKanjiModeEnabled()))}})(Wo);var ci=ue,Mr=Dt,zr=yr,yl=jc,wl=zc,bl=Io,xl=To,un=Bo,cn=wr,Ml=el,ur=Fo,El=qo,Sl=ce,$r=Wo,Cl=kn;function kl(e,t){for(var r=e.size,n=xl.getPositions(t),o=0;o<n.length;o++)for(var i=n[o][0],h=n[o][1],l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(var _=-1;_<=7;_++)h+_<=-1||r<=h+_||(l>=0&&l<=6&&(_===0||_===6)||_>=0&&_<=6&&(l===0||l===6)||l>=2&&l<=4&&_>=2&&_<=4?e.set(i+l,h+_,!0,!0):e.set(i+l,h+_,!1,!0))}function Al(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function Rl(e,t){for(var r=bl.getPositions(t),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],h=-2;h<=2;h++)for(var l=-2;l<=2;l++)h===-2||h===2||l===-2||l===2||h===0&&l===0?e.set(o+h,i+l,!0,!0):e.set(o+h,i+l,!1,!0)}function Il(e,t){for(var r=e.size,n=ur.getEncodedBits(t),o,i,h,l=0;l<18;l++)o=Math.floor(l/3),i=l%3+r-8-3,h=(n>>l&1)===1,e.set(o,i,h,!0),e.set(i,o,h,!0)}function Jr(e,t,r){var n=e.size,o=El.getEncodedBits(t,r),i,h;for(i=0;i<15;i++)h=(o>>i&1)===1,i<6?e.set(i,8,h,!0):i<8?e.set(i+1,8,h,!0):e.set(n-15+i,8,h,!0),i<8?e.set(8,n-i-1,h,!0):i<9?e.set(8,15-i-1+1,h,!0):e.set(8,15-i-1,h,!0);e.set(n-8,8,1,!0)}function Tl(e,t){for(var r=e.size,n=-1,o=r-1,i=7,h=0,l=r-1;l>0;l-=2)for(l===6&&l--;;){for(var _=0;_<2;_++)if(!e.isReserved(o,l-_)){var v=!1;h<t.length&&(v=(t[h]>>>i&1)===1),e.set(o,l-_,v),i--,i===-1&&(h++,i=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function Bl(e,t,r){var n=new yl;r.forEach(function(v){n.put(v.mode.bit,4),n.put(v.getLength(),Sl.getCharCountIndicator(v.mode,e)),v.write(n)});var o=Mr.getSymbolTotalCodewords(e),i=cn.getTotalCodewordsCount(e,t),h=(o-i)*8;for(n.getLengthInBits()+4<=h&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var l=(h-n.getLengthInBits())/8,_=0;_<l;_++)n.put(_%2?17:236,8);return Ol(n,e,t)}function Ol(e,t,r){for(var n=Mr.getSymbolTotalCodewords(t),o=cn.getTotalCodewordsCount(t,r),i=n-o,h=cn.getBlocksCount(t,r),l=n%h,_=h-l,v=Math.floor(n/h),y=Math.floor(i/h),A=y+1,B=v-y,U=new Ml(B),N=0,j=new Array(h),S=new Array(h),R=0,O=ci.from(e.buffer),T=0;T<h;T++){var F=T<_?y:A;j[T]=O.slice(N,N+F),S[T]=U.encode(j[T]),N+=F,R=Math.max(R,F)}var V=ci.alloc(n),Q=0,it,rt;for(it=0;it<R;it++)for(rt=0;rt<h;rt++)it<j[rt].length&&(V[Q++]=j[rt][it]);for(it=0;it<B;it++)for(rt=0;rt<h;rt++)V[Q++]=S[rt][it];return V}function Nl(e,t,r,n){var o;if(Cl(e))o=$r.fromArray(e);else if(typeof e=="string"){var i=t;if(!i){var h=$r.rawSplit(e);i=ur.getBestVersionForData(h,r)}o=$r.fromString(e,i||40)}else throw new Error("Invalid data");var l=ur.getBestVersionForData(o,r);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=l;else if(t<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);var _=Bl(t,r,o),v=Mr.getSymbolSize(t),y=new wl(v);return kl(y,t),Al(y),Rl(y,t),Jr(y,r,0),t>=7&&Il(y,t),Tl(y,_),isNaN(n)&&(n=un.getBestMask(y,Jr.bind(null,y,r))),un.applyMask(n,y),Jr(y,r,n),{modules:y,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}So.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");var n=zr.M,o,i;return typeof r<"u"&&(n=zr.from(r.errorCorrectionLevel,zr.M),o=ur.from(r.version),i=un.from(r.maskPattern),r.toSJISFunc&&Mr.setToSJISFunction(r.toSJISFunc)),Nl(t,o,n,i)};var zo={},On={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});var o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,h=n.scale||4;return{width:i,scale:i?4:h,margin:o,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},e.getImageWidth=function(n,o){var i=e.getScale(n,o);return Math.floor((n+o.margin*2)*i)},e.qrToImageData=function(n,o,i){for(var h=o.modules.size,l=o.modules.data,_=e.getScale(h,i),v=Math.floor((h+i.margin*2)*_),y=i.margin*_,A=[i.color.light,i.color.dark],B=0;B<v;B++)for(var U=0;U<v;U++){var N=(B*v+U)*4,j=i.color.light;if(B>=y&&U>=y&&B<v-y&&U<v-y){var S=Math.floor((B-y)/_),R=Math.floor((U-y)/_);j=A[l[S*h+R]?1:0]}n[N++]=j.r,n[N++]=j.g,n[N++]=j.b,n[N]=j.a}}})(On);(function(e){var t=On;function r(o,i,h){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=h,i.width=h,i.style.height=h+"px",i.style.width=h+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,h,l){var _=l,v=h;typeof _>"u"&&(!h||!h.getContext)&&(_=h,h=void 0),h||(v=n()),_=t.getOptions(_);var y=t.getImageWidth(i.modules.size,_),A=v.getContext("2d"),B=A.createImageData(y,y);return t.qrToImageData(B.data,i,_),r(A,v,y),A.putImageData(B,0,0),v},e.renderToDataURL=function(i,h,l){var _=l;typeof _>"u"&&(!h||!h.getContext)&&(_=h,h=void 0),_||(_={});var v=e.render(i,h,_),y=_.type||"image/png",A=_.rendererOpts||{};return v.toDataURL(y,A.quality)}})(zo);var $o={},Ll=On;function li(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Vr(e,t,r){var n=e+t;return typeof r<"u"&&(n+=" "+r),n}function Pl(e,t,r){for(var n="",o=0,i=!1,h=0,l=0;l<e.length;l++){var _=Math.floor(l%t),v=Math.floor(l/t);!_&&!i&&(i=!0),e[l]?(h++,l>0&&_>0&&e[l-1]||(n+=i?Vr("M",_+r,.5+v+r):Vr("m",o,0),o=0,i=!1),_+1<t&&e[l+1]||(n+=Vr("h",h),h=0)):o++}return n}$o.render=function(t,r,n){var o=Ll.getOptions(r),i=t.modules.size,h=t.modules.data,l=i+o.margin*2,_=o.color.light.a?"<path "+li(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",v="<path "+li(o.color.dark,"stroke")+' d="'+Pl(h,i,o.margin)+'"/>',y='viewBox="0 0 '+l+" "+l+'"',A=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",B='<svg xmlns="http://www.w3.org/2000/svg" '+A+y+' shape-rendering="crispEdges">'+_+v+`</svg>
`;return typeof n=="function"&&n(null,B),B};var Ul=Tc,ln=So,Jo=zo,Fl=$o;function Nn(e,t,r,n,o){var i=[].slice.call(arguments,1),h=i.length,l=typeof i[h-1]=="function";if(!l&&!Ul())throw new Error("Callback required as last argument");if(l){if(h<2)throw new Error("Too few arguments provided");h===2?(o=r,r=t,t=n=void 0):h===3&&(t.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=r,r=t,t=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(r=t,t=n=void 0):h===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(v,y){try{var A=ln.create(r,n);v(e(A,t,n))}catch(B){y(B)}})}try{var _=ln.create(r,n);o(null,e(_,t,n))}catch(v){o(v)}}Ke.create=ln.create;Ke.toCanvas=Nn.bind(null,Jo.render);Ke.toDataURL=Nn.bind(null,Jo.renderToDataURL);Ke.toString=Nn.bind(null,function(e,t,r){return Fl.render(e,r)});var Dl=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}},ql=Dl,fi={"text/plain":"Text","text/html":"Url",default:"Text"},Hl="Copy to clipboard: #{key}, Enter";function Wl(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function jl(e,t){var r,n,o,i,h,l,_=!1;t||(t={}),r=t.debug||!1;try{o=ql(),i=document.createRange(),h=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(y){if(y.stopPropagation(),t.format)if(y.preventDefault(),typeof y.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var A=fi[t.format]||fi.default;window.clipboardData.setData(A,e)}else y.clipboardData.clearData(),y.clipboardData.setData(t.format,e);t.onCopy&&(y.preventDefault(),t.onCopy(y.clipboardData))}),document.body.appendChild(l),i.selectNodeContents(l),h.addRange(i);var v=document.execCommand("copy");if(!v)throw new Error("copy command was unsuccessful");_=!0}catch(y){r&&console.error("unable to copy using execCommand: ",y),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),_=!0}catch(A){r&&console.error("unable to copy using clipboardData: ",A),r&&console.error("falling back to prompt"),n=Wl("message"in t?t.message:Hl),window.prompt(n,e)}}finally{h&&(typeof h.removeRange=="function"?h.removeRange(i):h.removeAllRanges()),l&&document.body.removeChild(l),o()}return _}var zl=jl,at,He,Ln,Vo,hi,Pn,Ko,Kt={},Er=[],$l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Vt(e,t){for(var r in t)e[r]=t[r];return e}function Go(e){var t=e.parentNode;t&&t.removeChild(e)}function Gt(e,t,r){var n,o=arguments,i={};for(n in t)n!=="key"&&n!=="ref"&&(i[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(o[n]);if(r!=null&&(i.children=r),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return cr(e,i,t&&t.key,t&&t.ref,null)}function cr(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return o==null&&(i.__v=i),at.vnode&&at.vnode(i),i}function Yo(){return{}}function Ye(e){return e.children}function Wt(e,t){this.props=e,this.context=t}function $e(e,t){if(t==null)return e.__?$e(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?$e(e):null}function Qo(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Qo(e)}}function rr(e){(!e.__d&&(e.__d=!0)&&He.push(e)&&!Ln++||hi!==at.debounceRendering)&&((hi=at.debounceRendering)||Vo)(Jl)}function Jl(){for(var e;Ln=He.length;)e=He.sort(function(t,r){return t.__v.__b-r.__v.__b}),He=[],e.some(function(t){var r,n,o,i,h,l,_;t.__d&&(l=(h=(r=t).__v).__e,(_=r.__P)&&(n=[],(o=Vt({},h)).__v=o,i=Un(_,h,o,r.__n,_.ownerSVGElement!==void 0,null,n,l??$e(h)),Zo(n,h),i!=l&&Qo(h)))})}function Xo(e,t,r,n,o,i,h,l,_){var v,y,A,B,U,N,j,S=r&&r.__k||Er,R=S.length;if(l==Kt&&(l=i!=null?i[0]:R?$e(r,0):null),v=0,t.__k=oe(t.__k,function(O){if(O!=null){if(O.__=t,O.__b=t.__b+1,(A=S[v])===null||A&&O.key==A.key&&O.type===A.type)S[v]=void 0;else for(y=0;y<R;y++){if((A=S[y])&&O.key==A.key&&O.type===A.type){S[y]=void 0;break}A=null}if(B=Un(e,O,A=A||Kt,n,o,i,h,l,_),(y=O.ref)&&A.ref!=y&&(j||(j=[]),A.ref&&j.push(A.ref,null,O),j.push(y,O.__c||B,O)),B!=null){var T;if(N==null&&(N=B),O.__d!==void 0)T=O.__d,O.__d=void 0;else if(i==A||B!=l||B.parentNode==null){t:if(l==null||l.parentNode!==e)e.appendChild(B),T=null;else{for(U=l,y=0;(U=U.nextSibling)&&y<R;y+=2)if(U==B)break t;e.insertBefore(B,l),T=l}t.type=="option"&&(e.value="")}l=T!==void 0?T:B.nextSibling,typeof t.type=="function"&&(t.__d=l)}else l&&A.__e==l&&l.parentNode!=e&&(l=$e(A))}return v++,O}),t.__e=N,i!=null&&typeof t.type!="function")for(v=i.length;v--;)i[v]!=null&&Go(i[v]);for(v=R;v--;)S[v]!=null&&We(S[v],S[v]);if(j)for(v=0;v<j.length;v++)ta(j[v],j[++v],j[++v])}function oe(e,t,r){if(r==null&&(r=[]),e==null||typeof e=="boolean")t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)oe(e[n],t,r);else r.push(t?t(typeof e=="string"||typeof e=="number"?cr(null,e,null,null,e):e.__e!=null||e.__c!=null?cr(e.type,e.props,e.key,null,e.__v):e):e);return r}function Vl(e,t,r,n,o){var i;for(i in r)i==="children"||i==="key"||i in t||lr(e,i,null,r[i],n);for(i in t)o&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===t[i]||lr(e,i,t[i],r[i],n)}function di(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=typeof r=="number"&&$l.test(t)===!1?r+"px":r??""}function lr(e,t,r,n,o){var i,h,l,_,v;if(o?t==="className"&&(t="class"):t==="class"&&(t="className"),t==="style")if(i=e.style,typeof r=="string")i.cssText=r;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(_ in n)r&&_ in r||di(i,_,"");if(r)for(v in r)n&&r[v]===n[v]||di(i,v,r[v])}else t[0]==="o"&&t[1]==="n"?(h=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),r?(n||e.addEventListener(t,pi,h),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,pi,h)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&!o&&t in e?e[t]=r??"":typeof r!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/^xlink:?/,""))?r==null||r===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function pi(e){this.l[e.type](at.event?at.event(e):e)}function Un(e,t,r,n,o,i,h,l,_){var v,y,A,B,U,N,j,S,R,O,T=t.type;if(t.constructor!==void 0)return null;(v=at.__b)&&v(t);try{t:if(typeof T=="function"){if(S=t.props,R=(v=T.contextType)&&n[v.__c],O=v?R?R.props.value:v.__:n,r.__c?j=(y=t.__c=r.__c).__=y.__E:("prototype"in T&&T.prototype.render?t.__c=y=new T(S,O):(t.__c=y=new Wt(S,O),y.constructor=T,y.render=Gl),R&&R.sub(y),y.props=S,y.state||(y.state={}),y.context=O,y.__n=n,A=y.__d=!0,y.__h=[]),y.__s==null&&(y.__s=y.state),T.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Vt({},y.__s)),Vt(y.__s,T.getDerivedStateFromProps(S,y.__s))),B=y.props,U=y.state,A)T.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(T.getDerivedStateFromProps==null&&S!==B&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(S,O),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(S,y.__s,O)===!1||t.__v===r.__v&&!y.__){for(y.props=S,y.state=y.__s,t.__v!==r.__v&&(y.__d=!1),y.__v=t,t.__e=r.__e,t.__k=r.__k,y.__h.length&&h.push(y),v=0;v<t.__k.length;v++)t.__k[v]&&(t.__k[v].__=t);break t}y.componentWillUpdate!=null&&y.componentWillUpdate(S,y.__s,O),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(B,U,N)})}y.context=O,y.props=S,y.state=y.__s,(v=at.__r)&&v(t),y.__d=!1,y.__v=t,y.__P=e,v=y.render(y.props,y.state,y.context),t.__k=v!=null&&v.type==Ye&&v.key==null?v.props.children:Array.isArray(v)?v:[v],y.getChildContext!=null&&(n=Vt(Vt({},n),y.getChildContext())),A||y.getSnapshotBeforeUpdate==null||(N=y.getSnapshotBeforeUpdate(B,U)),Xo(e,t,r,n,o,i,h,l,_),y.base=t.__e,y.__h.length&&h.push(y),j&&(y.__E=y.__=null),y.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Kl(r.__e,t,r,n,o,i,h,_);(v=at.diffed)&&v(t)}catch(F){t.__v=null,at.__e(F,t,r)}return t.__e}function Zo(e,t){at.__c&&at.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){at.__e(n,r.__v)}})}function Kl(e,t,r,n,o,i,h,l){var _,v,y,A,B,U=r.props,N=t.props;if(o=t.type==="svg"||o,i!=null){for(_=0;_<i.length;_++)if((v=i[_])!=null&&((t.type===null?v.nodeType===3:v.localName===t.type)||e==v)){e=v,i[_]=null;break}}if(e==null){if(t.type===null)return document.createTextNode(N);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,N.is&&{is:N.is}),i=null,l=!1}if(t.type===null)U!==N&&e.data!=N&&(e.data=N);else{if(i!=null&&(i=Er.slice.call(e.childNodes)),y=(U=r.props||Kt).dangerouslySetInnerHTML,A=N.dangerouslySetInnerHTML,!l){if(U===Kt)for(U={},B=0;B<e.attributes.length;B++)U[e.attributes[B].name]=e.attributes[B].value;(A||y)&&(A&&y&&A.__html==y.__html||(e.innerHTML=A&&A.__html||""))}Vl(e,N,U,o,l),A?t.__k=[]:(t.__k=t.props.children,Xo(e,t,r,n,t.type!=="foreignObject"&&o,i,h,Kt,l)),l||("value"in N&&(_=N.value)!==void 0&&_!==e.value&&lr(e,"value",_,U.value,!1),"checked"in N&&(_=N.checked)!==void 0&&_!==e.checked&&lr(e,"checked",_,U.checked,!1))}return e}function ta(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){at.__e(n,r)}}function We(e,t,r){var n,o,i;if(at.unmount&&at.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||ta(n,null,t)),r||typeof e.type=="function"||(r=(o=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(h){at.__e(h,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&We(n[i],t,r);o!=null&&Go(o)}function Gl(e,t,r){return this.constructor(e,r)}function Je(e,t,r){var n,o,i;at.__&&at.__(e,t),o=(n=r===Pn)?null:r&&r.__k||t.__k,e=Gt(Ye,null,[e]),i=[],Un(t,(n?t:r||t).__k=e,o||Kt,Kt,t.ownerSVGElement!==void 0,r&&!n?[r]:o?null:Er.slice.call(t.childNodes),i,r||Kt,n),Zo(i,e)}function ea(e,t){Je(e,t,Pn)}function Yl(e,t){var r,n;for(n in t=Vt(Vt({},e.props),t),arguments.length>2&&(t.children=Er.slice.call(arguments,2)),r={},t)n!=="key"&&n!=="ref"&&(r[n]=t[n]);return cr(e.type,r,t.key||e.key,t.ref||e.ref,null)}function ra(e){var t={},r={__c:"__cC"+Ko++,__:e,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i=this;return this.getChildContext||(o=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(h){i.props.value!==h.value&&o.some(function(l){l.context=h.value,rr(l)})},this.sub=function(h){o.push(h);var l=h.componentWillUnmount;h.componentWillUnmount=function(){o.splice(o.indexOf(h),1),l&&l.call(h)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}at={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(e)),n)return rr(r.__E=r)}catch(o){e=o}throw e}},Wt.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=Vt({},this.state),typeof e=="function"&&(e=e(r,this.props)),e&&Vt(r,e),e!=null&&this.__v&&(t&&this.__h.push(t),rr(this))},Wt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rr(this))},Wt.prototype.render=Ye,He=[],Ln=0,Vo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pn=Kt,Ko=0;var xe,Ft,_i,Oe=0,fn=[],gi=at.__r,vi=at.diffed,mi=at.__c,yi=at.unmount;function Ue(e,t){at.__h&&at.__h(Ft,e,Oe||t),Oe=0;var r=Ft.__H||(Ft.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function Fn(e){return Oe=1,Dn(ca,e)}function Dn(e,t,r){var n=Ue(xe++,2);return n.__c||(n.__c=Ft,n.__=[r?r(t):ca(void 0,t),function(o){var i=e(n.__[0],o);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}function na(e,t){var r=Ue(xe++,3);!at.__s&&Hn(r.__H,t)&&(r.__=e,r.__H=t,Ft.__H.__h.push(r))}function qn(e,t){var r=Ue(xe++,4);!at.__s&&Hn(r.__H,t)&&(r.__=e,r.__H=t,Ft.__h.push(r))}function ia(e){return Oe=5,Sr(function(){return{current:e}},[])}function oa(e,t,r){Oe=6,qn(function(){typeof e=="function"?e(t()):e&&(e.current=t())},r==null?r:r.concat(e))}function Sr(e,t){var r=Ue(xe++,7);return Hn(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function aa(e,t){return Oe=8,Sr(function(){return e},t)}function sa(e){var t=Ft.context[e.__c],r=Ue(xe++,9);return r.__c=e,t?(r.__==null&&(r.__=!0,t.sub(Ft)),t.props.value):e.__}function ua(e,t){at.useDebugValue&&at.useDebugValue(t?t(e):e)}function Ql(e){var t=Ue(xe++,10),r=Fn();return t.__=e,Ft.componentDidCatch||(Ft.componentDidCatch=function(n){t.__&&t.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Xl(){fn.some(function(e){if(e.__P)try{e.__H.__h.forEach(hn),e.__H.__h.forEach(dn),e.__H.__h=[]}catch(t){return e.__H.__h=[],at.__e(t,e.__v),!0}}),fn=[]}function hn(e){e.t&&e.t()}function dn(e){var t=e.__();typeof t=="function"&&(e.t=t)}function Hn(e,t){return!e||t.some(function(r,n){return r!==e[n]})}function ca(e,t){return typeof t=="function"?t(e):t}at.__r=function(e){gi&&gi(e),xe=0,(Ft=e.__c).__H&&(Ft.__H.__h.forEach(hn),Ft.__H.__h.forEach(dn),Ft.__H.__h=[])},at.diffed=function(e){vi&&vi(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(fn.push(t)!==1&&_i===at.requestAnimationFrame||((_i=at.requestAnimationFrame)||function(n){var o,i=function(){clearTimeout(h),cancelAnimationFrame(o),setTimeout(n)},h=setTimeout(i,100);typeof window<"u"&&(o=requestAnimationFrame(i))})(Xl))}},at.__c=function(e,t){t.some(function(r){try{r.__h.forEach(hn),r.__h=r.__h.filter(function(n){return!n.__||dn(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],at.__e(n,r.__v)}}),mi&&mi(e,t)},at.unmount=function(e){yi&&yi(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){at.__e(n,t.__v)}}};function Wn(e,t){for(var r in t)e[r]=t[r];return e}function pn(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}var la=function(e){var t,r;function n(o){var i;return(i=e.call(this,o)||this).isPureReactComponent=!0,i}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.shouldComponentUpdate=function(o,i){return pn(this.props,o)||pn(this.state,i)},n}(Wt);function fa(e,t){function r(o){var i=this.props.ref,h=i==o.ref;return!h&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!h:pn(this.props,o)}function n(o){return this.shouldComponentUpdate=r,Gt(e,Wn({},o))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var wi=at.__b;function ha(e){function t(r){var n=Wn({},r);return delete n.ref,e(n,r.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}at.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),wi&&wi(e)};var bi=function(e,t){return e?oe(e).reduce(function(r,n,o){return r.concat(t(n,o))},[]):null},da={map:bi,forEach:bi,count:function(e){return e?oe(e).length:0},only:function(e){if((e=oe(e)).length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:oe},Zl=at.__e;function pa(e){return e&&((e=Wn({},e)).__c=null,e.__k=e.__k&&e.__k.map(pa)),e}function fr(){this.__u=0,this.o=null,this.__b=null}function _a(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function ga(e){var t,r,n;function o(i){if(t||(t=e()).then(function(h){r=h.default||h},function(h){n=h}),n)throw n;if(!r)throw t;return Gt(r,i)}return o.displayName="Lazy",o.t=!0,o}function Ee(){this.i=null,this.l=null}at.__e=function(e,t,r){if(e.then){for(var n,o=t;o=o.__;)if((n=o.__c)&&n.__c)return n.__c(e,t.__c)}Zl(e,t,r)},(fr.prototype=new Wt).__c=function(e,t){var r=this;r.o==null&&(r.o=[]),r.o.push(t);var n=_a(r.__v),o=!1,i=function(){o||(o=!0,n?n(h):h())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var h=function(){var l;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});l=r.o.pop();)l.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(i,i)},fr.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=pa(this.__b),this.__b=null),[Gt(Wt,null,t.u?null:e.children),t.u&&e.fallback]};var xi=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(Ee.prototype=new Wt).u=function(e){var t=this,r=_a(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),xi(t,e,n)):o()};r?r(i):i()}},Ee.prototype.render=function(e){this.i=null,this.l=new Map;var t=oe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},Ee.prototype.componentDidUpdate=Ee.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,r){xi(e,r,t)})};var tf=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(r){return r.children},e}();function ef(e){var t=this,r=e.container,n=Gt(tf,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),We(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,Je(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),ea("",r),r.appendChild(t.v),t.p=!0,t.s=r,Je(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),We(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),We(t.h)},null}function va(e,t){return Gt(ef,{vnode:e,container:t})}var Mi=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Wt.prototype.isReactComponent={};var ma=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function _n(e,t,r){if(t.__k==null)for(;t.firstChild;)t.removeChild(t.firstChild);return Je(e,t),typeof r=="function"&&r(),e?e.__c:null}function rf(e,t,r){return ea(e,t),typeof r=="function"&&r(),e?e.__c:null}var Ei=at.event;function Kr(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(r){this["UNSAFE_"+t]=r}})}at.event=function(e){Ei&&(e=Ei(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var Si={configurable:!0,get:function(){return this.class}},Ci=at.vnode;at.vnode=function(e){e.$$typeof=ma;var t=e.type,r=e.props;if(t){if(r.class!=r.className&&(Si.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",Si)),typeof t!="function"){var n,o,i;for(i in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&t==="select"&&(oe(r.children).forEach(function(h){r.value.indexOf(h.props.value)!=-1&&(h.props.selected=!0)}),delete r.value),r)if(n=Mi.test(i))break;if(n)for(i in o=e.props={},r)o[Mi.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=r[i]}(function(h){var l=e.type,_=e.props;if(_&&typeof l=="string"){var v={};for(var y in _)/^on(Ani|Tra|Tou)/.test(y)&&(_[y.toLowerCase()]=_[y],delete _[y]),v[y.toLowerCase()]=y;if(v.ondoubleclick&&(_.ondblclick=_[v.ondoubleclick],delete _[v.ondoubleclick]),v.onbeforeinput&&(_.onbeforeinput=_[v.onbeforeinput],delete _[v.onbeforeinput]),v.onchange&&(l==="textarea"||l.toLowerCase()==="input"&&!/^fil|che|ra/i.test(_.type))){var A=v.oninput||"oninput";_[A]||(_[A]=_[v.onchange],delete _[v.onchange])}}})(),typeof t=="function"&&!t.m&&t.prototype&&(Kr(t.prototype,"componentWillMount"),Kr(t.prototype,"componentWillReceiveProps"),Kr(t.prototype,"componentWillUpdate"),t.m=!0)}Ci&&Ci(e)};var nf="16.8.0";function ya(e){return Gt.bind(null,e)}function jn(e){return!!e&&e.$$typeof===ma}function wa(e){return jn(e)?Yl.apply(null,arguments):e}function ba(e){return!!e.__k&&(Je(null,e),!0)}function xa(e){return e&&(e.base||e.nodeType===1&&e)||null}var Ma=function(e,t){return e(t)};const of={useState:Fn,useReducer:Dn,useEffect:na,useLayoutEffect:qn,useRef:ia,useImperativeHandle:oa,useMemo:Sr,useCallback:aa,useContext:sa,useDebugValue:ua,version:"16.8.0",Children:da,render:_n,hydrate:_n,unmountComponentAtNode:ba,createPortal:va,createElement:Gt,createContext:ra,createFactory:ya,cloneElement:wa,createRef:Yo,Fragment:Ye,isValidElement:jn,findDOMNode:xa,Component:Wt,PureComponent:la,memo:fa,forwardRef:ha,unstable_batchedUpdates:Ma,Suspense:fr,SuspenseList:Ee,lazy:ga},af=Object.freeze(Object.defineProperty({__proto__:null,Children:da,Component:Wt,Fragment:Ye,PureComponent:la,Suspense:fr,SuspenseList:Ee,cloneElement:wa,createContext:ra,createElement:Gt,createFactory:ya,createPortal:va,createRef:Yo,default:of,findDOMNode:xa,forwardRef:ha,hydrate:rf,isValidElement:jn,lazy:ga,memo:fa,render:_n,unmountComponentAtNode:ba,unstable_batchedUpdates:Ma,useCallback:aa,useContext:sa,useDebugValue:ua,useEffect:na,useErrorBoundary:Ql,useImperativeHandle:oa,useLayoutEffect:qn,useMemo:Sr,useReducer:Dn,useRef:ia,useState:Fn,version:nf},Symbol.toStringTag,{value:"Module"})),sf=hr(af);function Ea(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Ut=Ic,Sa=Ea(Ke),uf=Ea(zl),K=sf;function cf(e){Sa.toString(e,{type:"terminal"}).then(console.log)}var lf=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function ff(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}var hf="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",df="WalletConnect",pf=300,_f="rgb(64, 153, 255)",Ca="walletconnect-wrapper",ki="walletconnect-style-sheet",ka="walletconnect-qrcode-modal",gf="walletconnect-qrcode-close",Aa="walletconnect-qrcode-text",vf="walletconnect-connect-button";function mf(e){return K.createElement("div",{className:"walletconnect-modal__header"},K.createElement("img",{src:hf,className:"walletconnect-modal__headerLogo"}),K.createElement("p",null,df),K.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},K.createElement("div",{id:gf,className:"walletconnect-modal__close__icon"},K.createElement("div",{className:"walletconnect-modal__close__line1"}),K.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function yf(e){return K.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:vf+"-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}var wf="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function bf(e){var t=e.color,r=e.href,n=e.name,o=e.logo,i=e.onClick;return K.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},K.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),K.createElement("div",{className:"walletconnect-modal__base__row__right"},K.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),K.createElement("img",{src:wf,className:"walletconnect-modal__base__row__right__caret"})))}function xf(e){var t=e.color,r=e.href,n=e.name,o=e.logo,i=e.onClick,h=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return K.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},K.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),K.createElement("div",{style:{fontSize:h},className:"walletconnect-connect__button__text"},n))}var Mf=5,Gr=12;function Ef(e){var t=Ut.isAndroid(),r=K.useState(""),n=r[0],o=r[1],i=K.useState(""),h=i[0],l=i[1],_=K.useState(1),v=_[0],y=_[1],A=h?e.links.filter(function(F){return F.name.toLowerCase().includes(h.toLowerCase())}):e.links,B=e.errorMessage,U=h||A.length>Mf,N=Math.ceil(A.length/Gr),j=[(v-1)*Gr+1,v*Gr],S=A.length?A.filter(function(F,V){return V+1>=j[0]&&V+1<=j[1]}):[],R=!t&&N>1,O=void 0;function T(F){o(F.target.value),clearTimeout(O),F.target.value?O=setTimeout(function(){l(F.target.value),y(1)},1e3):(o(""),l(""),y(1))}return K.createElement("div",null,K.createElement("p",{id:Aa,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&K.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:T}),K.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":U&&A.length?"__wrap":"")},t?K.createElement(yf,{name:e.text.connect,color:_f,href:e.uri,onClick:K.useCallback(function(){Ut.saveMobileLinkInfo({name:"Unknown",href:e.uri})},[])}):S.length?S.map(function(F){var V=F.color,Q=F.name,it=F.shortName,rt=F.logo,ht=Ut.formatIOSMobile(e.uri,F),E=K.useCallback(function(){Ut.saveMobileLinkInfo({name:Q,href:ht})},[S]);return U?K.createElement(xf,{color:V,href:ht,name:it||Q,logo:rt,onClick:E}):K.createElement(bf,{color:V,href:ht,name:Q,logo:rt,onClick:E})}):K.createElement(K.Fragment,null,K.createElement("p",null,B.length?e.errorMessage:e.links.length&&!A.length?e.text.no_wallets_found:e.text.loading))),R&&K.createElement("div",{className:"walletconnect-modal__footer"},Array(N).fill(0).map(function(F,V){var Q=V+1,it=v===Q;return K.createElement("a",{style:{margin:"auto 10px",fontWeight:it?"bold":"normal"},onClick:function(){return y(Q)}},Q)})))}function Sf(e){var t=!!e.message.trim();return K.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var Cf=function(e){try{var t="";return Promise.resolve(Sa.toString(e,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(t=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(r){return Promise.reject(r)}};function kf(e){var t=K.useState(""),r=t[0],n=t[1],o=K.useState(""),i=o[0],h=o[1];K.useEffect(function(){try{return Promise.resolve(Cf(e.uri)).then(function(_){h(_)})}catch(_){Promise.reject(_)}},[]);var l=function(){var _=uf(e.uri);_?(n(e.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return K.createElement("div",null,K.createElement("p",{id:Aa,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),K.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),K.createElement("div",{className:"walletconnect-modal__footer"},K.createElement("a",{onClick:l},e.text.copy_to_clipboard)),K.createElement(Sf,{message:r}))}function Af(e){var t=Ut.isAndroid(),r=Ut.isMobile(),n=r?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,o=K.useState(!1),i=o[0],h=o[1],l=K.useState(!1),_=l[0],v=l[1],y=K.useState(!r),A=y[0],B=y[1],U={mobile:r,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},N=K.useState(""),j=N[0],S=N[1],R=K.useState(!1),O=R[0],T=R[1],F=K.useState([]),V=F[0],Q=F[1],it=K.useState(""),rt=it[0],ht=it[1],E=function(){_||i||n&&!n.length||V.length>0||K.useEffect(function(){var f=function(){try{if(t)return Promise.resolve();h(!0);var p=ff(function(){var g=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:Ut.getWalletRegistryUrl();return Promise.resolve(fetch(g)).then(function(x){return Promise.resolve(x.json()).then(function(C){var I=C.listings,w=r?"mobile":"desktop",s=Ut.getMobileLinkRegistry(Ut.formatMobileRegistry(I,w),n);h(!1),v(!0),ht(s.length?"":e.text.no_supported_wallets),Q(s);var b=s.length===1;b&&(S(Ut.formatIOSMobile(e.uri,s[0])),B(!0)),T(b)})})},function(g){h(!1),v(!0),ht(e.text.something_went_wrong),console.error(g)});return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(g){return Promise.reject(g)}};f()})};E();var a=r?A:!A;return K.createElement("div",{id:ka,className:"walletconnect-qrcode__base animated fadeIn"},K.createElement("div",{className:"walletconnect-modal__base"},K.createElement(mf,{onClose:e.onClose}),O&&A?K.createElement("div",{className:"walletconnect-modal__single_wallet"},K.createElement("a",{onClick:function(){return Ut.saveMobileLinkInfo({name:V[0].name,href:j})},href:j,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(O?V[0].name:"")+" ")):t||i||!i&&V.length?K.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(a?" right__selected":"")},K.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?K.createElement(K.Fragment,null,K.createElement("a",{onClick:function(){return B(!1),E()}},e.text.mobile),K.createElement("a",{onClick:function(){return B(!0)}},e.text.qrcode)):K.createElement(K.Fragment,null,K.createElement("a",{onClick:function(){return B(!0)}},e.text.qrcode),K.createElement("a",{onClick:function(){return B(!1),E()}},e.text.desktop))):null,K.createElement("div",null,A||!t&&!i&&!V.length?K.createElement(kf,Object.assign({},U)):K.createElement(Ef,Object.assign({},U,{links:V,errorMessage:rt})))))}var Rf={choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine untersttzten Wallet",no_wallets_found:"keine Wallet gefunden"},If={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},Tf={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali mal",no_supported_wallets:"Todava no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},Bf={choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv"},Of={choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" ",loading:" ...",something_went_wrong:" .",no_supported_wallets:"   ",no_wallets_found:"   "},Nf={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda no h carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Lf={choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:"",loading:"...",something_went_wrong:"",no_supported_wallets:"",no_wallets_found:""},Pf={choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" ",loading:"...",something_went_wrong:"  ",no_supported_wallets:"        ",no_wallets_found:"    "},Ai={de:Rf,en:If,es:Tf,fr:Bf,ko:Of,pt:Nf,zh:Lf,fa:Pf};function Uf(){var e=Ut.getDocumentOrThrow(),t=e.getElementById(ki);t&&e.head.removeChild(t);var r=e.createElement("style");r.setAttribute("id",ki),r.innerText=lf,e.head.appendChild(r)}function Ff(){var e=Ut.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",Ca),e.body.appendChild(t),t}function Ra(){var e=Ut.getDocumentOrThrow(),t=e.getElementById(ka);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=e.getElementById(Ca);r&&e.body.removeChild(r)},pf))}function Df(e){return function(){Ra(),e&&e()}}function qf(){var e=Ut.getNavigatorOrThrow().language.split("-")[0]||"en";return Ai[e]||Ai.en}function Hf(e,t,r){Uf();var n=Ff();K.render(K.createElement(Af,{text:qf(),uri:e,onClose:Df(t),qrcodeModalOptions:r}),n)}function Wf(){Ra()}var Ia=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function jf(e,t,r){console.log(e),Ia()?cf(e):Hf(e,t,r)}function zf(){Ia()||Wf()}var $f={open:jf,close:zf},Jf=$f;const Vf=dr(Jf);var Ta={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(_,v,y){this.fn=_,this.context=v,this.once=y||!1}function i(_,v,y,A,B){if(typeof y!="function")throw new TypeError("The listener must be a function");var U=new o(y,A||_,B),N=r?r+v:v;return _._events[N]?_._events[N].fn?_._events[N]=[_._events[N],U]:_._events[N].push(U):(_._events[N]=U,_._eventsCount++),_}function h(_,v){--_._eventsCount===0?_._events=new n:delete _._events[v]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var v=[],y,A;if(this._eventsCount===0)return v;for(A in y=this._events)t.call(y,A)&&v.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(y)):v},l.prototype.listeners=function(v){var y=r?r+v:v,A=this._events[y];if(!A)return[];if(A.fn)return[A.fn];for(var B=0,U=A.length,N=new Array(U);B<U;B++)N[B]=A[B].fn;return N},l.prototype.listenerCount=function(v){var y=r?r+v:v,A=this._events[y];return A?A.fn?1:A.length:0},l.prototype.emit=function(v,y,A,B,U,N){var j=r?r+v:v;if(!this._events[j])return!1;var S=this._events[j],R=arguments.length,O,T;if(S.fn){switch(S.once&&this.removeListener(v,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,y),!0;case 3:return S.fn.call(S.context,y,A),!0;case 4:return S.fn.call(S.context,y,A,B),!0;case 5:return S.fn.call(S.context,y,A,B,U),!0;case 6:return S.fn.call(S.context,y,A,B,U,N),!0}for(T=1,O=new Array(R-1);T<R;T++)O[T-1]=arguments[T];S.fn.apply(S.context,O)}else{var F=S.length,V;for(T=0;T<F;T++)switch(S[T].once&&this.removeListener(v,S[T].fn,void 0,!0),R){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,y);break;case 3:S[T].fn.call(S[T].context,y,A);break;case 4:S[T].fn.call(S[T].context,y,A,B);break;default:if(!O)for(V=1,O=new Array(R-1);V<R;V++)O[V-1]=arguments[V];S[T].fn.apply(S[T].context,O)}}return!0},l.prototype.on=function(v,y,A){return i(this,v,y,A,!1)},l.prototype.once=function(v,y,A){return i(this,v,y,A,!0)},l.prototype.removeListener=function(v,y,A,B){var U=r?r+v:v;if(!this._events[U])return this;if(!y)return h(this,U),this;var N=this._events[U];if(N.fn)N.fn===y&&(!B||N.once)&&(!A||N.context===A)&&h(this,U);else{for(var j=0,S=[],R=N.length;j<R;j++)(N[j].fn!==y||B&&!N[j].once||A&&N[j].context!==A)&&S.push(N[j]);S.length?this._events[U]=S.length===1?S[0]:S:h(this,U)}return this},l.prototype.removeAllListeners=function(v){var y;return v?(y=r?r+v:v,this._events[y]&&h(this,y)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Ta);var Kf=Ta.exports;const Gf=dr(Kf);var Ba={},zn={},$n={};Object.defineProperty($n,"__esModule",{value:!0});var Yf=function(){function e(t){this.type=t,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return e}();$n.ProgressEvent=Yf;var Fe={},Cr=Pt&&Pt.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Fe,"__esModule",{value:!0});var Qf=function(e){Cr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Fe.SecurityError=Qf;var Xf=function(e){Cr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Fe.InvalidStateError=Xf;var Zf=function(e){Cr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Fe.NetworkError=Zf;var th=function(e){Cr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Error);Fe.SyntaxError=th;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});var eh=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(t,r){t=t.toLowerCase(),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(r.handleEvent||r)},e.prototype.removeEventListener=function(t,r){if(t=t.toLowerCase(),!!this.listeners[t]){var n=this.listeners[t].indexOf(r.handleEvent||r);n<0||this.listeners[t].splice(n,1)}},e.prototype.dispatchEvent=function(t){var r=t.type.toLowerCase();if(t.target=this,this.listeners[r])for(var n=0,o=this.listeners[r];n<o.length;n++){var i=o[n];i.call(this,t)}var h=this["on"+r];return h&&h.call(this,t),!0},e}();Qe.XMLHttpRequestEventTarget=eh;var Jn={},rh=Pt&&Pt.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Jn,"__esModule",{value:!0});var nh=Qe,ih=function(e){rh(t,e);function t(){var r=e.call(this)||this;return r._contentType=null,r._body=null,r._reset(),r}return t.prototype._reset=function(){this._contentType=null,this._body=null},t.prototype._setData=function(r){if(r!=null)if(typeof r=="string")r.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(r,"utf-8");else if(Buffer.isBuffer(r))this._body=r;else if(r instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),o=new Uint8Array(r),i=0;i<r.byteLength;i++)n[i]=o[i];this._body=n}else if(r.buffer&&r.buffer instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),h=r.byteOffset,o=new Uint8Array(r.buffer),i=0;i<r.byteLength;i++)n[i]=o[i+h];this._body=n}else throw new Error("Unsupported send() data "+r)},t.prototype._finalizeHeaders=function(r,n){this._contentType&&!n["content-type"]&&(r["Content-Type"]=this._contentType),this._body&&(r["Content-Length"]=this._body.length.toString())},t.prototype._startUpload=function(r){this._body&&r.write(this._body),r.end()},t}(nh.XMLHttpRequestEventTarget);Jn.XMLHttpRequestUpload=ih;var nr={};(function(){function e(o,i,h,l){return this instanceof e?(this.domain=o||void 0,this.path=i||"/",this.secure=!!h,this.script=!!l,this):new e(o,i,h,l)}e.All=Object.freeze(Object.create(null)),nr.CookieAccessInfo=e;function t(o,i,h){return o instanceof t?o:this instanceof t?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(h||"/"),this.explicit_path=!1,this.domain=i||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,o&&this.parse(o,i,h),this):new t(o,i,h)}nr.Cookie=t,t.prototype.toString=function(){var i=[this.name+"="+this.value];return this.expiration_date!==1/0&&i.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&i.push("domain="+this.domain),this.path&&i.push("path="+this.path),this.secure&&i.push("secure"),this.noscript&&i.push("httponly"),i.join("; ")},t.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;t.prototype.parse=function(i,h,l){if(this instanceof t){if(i.length>32768){console.warn("Cookie too long for parsing (>32768 characters)");return}var _=i.split(";").filter(function(U){return!!U}),v,y=_[0].match(/([^=]+)=([\s\S]*)/);if(!y){console.warn("Invalid cookie header encountered. Header: '"+i+"'");return}var A=y[1],B=y[2];if(typeof A!="string"||A.length===0||typeof B!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+i+"'");return}for(this.name=A,this.value=B,v=1;v<_.length;v+=1)switch(y=_[v].match(/([^=]+)(?:=([\s\S]*))?/),A=y[1].trim().toLowerCase(),B=y[2],A){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=B?Number(Date.parse(B)):1/0;break;case"path":this.path=B?B.trim():"",this.explicit_path=!0;break;case"domain":this.domain=B?B.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=l||"/"),this.explicit_domain||(this.domain=h),this}return new t().parse(i,h,l)},t.prototype.matches=function(i){return i===e.All?!0:!(this.noscript&&i.script||this.secure&&!i.secure||!this.collidesWith(i))},t.prototype.collidesWith=function(i){if(this.path&&!i.path||this.domain&&!i.domain||this.path&&i.path.indexOf(this.path)!==0||this.explicit_path&&i.path.indexOf(this.path)!==0)return!1;var h=i.domain&&i.domain.replace(/^[\.]/,""),l=this.domain&&this.domain.replace(/^[\.]/,"");if(l===h)return!0;if(l){if(!this.explicit_domain)return!1;var _=h.indexOf(l);return!(_===-1||_!==h.length-l.length)}return!0};function n(){var o,i,h;return this instanceof n?(o=Object.create(null),this.setCookie=function(_,v,y){var A,B;if(_=new t(_,v,y),A=_.expiration_date<=Date.now(),o[_.name]!==void 0){for(i=o[_.name],B=0;B<i.length;B+=1)if(h=i[B],h.collidesWith(_))return A?(i.splice(B,1),i.length===0&&delete o[_.name],!1):(i[B]=_,_);return A?!1:(i.push(_),_)}return A?!1:(o[_.name]=[_],o[_.name])},this.getCookie=function(_,v){var y,A;if(i=o[_],!!i)for(A=0;A<i.length;A+=1){if(y=i[A],y.expiration_date<=Date.now()){i.length===0&&delete o[y.name];continue}if(y.matches(v))return y}},this.getCookies=function(_){var v=[],y,A;for(y in o)A=this.getCookie(y,_),A&&v.push(A);return v.toString=function(){return v.join(":")},v.toValueString=function(){return v.map(function(U){return U.toValueString()}).join("; ")},v},this):new n}nr.CookieJar=n,n.prototype.setCookies=function(i,h,l){i=Array.isArray(i)?i:i.split(r);var _=[],v,y;for(i=i.map(function(A){return new t(A,h,l)}),v=0;v<i.length;v+=1)y=i[v],this.setCookie(y,h,l)&&_.push(y);return _}})();var oh=Pt&&Pt.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ah=Pt&&Pt.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(zn,"__esModule",{value:!0});var gn=Ve,Oa=Ve,Ri=Ve,Yr=Ve,Ii=$n,er=Fe,sh=Qe,Ti=Jn,Bi=nr,kr=function(e){oh(t,e);function t(r){r===void 0&&(r={});var n=e.call(this)||this;return n.UNSENT=t.UNSENT,n.OPENED=t.OPENED,n.HEADERS_RECEIVED=t.HEADERS_RECEIVED,n.LOADING=t.LOADING,n.DONE=t.DONE,n.onreadystatechange=null,n.readyState=t.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new Ti.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+Ri.type()+" "+Ri.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return t.prototype.open=function(r,n,o,i,h){if(o===void 0&&(o=!0),r=r.toUpperCase(),this._restrictedMethods[r])throw new t.SecurityError("HTTP method "+r+" is not allowed in XHR");var l=this._parseUrl(n,i,h);this.readyState===t.HEADERS_RECEIVED||(this.readyState,t.LOADING),this._method=r,this._url=l,this._sync=!o,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(t.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},t.prototype.setRequestHeader=function(r,n){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");var o=r.toLowerCase();if(this._restrictedHeaders[o]||/^sec-/.test(o)||/^proxy-/.test(o)){console.warn('Refused to set unsafe header "'+r+'"');return}n=n.toString(),this._loweredHeaders[o]!=null?(r=this._loweredHeaders[o],this._headers[r]=this._headers[r]+", "+n):(this._loweredHeaders[o]=r,this._headers[r]=n)},t.prototype.send=function(r){if(this.readyState!==t.OPENED)throw new t.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new t.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(r);case"http:":case"https:":return this._sendHttp(r);default:throw new t.NetworkError("Unsupported protocol "+this._url.protocol)}},t.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},t.prototype.getResponseHeader=function(r){if(this._responseHeaders==null||r==null)return null;var n=r.toLowerCase();return this._responseHeaders.hasOwnProperty(n)?this._responseHeaders[r.toLowerCase()]:null},t.prototype.getAllResponseHeaders=function(){var r=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(n){return n+": "+r._responseHeaders[n]}).join(`\r
`)},t.prototype.overrideMimeType=function(r){if(this.readyState===t.LOADING||this.readyState===t.DONE)throw new t.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()},t.prototype.nodejsSet=function(r){if(this.nodejsHttpAgent=r.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=r.httpsAgent||this.nodejsHttpsAgent,r.hasOwnProperty("baseUrl")){if(r.baseUrl!=null){var n=Yr.parse(r.baseUrl,!1,!0);if(!n.protocol)throw new t.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=r.baseUrl}},t.nodejsSet=function(r){t.prototype.nodejsSet(r)},t.prototype._setReadyState=function(r){this.readyState=r,this.dispatchEvent(new Ii.ProgressEvent("readystatechange"))},t.prototype._sendFile=function(r){throw new Error("Protocol file: not implemented")},t.prototype._sendHttp=function(r){if(this._sync)throw new Error("Synchronous XHR processing not implemented");r&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),r=null):r=r||"",this.upload._setData(r),this._finalizeHeaders(),this._sendHxxpRequest()},t.prototype._sendHxxpRequest=function(){var r=this;if(this.withCredentials){var n=t.cookieJar.getCookies(Bi.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=n}var o=this._url.protocol==="http:"?[gn,this.nodejsHttpAgent]:[Oa,this.nodejsHttpsAgent],i=o[0],h=o[1],l=i.request.bind(i),_=l({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:h});this._request=_,this.timeout&&_.setTimeout(this.timeout,function(){return r._onHttpTimeout(_)}),_.on("response",function(v){return r._onHttpResponse(_,v)}),_.on("error",function(v){return r._onHttpRequestError(_,v)}),this.upload._startUpload(_),this._request===_&&this._dispatchProgress("loadstart")},t.prototype._finalizeHeaders=function(){this._headers=ah({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},t.prototype._onHttpResponse=function(r,n){var o=this;if(this._request===r){if(this.withCredentials&&(n.headers["set-cookie"]||n.headers["set-cookie2"])&&t.cookieJar.setCookies(n.headers["set-cookie"]||n.headers["set-cookie2"]),[301,302,303,307,308].indexOf(n.statusCode)>=0){this._url=this._parseUrl(n.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=n,this._response.on("data",function(h){return o._onHttpResponseData(n,h)}),this._response.on("end",function(){return o._onHttpResponseEnd(n)}),this._response.on("close",function(){return o._onHttpResponseClose(n)}),this.responseUrl=this._url.href.split("#")[0],this.status=n.statusCode,this.statusText=gn.STATUS_CODES[this.status],this._parseResponseHeaders(n);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(t.HEADERS_RECEIVED)}},t.prototype._onHttpResponseData=function(r,n){this._response===r&&(this._responseParts.push(new Buffer(n)),this._loadedBytes+=n.length,this.readyState!==t.LOADING&&this._setReadyState(t.LOADING),this._dispatchProgress("progress"))},t.prototype._onHttpResponseEnd=function(r){this._response===r&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(t.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},t.prototype._onHttpResponseClose=function(r){if(this._response===r){var n=this._request;this._setError(),n.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},t.prototype._onHttpTimeout=function(r){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},t.prototype._onHttpRequestError=function(r,n){this._request===r&&(this._setError(),r.abort(),this._setReadyState(t.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},t.prototype._dispatchProgress=function(r){var n=new t.ProgressEvent(r);n.lengthComputable=this._lengthComputable,n.loaded=this._loadedBytes,n.total=this._totalBytes,this.dispatchEvent(n)},t.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},t.prototype._parseUrl=function(r,n,o){var i=this.nodejsBaseUrl==null?r:Yr.resolve(this.nodejsBaseUrl,r),h=Yr.parse(i,!1,!0);h.hash=null;var l=(h.auth||"").split(":"),_=l[0],v=l[1];return(_||v||n||o)&&(h.auth=(n||_||"")+":"+(o||v||"")),h},t.prototype._parseResponseHeaders=function(r){this._responseHeaders={};for(var n in r.headers){var o=n.toLowerCase();this._privateHeaders[o]||(this._responseHeaders[o]=r.headers[n])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},t.prototype._parseResponse=function(){var r=Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(r.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=r;return;case"arraybuffer":this.responseText=null;for(var n=new ArrayBuffer(r.length),o=new Uint8Array(n),i=0;i<r.length;i++)o[i]=r[i];this.response=n;return;case"text":default:try{this.responseText=r.toString(this._parseResponseEncoding())}catch{this.responseText=r.toString("binary")}this.response=this.responseText}},t.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},t.ProgressEvent=Ii.ProgressEvent,t.InvalidStateError=er.InvalidStateError,t.NetworkError=er.NetworkError,t.SecurityError=er.SecurityError,t.SyntaxError=er.SyntaxError,t.XMLHttpRequestUpload=Ti.XMLHttpRequestUpload,t.UNSENT=0,t.OPENED=1,t.HEADERS_RECEIVED=2,t.LOADING=3,t.DONE=4,t.cookieJar=Bi.CookieJar(),t}(sh.XMLHttpRequestEventTarget);zn.XMLHttpRequest=kr;kr.prototype.nodejsHttpAgent=gn.globalAgent;kr.prototype.nodejsHttpsAgent=Oa.globalAgent;kr.prototype.nodejsBaseUrl=null;(function(e){function t(n){for(var o in n)e.hasOwnProperty(o)||(e[o]=n[o])}Object.defineProperty(e,"__esModule",{value:!0}),t(zn);var r=Qe;e.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget})(Ba);const uh=Qi("XMLHttpRequest")||Ba.XMLHttpRequest;class ch extends Gf{constructor(t){super(),this.url=t}formatError(t,r,n=-1){return{error:{message:r,code:n},id:t.id,jsonrpc:t.jsonrpc}}send(t,r){return new Promise(n=>{if(t.method==="eth_subscribe"){const l=this.formatError(t,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",l),n(l)}const o=new uh;let i=!1;const h=(l,_)=>{if(!i)if(o.abort(),i=!0,r)r(l,_);else{const{id:v,jsonrpc:y}=t,A=l?{id:v,jsonrpc:y,error:{message:l.message,code:l.code}}:{id:v,jsonrpc:y,result:_};this.emit("payload",A),n(A)}};o.open("POST",this.url,!0),o.setRequestHeader("Content-Type","application/json"),o.timeout=60*1e3,o.onerror=h,o.ontimeout=h,o.onreadystatechange=()=>{if(o.readyState===4)try{const l=JSON.parse(o.responseText);h(l.error,l.result)}catch(l){h(l)}},o.send(JSON.stringify(t))})}}const lh=require("web3-provider-engine"),fh=require("web3-provider-engine/subproviders/cache"),hh=require("web3-provider-engine/subproviders/fixture"),dh=require("web3-provider-engine/subproviders/filters"),ph=require("web3-provider-engine/subproviders/hooked-wallet"),_h=require("web3-provider-engine/subproviders/nonce-tracker"),gh=require("web3-provider-engine/subproviders/subscriptions");class mh extends lh{constructor(t){if(super({pollingInterval:t.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=Vf,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const r=await this.getWalletConnector();if(r)return this.start(),this.subscribeWalletConnector(),r.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async r=>this.send(r),this.send=async(r,n)=>{var o;if(typeof r=="string"){const i=r;let h=n;return i==="personal_sign"&&(h=ar(h)),this.sendAsyncPromise(i,h)}if(r=Object.assign({id:rn(),jsonrpc:"2.0"},r),r.method==="personal_sign"&&(r.params=ar(r.params)),n){this.sendAsync(r,n);return}if(r.method==="eth_signTypedData_v4"&&((o=this.walletMeta)===null||o===void 0?void 0:o.name)==="MetaMask"){const{result:i}=await this.handleOtherRequests(r);return i}else return this.sendAsyncPromise(r.method,r.params)},this.onConnect=r=>{this.connectCallbacks.push(r)},this.triggerConnect=r=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(n=>n(r))},this.bridge=t.connector?t.connector.bridge:t.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof t.qrcode>"u"||t.qrcode!==!1,this.qrcodeModal=t.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=t.qrcodeModalOptions,this.wc=t.connector||new Rc({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:t==null?void 0:t.storageId,signingMethods:t==null?void 0:t.signingMethods,clientMeta:t==null?void 0:t.clientMeta}),this.rpc=t.rpc||null,!this.rpc&&(!t.infuraId||typeof t.infuraId!="string"||!t.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=t.infuraId||"",this.chainId=(t==null?void 0:t.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(t){try{let r,n=null;const o=await this.getWalletConnector();switch(t.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=o.accounts;break;case"eth_coinbase":n=o.accounts[0];break;case"eth_chainId":n=o.chainId;break;case"net_version":n=o.chainId;break;case"eth_uninstallFilter":this.sendAsync(t,i=>i),n=!0;break;default:r=await this.handleOtherRequests(t)}return r||this.formatResponse(t,n)}catch(r){throw this.emit("error",r),r}}async handleOtherRequests(t){if(!bn.includes(t.method)&&t.method.startsWith("eth_"))return this.handleReadRequests(t);const n=await(await this.getWalletConnector()).sendCustomRequest(t);return this.formatResponse(t,n)}async handleReadRequests(t){if(!this.http){const r=new Error("HTTP Connection not available");throw this.emit("error",r),r}return this.http.send(t)}formatResponse(t,r){return{id:t.id,jsonrpc:t.jsonrpc,result:r}}getWalletConnector(t={}){const{disableSessionCreation:r=!1}=t;return new Promise((n,o)=>{const i=this.wc;this.isConnecting?this.onConnect(h=>n(h)):!i.connected&&!r?(this.isConnecting=!0,i.on("modal_closed",()=>{o(new Error("User closed modal"))}),i.createSession({chainId:this.chainId}).then(()=>{i.on("connect",(h,l)=>{if(h)return this.isConnecting=!1,o(h);this.isConnecting=!1,this.connected=!0,l&&this.updateState(l.params[0]),this.emit("connect"),this.triggerConnect(i),n(i)})}).catch(h=>{this.isConnecting=!1,o(h)})):(this.connected||(this.connected=!0,this.updateState(i.session)),n(i))})}async subscribeWalletConnector(){const t=await this.getWalletConnector();t.on("disconnect",r=>{if(r){this.emit("error",r);return}this.onDisconnect()}),t.on("session_update",(r,n)=>{if(r){this.emit("error",r);return}this.updateState(n.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(t){const{accounts:r,chainId:n,networkId:o,rpcUrl:i}=t;(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.emit("accountsChanged",r)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||o&&this.networkId!==o)&&(this.networkId=o,this.emit("networkChanged",o)),this.updateRpcUrl(this.chainId,i||"")}updateRpcUrl(t,r=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};r=r||Mu(t,n),r?(this.rpcUrl=r,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${t}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new ch(this.rpcUrl),this.http.on("payload",t=>this.emit("payload",t)),this.http.on("error",t=>this.emit("error",t)))}sendAsyncPromise(t,r){return new Promise((n,o)=>{this.sendAsync({id:rn(),jsonrpc:"2.0",method:t,params:r||[]},(i,h)=>{if(i){o(i);return}n(h.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new hh({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new fh),this.addProvider(new gh),this.addProvider(new dh),this.addProvider(new _h),this.addProvider(new ph(this.configWallet())),this.addProvider({handleRequest:async(t,r,n)=>{try{const{error:o,result:i}=await this.handleRequest(t);n(o,i)}catch(o){n(o)}},setEngine:t=>t})}configWallet(){return{getAccounts:async t=>{try{const n=(await this.getWalletConnector()).accounts;n&&n.length?t(null,n):t(new Error("Failed to get accounts"))}catch(r){t(r)}},processMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signMessage([t.from,t.data]);r(null,o)}catch(n){r(n)}},processPersonalMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signPersonalMessage([t.data,t.from]);r(null,o)}catch(n){r(n)}},processSignTransaction:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signTransaction(t);r(null,o)}catch(n){r(n)}},processTransaction:async(t,r)=>{try{const o=await(await this.getWalletConnector()).sendTransaction(t);r(null,o)}catch(n){r(n)}},processTypedMessage:async(t,r)=>{try{const o=await(await this.getWalletConnector()).signTypedData([t.from,t.data]);r(null,o)}catch(n){r(n)}}}}}export{mh as default};
