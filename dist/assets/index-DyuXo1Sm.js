var $E=Object.defineProperty;var km=t=>{throw TypeError(t)};var HE=(t,e,r)=>e in t?$E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _=(t,e,r)=>HE(t,typeof e!="symbol"?e+"":e,r),uf=(t,e,r)=>e.has(t)||km("Cannot "+r);var d=(t,e,r)=>(uf(t,e,"read from private field"),r?r.call(t):e.get(t)),x=(t,e,r)=>e.has(t)?km("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),b=(t,e,r,n)=>(uf(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),N=(t,e,r)=>(uf(t,e,"access private method"),r);var Ja=(t,e,r,n)=>({set _(s){b(t,e,s,r)},get _(){return d(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var aN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var yw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),VE=Symbol.for("react.portal"),KE=Symbol.for("react.fragment"),QE=Symbol.for("react.strict_mode"),WE=Symbol.for("react.profiler"),JE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),YE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),XE=Symbol.for("react.memo"),e1=Symbol.for("react.lazy"),_m=Symbol.iterator;function t1(t){return t===null||typeof t!="object"?null:(t=_m&&t[_m]||t["@@iterator"],typeof t=="function"?t:null)}var ww={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vw=Object.assign,bw={};function Ga(t,e,r){this.props=t,this.context=e,this.refs=bw,this.updater=r||ww}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Aw(){}Aw.prototype=Ga.prototype;function Xp(t,e,r){this.props=t,this.context=e,this.refs=bw,this.updater=r||ww}var eg=Xp.prototype=new Aw;eg.constructor=Xp;vw(eg,Ga.prototype);eg.isPureReactComponent=!0;var Sm=Array.isArray,Ew=Object.prototype.hasOwnProperty,tg={current:null},kw={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ew.call(e,n)&&!kw.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ku,type:t,key:i,ref:o,props:s,_owner:tg.current}}function r1(t,e){return{$$typeof:ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ku}function n1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xm=/\/+/g;function cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n1(""+t.key):e.toString(36)}function fc(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ku:case VE:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+cf(o,0):n,Sm(s)?(r="",t!=null&&(r=t.replace(xm,"$&/")+"/"),fc(s,e,r,"",function(u){return u})):s!=null&&(rg(s)&&(s=r1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Sm(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+cf(i,a);o+=fc(i,e,r,l,s)}else if(l=t1(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+cf(i,a++),o+=fc(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lu(t,e,r){if(t==null)return t;var n=[],s=0;return fc(t,n,"","",function(i){return e.call(r,i,s++)}),n}function s1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},dc={transition:null},i1={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:dc,ReactCurrentOwner:tg};function Sw(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Lu,forEach:function(t,e,r){Lu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!rg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Ga;te.Fragment=KE;te.Profiler=WE;te.PureComponent=Xp;te.StrictMode=QE;te.Suspense=ZE;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i1;te.act=Sw;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=vw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=tg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ew.call(e,l)&&!kw.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ku,type:t.type,key:s,ref:i,props:n,_owner:o}};te.createContext=function(t){return t={$$typeof:qE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JE,_context:t},t.Consumer=t};te.createElement=_w;te.createFactory=function(t){var e=_w.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:YE,render:t}};te.isValidElement=rg;te.lazy=function(t){return{$$typeof:e1,_payload:{_status:-1,_result:t},_init:s1}};te.memo=function(t,e){return{$$typeof:XE,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=dc.transition;dc.transition={};try{t()}finally{dc.transition=e}};te.unstable_act=Sw;te.useCallback=function(t,e){return vt.current.useCallback(t,e)};te.useContext=function(t){return vt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};te.useEffect=function(t,e){return vt.current.useEffect(t,e)};te.useId=function(){return vt.current.useId()};te.useImperativeHandle=function(t,e,r){return vt.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return vt.current.useMemo(t,e)};te.useReducer=function(t,e,r){return vt.current.useReducer(t,e,r)};te.useRef=function(t){return vt.current.useRef(t)};te.useState=function(t){return vt.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return vt.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return vt.current.useTransition()};te.version="18.3.1";yw.exports=te;var Gt=yw.exports;const F=GE(Gt);var xw={exports:{}},qt={},Cw={exports:{}},Pw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,D){var V=I.length;I.push(D);e:for(;0<V;){var re=V-1>>>1,oe=I[re];if(0<s(oe,D))I[re]=D,I[V]=oe,V=re;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var D=I[0],V=I.pop();if(V!==D){I[0]=V;e:for(var re=0,oe=I.length,It=oe>>>1;re<It;){var tt=2*(re+1)-1,Lr=I[tt],Bt=tt+1,Ut=I[Bt];if(0>s(Lr,V))Bt<oe&&0>s(Ut,Lr)?(I[re]=Ut,I[Bt]=V,re=Bt):(I[re]=Lr,I[tt]=V,re=tt);else if(Bt<oe&&0>s(Ut,V))I[re]=Ut,I[Bt]=V,re=Bt;else break e}}return D}function s(I,D){var V=I.sortIndex-D.sortIndex;return V!==0?V:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,v=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=I)n(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=r(u)}}function k(I){if(y=!1,w(I),!v)if(r(l)!==null)v=!0,$(C);else{var D=r(u);D!==null&&q(k,D.startTime-I)}}function C(I,D){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var V=f;try{for(w(D),h=r(l);h!==null&&(!(h.expirationTime>D)||I&&!J());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var oe=re(h.expirationTime<=D);D=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(l)&&n(l),w(D)}else n(l);h=r(l)}if(h!==null)var It=!0;else{var tt=r(u);tt!==null&&q(k,tt.startTime-D),It=!1}return It}finally{h=null,f=V,p=!1}}var S=!1,P=null,T=-1,H=5,L=-1;function J(){return!(t.unstable_now()-L<H)}function we(){if(P!==null){var I=t.unstable_now();L=I;var D=!0;try{D=P(!0,I)}finally{D?Ee():(S=!1,P=null)}}else S=!1}var Ee;if(typeof m=="function")Ee=function(){m(we)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,B=Rt.port2;Rt.port1.onmessage=we,Ee=function(){B.postMessage(null)}}else Ee=function(){A(we,0)};function $(I){P=I,S||(S=!0,Ee())}function q(I,D){T=A(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var V=f;f=D;try{return I()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=f;f=I;try{return D()}finally{f=V}},t.unstable_scheduleCallback=function(I,D,V){var re=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?re+V:re):V=re,I){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,I={id:c++,callback:D,priorityLevel:I,startTime:V,expirationTime:oe,sortIndex:-1},V>re?(I.sortIndex=V,e(u,I),r(l)===null&&I===r(u)&&(y?(g(T),T=-1):y=!0,q(k,V-re))):(I.sortIndex=oe,e(l,I),v||p||(v=!0,$(C))),I},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(I){var D=f;return function(){var V=f;f=D;try{return I.apply(this,arguments)}finally{f=V}}}})(Pw);Cw.exports=Pw;var o1=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1=Gt,Jt=o1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,Nl={};function Gi(t,e){Oa(t,e),Oa(t+"Capture",e)}function Oa(t,e){for(Nl[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cm={},Pm={};function u1(t){return hd.call(Pm,t)?!0:hd.call(Cm,t)?!1:l1.test(t)?Pm[t]=!0:(Cm[t]=!0,!1)}function c1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h1(t,e,r,n){if(e===null||typeof e>"u"||c1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ng=/[\-:]([a-z])/g;function sg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ng,sg);et[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ng,sg);et[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ng,sg);et[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,r,n){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h1(e,r,s,n)&&(r=null),n||s===null?u1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Dn=a1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),lg=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Rw=Symbol.for("react.offscreen"),Tm=Symbol.iterator;function qa(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,hf;function al(t){if(hf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);hf=e&&e[1]||""}return`
`+hf+t}var ff=!1;function df(t,e){if(!t||ff)return"";ff=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ff=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?al(t):""}function f1(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=df(t.type,!1),t;case 11:return t=df(t.type.render,!1),t;case 1:return t=df(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case fd:return"Profiler";case og:return"StrictMode";case dd:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Ow:return(t._context.displayName||"Context")+".Provider";case ag:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lg:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function d1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p1(t){var e=Iw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=p1(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Iw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Om(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Uw(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function yd(t,e){Uw(t,e);var r=Os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wd(t,e.type,r):e.hasOwnProperty("defaultValue")&&wd(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wd(t,e,r){(e!=="number"||Uc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ll=Array.isArray;function Ro(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Os(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(R(92));if(ll(r)){if(1<r.length)throw Error(R(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Os(r)}}function Lw(t,e){var r=Os(e.value),n=Os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Im(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mu,Fw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g1=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(t){g1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yl[e]=yl[t]})});function Mw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yl.hasOwnProperty(t)&&yl[t]?(""+e).trim():e+"px"}function jw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Mw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var m1=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ad(t,e){if(e){if(m1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Ed(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function ug(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _d=null,Io=null,Bo=null;function Bm(t){if(t=xu(t)){if(typeof _d!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Bh(e),_d(t.stateNode,t.type,e))}}function zw(t){Io?Bo?Bo.push(t):Bo=[t]:Io=t}function $w(){if(Io){var t=Io,e=Bo;if(Bo=Io=null,Bm(t),e)for(t=0;t<e.length;t++)Bm(e[t])}}function Hw(t,e){return t(e)}function Gw(){}var pf=!1;function Vw(t,e,r){if(pf)return t(e,r);pf=!0;try{return Hw(t,e,r)}finally{pf=!1,(Io!==null||Bo!==null)&&(Gw(),$w())}}function Il(t,e){var r=t.stateNode;if(r===null)return null;var n=Bh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(R(231,e,typeof r));return r}var Sd=!1;if(Nn)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Sd=!1}function y1(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var wl=!1,Lc=null,Dc=!1,xd=null,w1={onError:function(t){wl=!0,Lc=t}};function v1(t,e,r,n,s,i,o,a,l){wl=!1,Lc=null,y1.apply(w1,arguments)}function b1(t,e,r,n,s,i,o,a,l){if(v1.apply(this,arguments),wl){if(wl){var u=Lc;wl=!1,Lc=null}else throw Error(R(198));Dc||(Dc=!0,xd=u)}}function Vi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Kw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Um(t){if(Vi(t)!==t)throw Error(R(188))}function A1(t){var e=t.alternate;if(!e){if(e=Vi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Um(s),t;if(i===n)return Um(s),e;i=i.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?t:e}function Qw(t){return t=A1(t),t!==null?Ww(t):null}function Ww(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ww(t);if(e!==null)return e;t=t.sibling}return null}var Jw=Jt.unstable_scheduleCallback,Lm=Jt.unstable_cancelCallback,E1=Jt.unstable_shouldYield,k1=Jt.unstable_requestPaint,Re=Jt.unstable_now,_1=Jt.unstable_getCurrentPriorityLevel,cg=Jt.unstable_ImmediatePriority,qw=Jt.unstable_UserBlockingPriority,Fc=Jt.unstable_NormalPriority,S1=Jt.unstable_LowPriority,Yw=Jt.unstable_IdlePriority,Oh=null,tn=null;function x1(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:T1,C1=Math.log,P1=Math.LN2;function T1(t){return t>>>=0,t===0?32:31-(C1(t)/P1|0)|0}var ju=64,zu=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ul(a):(i&=o,i!==0&&(n=ul(i)))}else o=r&~s,o!==0?n=ul(o):i!==0&&(n=ul(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Nr(e),s=1<<r,n|=t[r],e&=~s;return n}function O1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Nr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=O1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zw(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function gf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _u(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=r}function R1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Nr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function hg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Nr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var ce=0;function Xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ev,fg,tv,rv,nv,Pd=!1,$u=[],As=null,Es=null,ks=null,Bl=new Map,Ul=new Map,Zn=[],I1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Za(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xu(e),e!==null&&fg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function B1(t,e,r,n,s){switch(e){case"focusin":return As=Za(As,t,e,r,n,s),!0;case"dragenter":return Es=Za(Es,t,e,r,n,s),!0;case"mouseover":return ks=Za(ks,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bl.set(i,Za(Bl.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ul.set(i,Za(Ul.get(i)||null,t,e,r,n,s)),!0}return!1}function sv(t){var e=ni(t.target);if(e!==null){var r=Vi(e);if(r!==null){if(e=r.tag,e===13){if(e=Kw(r),e!==null){t.blockedOn=e,nv(t.priority,function(){tv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Td(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kd=n,r.target.dispatchEvent(n),kd=null}else return e=xu(r),e!==null&&fg(e),t.blockedOn=r,!1;e.shift()}return!0}function Fm(t,e,r){pc(t)&&r.delete(e)}function U1(){Pd=!1,As!==null&&pc(As)&&(As=null),Es!==null&&pc(Es)&&(Es=null),ks!==null&&pc(ks)&&(ks=null),Bl.forEach(Fm),Ul.forEach(Fm)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Pd||(Pd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,U1)))}function Ll(t){function e(s){return Xa(s,t)}if(0<$u.length){Xa($u[0],t);for(var r=1;r<$u.length;r++){var n=$u[r];n.blockedOn===t&&(n.blockedOn=null)}}for(As!==null&&Xa(As,t),Es!==null&&Xa(Es,t),ks!==null&&Xa(ks,t),Bl.forEach(e),Ul.forEach(e),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)sv(r),r.blockedOn===null&&Zn.shift()}var Uo=Dn.ReactCurrentBatchConfig,jc=!0;function L1(t,e,r,n){var s=ce,i=Uo.transition;Uo.transition=null;try{ce=1,dg(t,e,r,n)}finally{ce=s,Uo.transition=i}}function D1(t,e,r,n){var s=ce,i=Uo.transition;Uo.transition=null;try{ce=4,dg(t,e,r,n)}finally{ce=s,Uo.transition=i}}function dg(t,e,r,n){if(jc){var s=Td(t,e,r,n);if(s===null)Sf(t,e,n,zc,r),Dm(t,n);else if(B1(s,t,e,r,n))n.stopPropagation();else if(Dm(t,n),e&4&&-1<I1.indexOf(t)){for(;s!==null;){var i=xu(s);if(i!==null&&ev(i),i=Td(t,e,r,n),i===null&&Sf(t,e,n,zc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Sf(t,e,n,null,r)}}var zc=null;function Td(t,e,r,n){if(zc=null,t=ug(n),t=ni(t),t!==null)if(e=Vi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Kw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zc=t,null}function iv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_1()){case cg:return 1;case qw:return 4;case Fc:case S1:return 16;case Yw:return 536870912;default:return 16}default:return 16}}var vs=null,pg=null,gc=null;function ov(){if(gc)return gc;var t,e=pg,r=e.length,n,s="value"in vs?vs.value:vs.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return gc=s.slice(t,1<n?1-n:void 0)}function mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hu(){return!0}function Mm(){return!1}function Yt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hu:Mm,this.isPropagationStopped=Mm,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gg=Yt(Va),Su=Ce({},Va,{view:0,detail:0}),F1=Yt(Su),mf,yf,el,Nh=Ce({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(mf=t.screenX-el.screenX,yf=t.screenY-el.screenY):yf=mf=0,el=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:yf}}),jm=Yt(Nh),M1=Ce({},Nh,{dataTransfer:0}),j1=Yt(M1),z1=Ce({},Su,{relatedTarget:0}),wf=Yt(z1),$1=Ce({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),H1=Yt($1),G1=Ce({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V1=Yt(G1),K1=Ce({},Va,{data:0}),zm=Yt(K1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J1[t])?!!e[t]:!1}function mg(){return q1}var Y1=Ce({},Su,{key:function(t){if(t.key){var e=Q1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(t){return t.type==="keypress"?mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z1=Yt(Y1),X1=Ce({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$m=Yt(X1),ek=Ce({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),tk=Yt(ek),rk=Ce({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),nk=Yt(rk),sk=Ce({},Nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ik=Yt(sk),ok=[9,13,27,32],yg=Nn&&"CompositionEvent"in window,vl=null;Nn&&"documentMode"in document&&(vl=document.documentMode);var ak=Nn&&"TextEvent"in window&&!vl,av=Nn&&(!yg||vl&&8<vl&&11>=vl),Hm=" ",Gm=!1;function lv(t,e){switch(t){case"keyup":return ok.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function lk(t,e){switch(t){case"compositionend":return uv(e);case"keypress":return e.which!==32?null:(Gm=!0,Hm);case"textInput":return t=e.data,t===Hm&&Gm?null:t;default:return null}}function uk(t,e){if(go)return t==="compositionend"||!yg&&lv(t,e)?(t=ov(),gc=pg=vs=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return av&&e.locale!=="ko"?null:e.data;default:return null}}var ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ck[t.type]:e==="textarea"}function cv(t,e,r,n){zw(n),e=$c(e,"onChange"),0<e.length&&(r=new gg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bl=null,Dl=null;function hk(t){Av(t,0)}function Rh(t){var e=wo(t);if(Bw(e))return t}function fk(t,e){if(t==="change")return e}var hv=!1;if(Nn){var vf;if(Nn){var bf="oninput"in document;if(!bf){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),bf=typeof Km.oninput=="function"}vf=bf}else vf=!1;hv=vf&&(!document.documentMode||9<document.documentMode)}function Qm(){bl&&(bl.detachEvent("onpropertychange",fv),Dl=bl=null)}function fv(t){if(t.propertyName==="value"&&Rh(Dl)){var e=[];cv(e,Dl,t,ug(t)),Vw(hk,e)}}function dk(t,e,r){t==="focusin"?(Qm(),bl=e,Dl=r,bl.attachEvent("onpropertychange",fv)):t==="focusout"&&Qm()}function pk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(Dl)}function gk(t,e){if(t==="click")return Rh(e)}function mk(t,e){if(t==="input"||t==="change")return Rh(e)}function yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:yk;function Fl(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hd.call(e,s)||!Ir(t[s],e[s]))return!1}return!0}function Wm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jm(t,e){var r=Wm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wm(r)}}function dv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pv(){for(var t=window,e=Uc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Uc(t.document)}return e}function wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wk(t){var e=pv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&dv(r.ownerDocument.documentElement,r)){if(n!==null&&wg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Jm(r,i);var o=Jm(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vk=Nn&&"documentMode"in document&&11>=document.documentMode,mo=null,Od=null,Al=null,Nd=!1;function qm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nd||mo==null||mo!==Uc(n)||(n=mo,"selectionStart"in n&&wg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Fl(Al,n)||(Al=n,n=$c(Od,"onSelect"),0<n.length&&(e=new gg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mo)))}function Gu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yo={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},Af={},gv={};Nn&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Ih(t){if(Af[t])return Af[t];if(!yo[t])return t;var e=yo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gv)return Af[t]=e[r];return t}var mv=Ih("animationend"),yv=Ih("animationiteration"),wv=Ih("animationstart"),vv=Ih("transitionend"),bv=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){bv.set(t,e),Gi(e,[t])}for(var Ef=0;Ef<Ym.length;Ef++){var kf=Ym[Ef],bk=kf.toLowerCase(),Ak=kf[0].toUpperCase()+kf.slice(1);Us(bk,"on"+Ak)}Us(mv,"onAnimationEnd");Us(yv,"onAnimationIteration");Us(wv,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(vv,"onTransitionEnd");Oa("onMouseEnter",["mouseout","mouseover"]);Oa("onMouseLeave",["mouseout","mouseover"]);Oa("onPointerEnter",["pointerout","pointerover"]);Oa("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ek=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Zm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,b1(n,e,void 0,t),t.currentTarget=null}function Av(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Zm(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Zm(s,a,u),i=l}}}if(Dc)throw t=xd,Dc=!1,xd=null,t}function me(t,e){var r=e[Ld];r===void 0&&(r=e[Ld]=new Set);var n=t+"__bubble";r.has(n)||(Ev(e,t,2,!1),r.add(n))}function _f(t,e,r){var n=0;e&&(n|=4),Ev(r,t,n,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[Vu]){t[Vu]=!0,Tw.forEach(function(r){r!=="selectionchange"&&(Ek.has(r)||_f(r,!1,t),_f(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,_f("selectionchange",!1,e))}}function Ev(t,e,r,n){switch(iv(e)){case 1:var s=L1;break;case 4:s=D1;break;default:s=dg}r=s.bind(null,e,r,t),s=void 0,!Sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Sf(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Vw(function(){var u=i,c=ug(r),h=[];e:{var f=bv.get(t);if(f!==void 0){var p=gg,v=t;switch(t){case"keypress":if(mc(r)===0)break e;case"keydown":case"keyup":p=Z1;break;case"focusin":v="focus",p=wf;break;case"focusout":v="blur",p=wf;break;case"beforeblur":case"afterblur":p=wf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tk;break;case mv:case yv:case wv:p=H1;break;case vv:p=nk;break;case"scroll":p=F1;break;case"wheel":p=ik;break;case"copy":case"cut":case"paste":p=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$m}var y=(e&4)!==0,A=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,w;m!==null;){w=m;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Il(m,g),k!=null&&y.push(jl(m,k,w)))),A)break;m=m.return}0<y.length&&(f=new p(f,v,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==kd&&(v=r.relatedTarget||r.fromElement)&&(ni(v)||v[Rn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ni(v):null,v!==null&&(A=Vi(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=jm,k="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=$m,k="onPointerLeave",g="onPointerEnter",m="pointer"),A=p==null?f:wo(p),w=v==null?f:wo(v),f=new y(k,m+"leave",p,r,c),f.target=A,f.relatedTarget=w,k=null,ni(c)===u&&(y=new y(g,m+"enter",v,r,c),y.target=w,y.relatedTarget=A,k=y),A=k,p&&v)t:{for(y=p,g=v,m=0,w=y;w;w=Yi(w))m++;for(w=0,k=g;k;k=Yi(k))w++;for(;0<m-w;)y=Yi(y),m--;for(;0<w-m;)g=Yi(g),w--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Yi(y),g=Yi(g)}y=null}else y=null;p!==null&&Xm(h,f,p,y,!1),v!==null&&A!==null&&Xm(h,A,v,y,!0)}}e:{if(f=u?wo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=fk;else if(Vm(f))if(hv)C=mk;else{C=pk;var S=dk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=gk);if(C&&(C=C(t,u))){cv(h,C,r,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&wd(f,"number",f.value)}switch(S=u?wo(u):window,t){case"focusin":(Vm(S)||S.contentEditable==="true")&&(mo=S,Od=u,Al=null);break;case"focusout":Al=Od=mo=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,qm(h,r,c);break;case"selectionchange":if(vk)break;case"keydown":case"keyup":qm(h,r,c)}var P;if(yg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else go?lv(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(av&&r.locale!=="ko"&&(go||T!=="onCompositionStart"?T==="onCompositionEnd"&&go&&(P=ov()):(vs=c,pg="value"in vs?vs.value:vs.textContent,go=!0)),S=$c(u,T),0<S.length&&(T=new zm(T,t,null,r,c),h.push({event:T,listeners:S}),P?T.data=P:(P=uv(r),P!==null&&(T.data=P)))),(P=ak?lk(t,r):uk(t,r))&&(u=$c(u,"onBeforeInput"),0<u.length&&(c=new zm("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=P))}Av(h,e)})}function jl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $c(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Il(t,r),i!=null&&n.unshift(jl(t,i,s)),i=Il(t,e),i!=null&&n.push(jl(t,i,s))),t=t.return}return n}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xm(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Il(r,i),l!=null&&o.unshift(jl(r,l,a))):s||(l=Il(r,i),l!=null&&o.push(jl(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var kk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(kk,`
`).replace(_k,"")}function Ku(t,e,r){if(e=ey(e),ey(t)!==e&&r)throw Error(R(425))}function Hc(){}var Rd=null,Id=null;function Bd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,Sk=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,xk=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(Ck)}:Ud;function Ck(t){setTimeout(function(){throw t})}function xf(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ll(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ll(e)}function _s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ry(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Ka,zl="__reactProps$"+Ka,Rn="__reactContainer$"+Ka,Ld="__reactEvents$"+Ka,Pk="__reactListeners$"+Ka,Tk="__reactHandles$"+Ka;function ni(t){var e=t[Yr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Rn]||r[Yr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ry(t);t!==null;){if(r=t[Yr])return r;t=ry(t)}return e}t=r,r=t.parentNode}return null}function xu(t){return t=t[Yr]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Bh(t){return t[zl]||null}var Dd=[],vo=-1;function Ls(t){return{current:t}}function ye(t){0>vo||(t.current=Dd[vo],Dd[vo]=null,vo--)}function pe(t,e){vo++,Dd[vo]=t.current,t.current=e}var Ns={},ut=Ls(Ns),Ct=Ls(!1),Bi=Ns;function Na(t,e){var r=t.type.contextTypes;if(!r)return Ns;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function Gc(){ye(Ct),ye(ut)}function ny(t,e,r){if(ut.current!==Ns)throw Error(R(168));pe(ut,e),pe(Ct,r)}function kv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(R(108,d1(t)||"Unknown",s));return Ce({},r,n)}function Vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,Bi=ut.current,pe(ut,t),pe(Ct,Ct.current),!0}function sy(t,e,r){var n=t.stateNode;if(!n)throw Error(R(169));r?(t=kv(t,e,Bi),n.__reactInternalMemoizedMergedChildContext=t,ye(Ct),ye(ut),pe(ut,t)):ye(Ct),pe(Ct,r)}var cn=null,Uh=!1,Cf=!1;function _v(t){cn===null?cn=[t]:cn.push(t)}function Ok(t){Uh=!0,_v(t)}function Ds(){if(!Cf&&cn!==null){Cf=!0;var t=0,e=ce;try{var r=cn;for(ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cn=null,Uh=!1}catch(s){throw cn!==null&&(cn=cn.slice(t+1)),Jw(cg,Ds),s}finally{ce=e,Cf=!1}}return null}var bo=[],Ao=0,Kc=null,Qc=0,ar=[],lr=0,Ui=null,_n=1,Sn="";function Vs(t,e){bo[Ao++]=Qc,bo[Ao++]=Kc,Kc=t,Qc=e}function Sv(t,e,r){ar[lr++]=_n,ar[lr++]=Sn,ar[lr++]=Ui,Ui=t;var n=_n;t=Sn;var s=32-Nr(n)-1;n&=~(1<<s),r+=1;var i=32-Nr(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_n=1<<32-Nr(e)+s|r<<s|n,Sn=i+t}else _n=1<<i|r<<s|n,Sn=t}function vg(t){t.return!==null&&(Vs(t,1),Sv(t,1,0))}function bg(t){for(;t===Kc;)Kc=bo[--Ao],bo[Ao]=null,Qc=bo[--Ao],bo[Ao]=null;for(;t===Ui;)Ui=ar[--lr],ar[lr]=null,Sn=ar[--lr],ar[lr]=null,_n=ar[--lr],ar[lr]=null}var Wt=null,Qt=null,be=!1,Pr=null;function xv(t,e){var r=ur(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Qt=_s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ui!==null?{id:_n,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ur(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wt=t,Qt=null,!0):!1;default:return!1}}function Fd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Md(t){if(be){var e=Qt;if(e){var r=e;if(!iy(t,e)){if(Fd(t))throw Error(R(418));e=_s(r.nextSibling);var n=Wt;e&&iy(t,e)?xv(n,r):(t.flags=t.flags&-4097|2,be=!1,Wt=t)}}else{if(Fd(t))throw Error(R(418));t.flags=t.flags&-4097|2,be=!1,Wt=t}}}function oy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Qu(t){if(t!==Wt)return!1;if(!be)return oy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bd(t.type,t.memoizedProps)),e&&(e=Qt)){if(Fd(t))throw Cv(),Error(R(418));for(;e;)xv(t,e),e=_s(e.nextSibling)}if(oy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qt=_s(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Wt?_s(t.stateNode.nextSibling):null;return!0}function Cv(){for(var t=Qt;t;)t=_s(t.nextSibling)}function Ra(){Qt=Wt=null,be=!1}function Ag(t){Pr===null?Pr=[t]:Pr.push(t)}var Nk=Dn.ReactCurrentBatchConfig;function tl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ay(t){var e=t._init;return e(t._payload)}function Pv(t){function e(g,m){if(t){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Ps(g,m),g.index=0,g.sibling=null,g}function i(g,m,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,k){return m===null||m.tag!==6?(m=Bf(w,g.mode,k),m.return=g,m):(m=s(m,w),m.return=g,m)}function l(g,m,w,k){var C=w.type;return C===po?c(g,m,w.props.children,k,w.key):m!==null&&(m.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&ay(C)===m.type)?(k=s(m,w.props),k.ref=tl(g,m,w),k.return=g,k):(k=kc(w.type,w.key,w.props,null,g.mode,k),k.ref=tl(g,m,w),k.return=g,k)}function u(g,m,w,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Uf(w,g.mode,k),m.return=g,m):(m=s(m,w.children||[]),m.return=g,m)}function c(g,m,w,k,C){return m===null||m.tag!==7?(m=Ni(w,g.mode,k,C),m.return=g,m):(m=s(m,w),m.return=g,m)}function h(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Bf(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Du:return w=kc(m.type,m.key,m.props,null,g.mode,w),w.ref=tl(g,null,m),w.return=g,w;case fo:return m=Uf(m,g.mode,w),m.return=g,m;case Wn:var k=m._init;return h(g,k(m._payload),w)}if(ll(m)||qa(m))return m=Ni(m,g.mode,w,null),m.return=g,m;Wu(g,m)}return null}function f(g,m,w,k){var C=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:return w.key===C?l(g,m,w,k):null;case fo:return w.key===C?u(g,m,w,k):null;case Wn:return C=w._init,f(g,m,C(w._payload),k)}if(ll(w)||qa(w))return C!==null?null:c(g,m,w,k,null);Wu(g,w)}return null}function p(g,m,w,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,a(m,g,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Du:return g=g.get(k.key===null?w:k.key)||null,l(m,g,k,C);case fo:return g=g.get(k.key===null?w:k.key)||null,u(m,g,k,C);case Wn:var S=k._init;return p(g,m,w,S(k._payload),C)}if(ll(k)||qa(k))return g=g.get(w)||null,c(m,g,k,C,null);Wu(m,k)}return null}function v(g,m,w,k){for(var C=null,S=null,P=m,T=m=0,H=null;P!==null&&T<w.length;T++){P.index>T?(H=P,P=null):H=P.sibling;var L=f(g,P,w[T],k);if(L===null){P===null&&(P=H);break}t&&P&&L.alternate===null&&e(g,P),m=i(L,m,T),S===null?C=L:S.sibling=L,S=L,P=H}if(T===w.length)return r(g,P),be&&Vs(g,T),C;if(P===null){for(;T<w.length;T++)P=h(g,w[T],k),P!==null&&(m=i(P,m,T),S===null?C=P:S.sibling=P,S=P);return be&&Vs(g,T),C}for(P=n(g,P);T<w.length;T++)H=p(P,g,T,w[T],k),H!==null&&(t&&H.alternate!==null&&P.delete(H.key===null?T:H.key),m=i(H,m,T),S===null?C=H:S.sibling=H,S=H);return t&&P.forEach(function(J){return e(g,J)}),be&&Vs(g,T),C}function y(g,m,w,k){var C=qa(w);if(typeof C!="function")throw Error(R(150));if(w=C.call(w),w==null)throw Error(R(151));for(var S=C=null,P=m,T=m=0,H=null,L=w.next();P!==null&&!L.done;T++,L=w.next()){P.index>T?(H=P,P=null):H=P.sibling;var J=f(g,P,L.value,k);if(J===null){P===null&&(P=H);break}t&&P&&J.alternate===null&&e(g,P),m=i(J,m,T),S===null?C=J:S.sibling=J,S=J,P=H}if(L.done)return r(g,P),be&&Vs(g,T),C;if(P===null){for(;!L.done;T++,L=w.next())L=h(g,L.value,k),L!==null&&(m=i(L,m,T),S===null?C=L:S.sibling=L,S=L);return be&&Vs(g,T),C}for(P=n(g,P);!L.done;T++,L=w.next())L=p(P,g,T,L.value,k),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?T:L.key),m=i(L,m,T),S===null?C=L:S.sibling=L,S=L);return t&&P.forEach(function(we){return e(g,we)}),be&&Vs(g,T),C}function A(g,m,w,k){if(typeof w=="object"&&w!==null&&w.type===po&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:e:{for(var C=w.key,S=m;S!==null;){if(S.key===C){if(C=w.type,C===po){if(S.tag===7){r(g,S.sibling),m=s(S,w.props.children),m.return=g,g=m;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Wn&&ay(C)===S.type){r(g,S.sibling),m=s(S,w.props),m.ref=tl(g,S,w),m.return=g,g=m;break e}r(g,S);break}else e(g,S);S=S.sibling}w.type===po?(m=Ni(w.props.children,g.mode,k,w.key),m.return=g,g=m):(k=kc(w.type,w.key,w.props,null,g.mode,k),k.ref=tl(g,m,w),k.return=g,g=k)}return o(g);case fo:e:{for(S=w.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(g,m.sibling),m=s(m,w.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=Uf(w,g.mode,k),m.return=g,g=m}return o(g);case Wn:return S=w._init,A(g,m,S(w._payload),k)}if(ll(w))return v(g,m,w,k);if(qa(w))return y(g,m,w,k);Wu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,w),m.return=g,g=m):(r(g,m),m=Bf(w,g.mode,k),m.return=g,g=m),o(g)):r(g,m)}return A}var Ia=Pv(!0),Tv=Pv(!1),Wc=Ls(null),Jc=null,Eo=null,Eg=null;function kg(){Eg=Eo=Jc=null}function _g(t){var e=Wc.current;ye(Wc),t._currentValue=e}function jd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Lo(t,e){Jc=t,Eg=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if(Jc===null)throw Error(R(308));Eo=t,Jc.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var si=null;function Sg(t){si===null?si=[t]:si.push(t)}function Ov(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Sg(e)):(r.next=s.next,s.next=r),e.interleaved=r,In(t,n)}function In(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Jn=!1;function xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ie&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,In(t,r)}return s=n.interleaved,s===null?(e.next=e,Sg(n)):(e.next=s.next,s.next=e),n.interleaved=e,In(t,r)}function yc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hg(t,r)}}function ly(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qc(t,e,r,n){var s=t.updateQueue;Jn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Ce({},h,f);break e;case 2:Jn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Di|=o,t.lanes=o,t.memoizedState=h}}function uy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Cu={},rn=Ls(Cu),$l=Ls(Cu),Hl=Ls(Cu);function ii(t){if(t===Cu)throw Error(R(174));return t}function Cg(t,e){switch(pe(Hl,e),pe($l,t),pe(rn,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}ye(rn),pe(rn,e)}function Ba(){ye(rn),ye($l),ye(Hl)}function Rv(t){ii(Hl.current);var e=ii(rn.current),r=bd(e,t.type);e!==r&&(pe($l,t),pe(rn,r))}function Pg(t){$l.current===t&&(ye(rn),ye($l))}var _e=Ls(0);function Yc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pf=[];function Tg(){for(var t=0;t<Pf.length;t++)Pf[t]._workInProgressVersionPrimary=null;Pf.length=0}var wc=Dn.ReactCurrentDispatcher,Tf=Dn.ReactCurrentBatchConfig,Li=0,xe=null,Me=null,$e=null,Zc=!1,El=!1,Gl=0,Rk=0;function rt(){throw Error(R(321))}function Og(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ir(t[r],e[r]))return!1;return!0}function Ng(t,e,r,n,s,i){if(Li=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wc.current=t===null||t.memoizedState===null?Lk:Dk,t=r(n,s),El){i=0;do{if(El=!1,Gl=0,25<=i)throw Error(R(301));i+=1,$e=Me=null,e.updateQueue=null,wc.current=Fk,t=r(n,s)}while(El)}if(wc.current=Xc,e=Me!==null&&Me.next!==null,Li=0,$e=Me=xe=null,Zc=!1,e)throw Error(R(300));return t}function Rg(){var t=Gl!==0;return Gl=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?xe.memoizedState=$e=t:$e=$e.next=t,$e}function fr(){if(Me===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=$e===null?xe.memoizedState:$e.next;if(e!==null)$e=e,Me=t;else{if(t===null)throw Error(R(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},$e===null?xe.memoizedState=$e=t:$e=$e.next=t}return $e}function Vl(t,e){return typeof e=="function"?e(t):e}function Of(t){var e=fr(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=Me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Li&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,xe.lanes|=c,Di|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ir(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,Di|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nf(t){var e=fr(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ir(i,e.memoizedState)||(xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Iv(){}function Bv(t,e){var r=xe,n=fr(),s=e(),i=!Ir(n.memoizedState,s);if(i&&(n.memoizedState=s,xt=!0),n=n.queue,Ig(Dv.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,Kl(9,Lv.bind(null,r,n,s,e),void 0,null),Ve===null)throw Error(R(349));Li&30||Uv(r,e,s)}return s}function Uv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Lv(t,e,r,n){e.value=r,e.getSnapshot=n,Fv(e)&&Mv(t)}function Dv(t,e,r){return r(function(){Fv(e)&&Mv(t)})}function Fv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ir(t,r)}catch{return!0}}function Mv(t){var e=In(t,1);e!==null&&Rr(e,t,1,-1)}function cy(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:t},e.queue=t,t=t.dispatch=Uk.bind(null,xe,t),[e.memoizedState,t]}function Kl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function jv(){return fr().memoizedState}function vc(t,e,r,n){var s=jr();xe.flags|=t,s.memoizedState=Kl(1|e,r,void 0,n===void 0?null:n)}function Lh(t,e,r,n){var s=fr();n=n===void 0?null:n;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,n!==null&&Og(n,o.deps)){s.memoizedState=Kl(e,r,i,n);return}}xe.flags|=t,s.memoizedState=Kl(1|e,r,i,n)}function hy(t,e){return vc(8390656,8,t,e)}function Ig(t,e){return Lh(2048,8,t,e)}function zv(t,e){return Lh(4,2,t,e)}function $v(t,e){return Lh(4,4,t,e)}function Hv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gv(t,e,r){return r=r!=null?r.concat([t]):null,Lh(4,4,Hv.bind(null,e,t),r)}function Bg(){}function Vv(t,e){var r=fr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Og(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Kv(t,e){var r=fr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Og(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Qv(t,e,r){return Li&21?(Ir(r,e)||(r=Zw(),xe.lanes|=r,Di|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=r)}function Ik(t,e){var r=ce;ce=r!==0&&4>r?r:4,t(!0);var n=Tf.transition;Tf.transition={};try{t(!1),e()}finally{ce=r,Tf.transition=n}}function Wv(){return fr().memoizedState}function Bk(t,e,r){var n=Cs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jv(t))qv(e,r);else if(r=Ov(t,e,r,n),r!==null){var s=wt();Rr(r,t,n,s),Yv(r,e,n)}}function Uk(t,e,r){var n=Cs(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jv(t))qv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ir(a,o)){var l=e.interleaved;l===null?(s.next=s,Sg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ov(t,e,s,n),r!==null&&(s=wt(),Rr(r,t,n,s),Yv(r,e,n))}}function Jv(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function qv(t,e){El=Zc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Yv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hg(t,r)}}var Xc={readContext:hr,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Lk={readContext:hr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:hy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vc(4194308,4,Hv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var r=jr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Bk.bind(null,xe,t),[n.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:cy,useDebugValue:Bg,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=cy(!1),e=t[0];return t=Ik.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xe,s=jr();if(be){if(r===void 0)throw Error(R(407));r=r()}else{if(r=e(),Ve===null)throw Error(R(349));Li&30||Uv(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hy(Dv.bind(null,n,i,t),[t]),n.flags|=2048,Kl(9,Lv.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=jr(),e=Ve.identifierPrefix;if(be){var r=Sn,n=_n;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Rk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dk={readContext:hr,useCallback:Vv,useContext:hr,useEffect:Ig,useImperativeHandle:Gv,useInsertionEffect:zv,useLayoutEffect:$v,useMemo:Kv,useReducer:Of,useRef:jv,useState:function(){return Of(Vl)},useDebugValue:Bg,useDeferredValue:function(t){var e=fr();return Qv(e,Me.memoizedState,t)},useTransition:function(){var t=Of(Vl)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Iv,useSyncExternalStore:Bv,useId:Wv,unstable_isNewReconciler:!1},Fk={readContext:hr,useCallback:Vv,useContext:hr,useEffect:Ig,useImperativeHandle:Gv,useInsertionEffect:zv,useLayoutEffect:$v,useMemo:Kv,useReducer:Nf,useRef:jv,useState:function(){return Nf(Vl)},useDebugValue:Bg,useDeferredValue:function(t){var e=fr();return Me===null?e.memoizedState=t:Qv(e,Me.memoizedState,t)},useTransition:function(){var t=Nf(Vl)[0],e=fr().memoizedState;return[t,e]},useMutableSource:Iv,useSyncExternalStore:Bv,useId:Wv,unstable_isNewReconciler:!1};function yr(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function zd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dh={isMounted:function(t){return(t=t._reactInternals)?Vi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wt(),s=Cs(t),i=Cn(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,s),e!==null&&(Rr(e,t,s,n),yc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wt(),s=Cs(t),i=Cn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ss(t,i,s),e!==null&&(Rr(e,t,s,n),yc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wt(),n=Cs(t),s=Cn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ss(t,s,n),e!==null&&(Rr(e,t,n,r),yc(e,t,n))}};function fy(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fl(r,n)||!Fl(s,i):!0}function Zv(t,e,r){var n=!1,s=Ns,i=e.contextType;return typeof i=="object"&&i!==null?i=hr(i):(s=Pt(e)?Bi:ut.current,n=e.contextTypes,i=(n=n!=null)?Na(t,s):Ns),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function dy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Dh.enqueueReplaceState(e,e.state,null)}function $d(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},xg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hr(i):(i=Pt(e)?Bi:ut.current,s.context=Na(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zd(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Dh.enqueueReplaceState(s,s.state,null),qc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e){try{var r="",n=e;do r+=f1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function Xv(t,e,r){r=Cn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){th||(th=!0,Xd=n),Hd(t,e)},r}function eb(t,e,r){r=Cn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hd(t,e),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function py(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Mk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Xk.bind(null,t,e,r),e.then(t,t))}function gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function my(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Cn(-1,1),e.tag=2,Ss(r,e,1))),r.lanes|=1),t)}var jk=Dn.ReactCurrentOwner,xt=!1;function ft(t,e,r,n){e.child=t===null?Tv(e,null,r,n):Ia(e,t.child,r,n)}function yy(t,e,r,n,s){r=r.render;var i=e.ref;return Lo(e,s),n=Ng(t,e,r,n,i,s),r=Rg(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(be&&r&&vg(e),e.flags|=1,ft(t,e,n,s),e.child)}function wy(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!$g(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,tb(t,e,i,n,s)):(t=kc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(o,n)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=Ps(i,n),t.ref=e.ref,t.return=e,e.child=t}function tb(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Fl(i,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return Gd(t,e,r,n,s)}function rb(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(_o,Ht),Ht|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(_o,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pe(_o,Ht),Ht|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,pe(_o,Ht),Ht|=n;return ft(t,e,s,r),e.child}function nb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,r,n,s){var i=Pt(r)?Bi:ut.current;return i=Na(e,i),Lo(e,s),r=Ng(t,e,r,n,i,s),n=Rg(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bn(t,e,s)):(be&&n&&vg(e),e.flags|=1,ft(t,e,r,s),e.child)}function vy(t,e,r,n,s){if(Pt(r)){var i=!0;Vc(e)}else i=!1;if(Lo(e,s),e.stateNode===null)bc(t,e),Zv(e,r,n),$d(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Pt(r)?Bi:ut.current,u=Na(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&dy(e,o,n,u),Jn=!1;var f=e.memoizedState;o.state=f,qc(e,n,o,s),l=e.memoizedState,a!==n||f!==l||Ct.current||Jn?(typeof c=="function"&&(zd(e,r,c,n),l=e.memoizedState),(a=Jn||fy(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Nv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Pt(r)?Bi:ut.current,l=Na(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dy(e,o,n,l),Jn=!1,f=e.memoizedState,o.state=f,qc(e,n,o,s);var v=e.memoizedState;a!==h||f!==v||Ct.current||Jn?(typeof p=="function"&&(zd(e,r,p,n),v=e.memoizedState),(u=Jn||fy(e,r,u,n,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Vd(t,e,r,n,i,s)}function Vd(t,e,r,n,s,i){nb(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&sy(e,r,!1),Bn(t,e,i);n=e.stateNode,jk.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,a,i)):ft(t,e,a,i),e.memoizedState=n.state,s&&sy(e,r,!0),e.child}function sb(t){var e=t.stateNode;e.pendingContext?ny(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ny(t,e.context,!1),Cg(t,e.containerInfo)}function by(t,e,r,n,s){return Ra(),Ag(s),e.flags|=256,ft(t,e,r,n),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function ib(t,e,r){var n=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pe(_e,s&1),t===null)return Md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jh(o,n,0,null),t=Ni(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qd(r),e.memoizedState=Kd,t):Ug(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zk(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ps(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ps(a,i):(i=Ni(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Qd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Kd,n}return i=t.child,t=i.sibling,n=Ps(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ug(t,e){return e=jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,r,n){return n!==null&&Ag(n),Ia(e,t.child,null,r),t=Ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zk(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Rf(Error(R(422))),Ju(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=jh({mode:"visible",children:n.children},s,0,null),i=Ni(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ia(e,t.child,null,o),e.child.memoizedState=Qd(o),e.memoizedState=Kd,i);if(!(e.mode&1))return Ju(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(R(419)),n=Rf(i,n,void 0),Ju(t,e,o,n)}if(a=(o&t.childLanes)!==0,xt||a){if(n=Ve,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,In(t,s),Rr(n,t,s,-1))}return zg(),n=Rf(Error(R(421))),Ju(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=e_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=_s(s.nextSibling),Wt=e,be=!0,Pr=null,t!==null&&(ar[lr++]=_n,ar[lr++]=Sn,ar[lr++]=Ui,_n=t.id,Sn=t.overflow,Ui=e),e=Ug(e,n.children),e.flags|=4096,e)}function Ay(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),jd(t.return,e,r)}function If(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ob(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ft(t,e,n.children,r),n=_e.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,r,e);else if(t.tag===19)Ay(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pe(_e,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Yc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),If(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}If(e,!0,r,null,i);break;case"together":If(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,r=Ps(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ps(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $k(t,e,r){switch(e.tag){case 3:sb(e),Ra();break;case 5:Rv(e);break;case 1:Pt(e.type)&&Vc(e);break;case 4:Cg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;pe(Wc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pe(_e,_e.current&1),e.flags|=128,null):r&e.child.childLanes?ib(t,e,r):(pe(_e,_e.current&1),t=Bn(t,e,r),t!==null?t.sibling:null);pe(_e,_e.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ob(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(_e,_e.current),n)break;return null;case 22:case 23:return e.lanes=0,rb(t,e,r)}return Bn(t,e,r)}var ab,Wd,lb,ub;ab=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wd=function(){};lb=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ii(rn.current);var i=null;switch(r){case"input":s=md(t,s),n=md(t,n),i=[];break;case"select":s=Ce({},s,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":s=vd(t,s),n=vd(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hc)}Ad(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ub=function(t,e,r,n){r!==n&&(e.flags|=4)};function rl(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hk(t,e,r){var n=e.pendingProps;switch(bg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return Pt(e.type)&&Gc(),nt(e),null;case 3:return n=e.stateNode,Ba(),ye(Ct),ye(ut),Tg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(rp(Pr),Pr=null))),Wd(t,e),nt(e),null;case 5:Pg(e);var s=ii(Hl.current);if(r=e.type,t!==null&&e.stateNode!=null)lb(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(R(166));return nt(e),null}if(t=ii(rn.current),Qu(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Yr]=e,n[zl]=i,t=(e.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)me(cl[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":Om(n,i),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},me("invalid",n);break;case"textarea":Rm(n,i),me("invalid",n)}Ad(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ku(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ku(n.textContent,a,t),s=["children",""+a]):Nl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",n)}switch(r){case"input":Fu(n),Nm(n,i,!0);break;case"textarea":Fu(n),Im(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Yr]=e,t[zl]=n,ab(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ed(r,n),r){case"dialog":me("cancel",t),me("close",t),s=n;break;case"iframe":case"object":case"embed":me("load",t),s=n;break;case"video":case"audio":for(s=0;s<cl.length;s++)me(cl[s],t);s=n;break;case"source":me("error",t),s=n;break;case"img":case"image":case"link":me("error",t),me("load",t),s=n;break;case"details":me("toggle",t),s=n;break;case"input":Om(t,n),s=md(t,n),me("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ce({},n,{value:void 0}),me("invalid",t);break;case"textarea":Rm(t,n),s=vd(t,n),me("invalid",t);break;default:s=n}Ad(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fw(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rl(t,l):typeof l=="number"&&Rl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&me("scroll",t):l!=null&&ig(t,i,l,o))}switch(r){case"input":Fu(t),Nm(t,n,!1);break;case"textarea":Fu(t),Im(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Os(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ro(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ro(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)ub(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(R(166));if(r=ii(Hl.current),ii(rn.current),Qu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Yr]=e,(i=n.nodeValue!==r)&&(t=Wt,t!==null))switch(t.tag){case 3:Ku(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ku(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yr]=e,e.stateNode=n}return nt(e),null;case 13:if(ye(_e),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Qt!==null&&e.mode&1&&!(e.flags&128))Cv(),Ra(),e.flags|=98560,i=!1;else if(i=Qu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Yr]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),i=!1}else Pr!==null&&(rp(Pr),Pr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?je===0&&(je=3):zg())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return Ba(),Wd(t,e),t===null&&Ml(e.stateNode.containerInfo),nt(e),null;case 10:return _g(e.type._context),nt(e),null;case 17:return Pt(e.type)&&Gc(),nt(e),null;case 19:if(ye(_e),i=e.memoizedState,i===null)return nt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)rl(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yc(t),o!==null){for(e.flags|=128,rl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pe(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>La&&(e.flags|=128,n=!0,rl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Yc(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return nt(e),null}else 2*Re()-i.renderingStartTime>La&&r!==1073741824&&(e.flags|=128,n=!0,rl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,r=_e.current,pe(_e,n?r&1|2:r&1),e):(nt(e),null);case 22:case 23:return jg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ht&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function Gk(t,e){switch(bg(e),e.tag){case 1:return Pt(e.type)&&Gc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),ye(Ct),ye(ut),Tg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pg(e),null;case 13:if(ye(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(_e),null;case 4:return Ba(),null;case 10:return _g(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var qu=!1,at=!1,Vk=typeof WeakSet=="function"?WeakSet:Set,j=null;function ko(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(t,e,n)}else r.current=null}function Jd(t,e,r){try{r()}catch(n){Oe(t,e,n)}}var Ey=!1;function Kk(t,e){if(Rd=jc,t=pv(),wg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===s&&(a=o),f===i&&++c===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Id={focusedElem:t,selectionRange:r},jc=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,A=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:yr(e.type,y),A);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){Oe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return v=Ey,Ey=!1,v}function kl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jd(e,r,i)}s=s.next}while(s!==n)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cb(t){var e=t.alternate;e!==null&&(t.alternate=null,cb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[zl],delete e[Ld],delete e[Pk],delete e[Tk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hb(t){return t.tag===5||t.tag===3||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hc));else if(n!==4&&(t=t.child,t!==null))for(Yd(t,e,r),t=t.sibling;t!==null;)Yd(t,e,r),t=t.sibling}function Zd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zd(t,e,r),t=t.sibling;t!==null;)Zd(t,e,r),t=t.sibling}var Je=null,xr=!1;function jn(t,e,r){for(r=r.child;r!==null;)fb(t,e,r),r=r.sibling}function fb(t,e,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Oh,r)}catch{}switch(r.tag){case 5:at||ko(r,e);case 6:var n=Je,s=xr;Je=null,jn(t,e,r),Je=n,xr=s,Je!==null&&(xr?(t=Je,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(xr?(t=Je,r=r.stateNode,t.nodeType===8?xf(t.parentNode,r):t.nodeType===1&&xf(t,r),Ll(t)):xf(Je,r.stateNode));break;case 4:n=Je,s=xr,Je=r.stateNode.containerInfo,xr=!0,jn(t,e,r),Je=n,xr=s;break;case 0:case 11:case 14:case 15:if(!at&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jd(r,e,o),s=s.next}while(s!==n)}jn(t,e,r);break;case 1:if(!at&&(ko(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Oe(r,e,a)}jn(t,e,r);break;case 21:jn(t,e,r);break;case 22:r.mode&1?(at=(n=at)||r.memoizedState!==null,jn(t,e,r),at=n):jn(t,e,r);break;default:jn(t,e,r)}}function _y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Vk),e.forEach(function(n){var s=t_.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,xr=!1;break e;case 3:Je=a.stateNode.containerInfo,xr=!0;break e;case 4:Je=a.stateNode.containerInfo,xr=!0;break e}a=a.return}if(Je===null)throw Error(R(160));fb(i,o,s),Je=null,xr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Oe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)db(e,t),e=e.sibling}function db(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),Dr(t),n&4){try{kl(3,t,t.return),Fh(3,t)}catch(y){Oe(t,t.return,y)}try{kl(5,t,t.return)}catch(y){Oe(t,t.return,y)}}break;case 1:pr(e,t),Dr(t),n&512&&r!==null&&ko(r,r.return);break;case 5:if(pr(e,t),Dr(t),n&512&&r!==null&&ko(r,r.return),t.flags&32){var s=t.stateNode;try{Rl(s,"")}catch(y){Oe(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Uw(s,i),Ed(a,o);var u=Ed(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?jw(s,h):c==="dangerouslySetInnerHTML"?Fw(s,h):c==="children"?Rl(s,h):ig(s,c,h,u)}switch(a){case"input":yd(s,i);break;case"textarea":Lw(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ro(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ro(s,!!i.multiple,i.defaultValue,!0):Ro(s,!!i.multiple,i.multiple?[]:"",!1))}s[zl]=i}catch(y){Oe(t,t.return,y)}}break;case 6:if(pr(e,t),Dr(t),n&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Oe(t,t.return,y)}}break;case 3:if(pr(e,t),Dr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(y){Oe(t,t.return,y)}break;case 4:pr(e,t),Dr(t);break;case 13:pr(e,t),Dr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fg=Re())),n&4&&_y(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(at=(u=at)||c,pr(e,t),at=u):pr(e,t),Dr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(h=j=c;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:kl(4,f,f.return);break;case 1:ko(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Oe(n,r,y)}}break;case 5:ko(f,f.return);break;case 22:if(f.memoizedState!==null){xy(h);continue}}p!==null?(p.return=f,j=p):xy(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mw("display",o))}catch(y){Oe(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Oe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pr(e,t),Dr(t),n&4&&_y(t);break;case 21:break;default:pr(e,t),Dr(t)}}function Dr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hb(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rl(s,""),n.flags&=-33);var i=ky(t);Zd(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ky(t);Yd(t,a,o);break;default:throw Error(R(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qk(t,e,r){j=t,pb(t)}function pb(t,e,r){for(var n=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||at;a=qu;var u=at;if(qu=o,(at=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Cy(s):l!==null?(l.return=o,j=l):Cy(s);for(;i!==null;)j=i,pb(i),i=i.sibling;j=s,qu=a,at=u}Sy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):Sy(t)}}function Sy(t){for(;j!==null;){var e=j;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||Fh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!at)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:yr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uy(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uy(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}at||e.flags&512&&qd(e)}catch(f){Oe(e,e.return,f)}}if(e===t){j=null;break}if(r=e.sibling,r!==null){r.return=e.return,j=r;break}j=e.return}}function xy(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var r=e.sibling;if(r!==null){r.return=e.return,j=r;break}j=e.return}}function Cy(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fh(4,e)}catch(l){Oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Oe(e,s,l)}}var i=e.return;try{qd(e)}catch(l){Oe(e,i,l)}break;case 5:var o=e.return;try{qd(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Wk=Math.ceil,eh=Dn.ReactCurrentDispatcher,Lg=Dn.ReactCurrentOwner,cr=Dn.ReactCurrentBatchConfig,ie=0,Ve=null,Ue=null,Ze=0,Ht=0,_o=Ls(0),je=0,Ql=null,Di=0,Mh=0,Dg=0,_l=null,_t=null,Fg=0,La=1/0,on=null,th=!1,Xd=null,xs=null,Yu=!1,bs=null,rh=0,Sl=0,ep=null,Ac=-1,Ec=0;function wt(){return ie&6?Re():Ac!==-1?Ac:Ac=Re()}function Cs(t){return t.mode&1?ie&2&&Ze!==0?Ze&-Ze:Nk.transition!==null?(Ec===0&&(Ec=Zw()),Ec):(t=ce,t!==0||(t=window.event,t=t===void 0?16:iv(t.type)),t):1}function Rr(t,e,r,n){if(50<Sl)throw Sl=0,ep=null,Error(R(185));_u(t,r,n),(!(ie&2)||t!==Ve)&&(t===Ve&&(!(ie&2)&&(Mh|=r),je===4&&Xn(t,Ze)),Tt(t,n),r===1&&ie===0&&!(e.mode&1)&&(La=Re()+500,Uh&&Ds()))}function Tt(t,e){var r=t.callbackNode;N1(t,e);var n=Mc(t,t===Ve?Ze:0);if(n===0)r!==null&&Lm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lm(r),e===1)t.tag===0?Ok(Py.bind(null,t)):_v(Py.bind(null,t)),xk(function(){!(ie&6)&&Ds()}),r=null;else{switch(Xw(n)){case 1:r=cg;break;case 4:r=qw;break;case 16:r=Fc;break;case 536870912:r=Yw;break;default:r=Fc}r=Eb(r,gb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gb(t,e){if(Ac=-1,Ec=0,ie&6)throw Error(R(327));var r=t.callbackNode;if(Do()&&t.callbackNode!==r)return null;var n=Mc(t,t===Ve?Ze:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=nh(t,n);else{e=n;var s=ie;ie|=2;var i=yb();(Ve!==t||Ze!==e)&&(on=null,La=Re()+500,Oi(t,e));do try{Yk();break}catch(a){mb(t,a)}while(!0);kg(),eh.current=i,ie=s,Ue!==null?e=0:(Ve=null,Ze=0,e=je)}if(e!==0){if(e===2&&(s=Cd(t),s!==0&&(n=s,e=tp(t,s))),e===1)throw r=Ql,Oi(t,0),Xn(t,n),Tt(t,Re()),r;if(e===6)Xn(t,n);else{if(s=t.current.alternate,!(n&30)&&!Jk(s)&&(e=nh(t,n),e===2&&(i=Cd(t),i!==0&&(n=i,e=tp(t,i))),e===1))throw r=Ql,Oi(t,0),Xn(t,n),Tt(t,Re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(R(345));case 2:Ks(t,_t,on);break;case 3:if(Xn(t,n),(n&130023424)===n&&(e=Fg+500-Re(),10<e)){if(Mc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ud(Ks.bind(null,t,_t,on),e);break}Ks(t,_t,on);break;case 4:if(Xn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Nr(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wk(n/1960))-n,10<n){t.timeoutHandle=Ud(Ks.bind(null,t,_t,on),n);break}Ks(t,_t,on);break;case 5:Ks(t,_t,on);break;default:throw Error(R(329))}}}return Tt(t,Re()),t.callbackNode===r?gb.bind(null,t):null}function tp(t,e){var r=_l;return t.current.memoizedState.isDehydrated&&(Oi(t,e).flags|=256),t=nh(t,e),t!==2&&(e=_t,_t=r,e!==null&&rp(e)),t}function rp(t){_t===null?_t=t:_t.push.apply(_t,t)}function Jk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ir(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~Dg,e&=~Mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Nr(e),n=1<<r;t[r]=-1,e&=~n}}function Py(t){if(ie&6)throw Error(R(327));Do();var e=Mc(t,0);if(!(e&1))return Tt(t,Re()),null;var r=nh(t,e);if(t.tag!==0&&r===2){var n=Cd(t);n!==0&&(e=n,r=tp(t,n))}if(r===1)throw r=Ql,Oi(t,0),Xn(t,e),Tt(t,Re()),r;if(r===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ks(t,_t,on),Tt(t,Re()),null}function Mg(t,e){var r=ie;ie|=1;try{return t(e)}finally{ie=r,ie===0&&(La=Re()+500,Uh&&Ds())}}function Fi(t){bs!==null&&bs.tag===0&&!(ie&6)&&Do();var e=ie;ie|=1;var r=cr.transition,n=ce;try{if(cr.transition=null,ce=1,t)return t()}finally{ce=n,cr.transition=r,ie=e,!(ie&6)&&Ds()}}function jg(){Ht=_o.current,ye(_o)}function Oi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sk(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(bg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gc();break;case 3:Ba(),ye(Ct),ye(ut),Tg();break;case 5:Pg(n);break;case 4:Ba();break;case 13:ye(_e);break;case 19:ye(_e);break;case 10:_g(n.type._context);break;case 22:case 23:jg()}r=r.return}if(Ve=t,Ue=t=Ps(t.current,null),Ze=Ht=e,je=0,Ql=null,Dg=Mh=Di=0,_t=_l=null,si!==null){for(e=0;e<si.length;e++)if(r=si[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}si=null}return t}function mb(t,e){do{var r=Ue;try{if(kg(),wc.current=Xc,Zc){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zc=!1}if(Li=0,$e=Me=xe=null,El=!1,Gl=0,Lg.current=null,r===null||r.return===null){je=1,Ql=e,Ue=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gy(o);if(p!==null){p.flags&=-257,my(p,o,a,i,e),p.mode&1&&py(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){py(i,u,e),zg();break e}l=Error(R(426))}}else if(be&&a.mode&1){var A=gy(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),my(A,o,a,i,e),Ag(Ua(l,a));break e}}i=l=Ua(l,a),je!==4&&(je=2),_l===null?_l=[i]:_l.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Xv(i,l,e);ly(i,g);break e;case 1:a=l;var m=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xs===null||!xs.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=eb(i,a,e);ly(i,k);break e}}i=i.return}while(i!==null)}vb(r)}catch(C){e=C,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function yb(){var t=eh.current;return eh.current=Xc,t===null?Xc:t}function zg(){(je===0||je===3||je===2)&&(je=4),Ve===null||!(Di&268435455)&&!(Mh&268435455)||Xn(Ve,Ze)}function nh(t,e){var r=ie;ie|=2;var n=yb();(Ve!==t||Ze!==e)&&(on=null,Oi(t,e));do try{qk();break}catch(s){mb(t,s)}while(!0);if(kg(),ie=r,eh.current=n,Ue!==null)throw Error(R(261));return Ve=null,Ze=0,je}function qk(){for(;Ue!==null;)wb(Ue)}function Yk(){for(;Ue!==null&&!E1();)wb(Ue)}function wb(t){var e=Ab(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?vb(t):Ue=e,Lg.current=null}function vb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Gk(r,e),r!==null){r.flags&=32767,Ue=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Ue=null;return}}else if(r=Hk(r,e,Ht),r!==null){Ue=r;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);je===0&&(je=5)}function Ks(t,e,r){var n=ce,s=cr.transition;try{cr.transition=null,ce=1,Zk(t,e,r,n)}finally{cr.transition=s,ce=n}return null}function Zk(t,e,r,n){do Do();while(bs!==null);if(ie&6)throw Error(R(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(R1(t,i),t===Ve&&(Ue=Ve=null,Ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yu||(Yu=!0,Eb(Fc,function(){return Do(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=cr.transition,cr.transition=null;var o=ce;ce=1;var a=ie;ie|=4,Lg.current=null,Kk(t,r),db(r,t),wk(Id),jc=!!Rd,Id=Rd=null,t.current=r,Qk(r),k1(),ie=a,ce=o,cr.transition=i}else t.current=r;if(Yu&&(Yu=!1,bs=t,rh=s),i=t.pendingLanes,i===0&&(xs=null),x1(r.stateNode),Tt(t,Re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(th)throw th=!1,t=Xd,Xd=null,t;return rh&1&&t.tag!==0&&Do(),i=t.pendingLanes,i&1?t===ep?Sl++:(Sl=0,ep=t):Sl=0,Ds(),null}function Do(){if(bs!==null){var t=Xw(rh),e=cr.transition,r=ce;try{if(cr.transition=null,ce=16>t?16:t,bs===null)var n=!1;else{if(t=bs,bs=null,rh=0,ie&6)throw Error(R(331));var s=ie;for(ie|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:kl(8,c,i)}var h=c.child;if(h!==null)h.return=c,j=h;else for(;j!==null;){c=j;var f=c.sibling,p=c.return;if(cb(c),c===u){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var A=y.sibling;y.sibling=null,y=A}while(y!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,j=g;break e}j=i.return}}var m=t.current;for(j=m;j!==null;){o=j;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,j=w;else e:for(o=m;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fh(9,a)}}catch(C){Oe(a,a.return,C)}if(a===o){j=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,j=k;break e}j=a.return}}if(ie=s,Ds(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Oh,t)}catch{}n=!0}return n}finally{ce=r,cr.transition=e}}return!1}function Ty(t,e,r){e=Ua(r,e),e=Xv(t,e,1),t=Ss(t,e,1),e=wt(),t!==null&&(_u(t,1,e),Tt(t,e))}function Oe(t,e,r){if(t.tag===3)Ty(t,t,r);else for(;e!==null;){if(e.tag===3){Ty(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){t=Ua(r,t),t=eb(e,t,1),e=Ss(e,t,1),t=wt(),e!==null&&(_u(e,1,t),Tt(e,t));break}}e=e.return}}function Xk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&r,Ve===t&&(Ze&r)===r&&(je===4||je===3&&(Ze&130023424)===Ze&&500>Re()-Fg?Oi(t,0):Dg|=r),Tt(t,e)}function bb(t,e){e===0&&(t.mode&1?(e=zu,zu<<=1,!(zu&130023424)&&(zu=4194304)):e=1);var r=wt();t=In(t,e),t!==null&&(_u(t,e,r),Tt(t,r))}function e_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),bb(t,r)}function t_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(e),bb(t,r)}var Ab;Ab=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xt=!1,$k(t,e,r);xt=!!(t.flags&131072)}else xt=!1,be&&e.flags&1048576&&Sv(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;bc(t,e),t=e.pendingProps;var s=Na(e,ut.current);Lo(e,r),s=Ng(null,e,n,t,s,r);var i=Rg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(n)?(i=!0,Vc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xg(e),s.updater=Dh,e.stateNode=s,s._reactInternals=e,$d(e,n,t,r),e=Vd(null,e,n,!0,i,r)):(e.tag=0,be&&i&&vg(e),ft(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(bc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=n_(n),t=yr(n,t),s){case 0:e=Gd(null,e,n,t,r);break e;case 1:e=vy(null,e,n,t,r);break e;case 11:e=yy(null,e,n,t,r);break e;case 14:e=wy(null,e,n,yr(n.type,t),r);break e}throw Error(R(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yr(n,s),Gd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yr(n,s),vy(t,e,n,s,r);case 3:e:{if(sb(e),t===null)throw Error(R(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Nv(t,e),qc(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ua(Error(R(423)),e),e=by(t,e,n,r,s);break e}else if(n!==s){s=Ua(Error(R(424)),e),e=by(t,e,n,r,s);break e}else for(Qt=_s(e.stateNode.containerInfo.firstChild),Wt=e,be=!0,Pr=null,r=Tv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ra(),n===s){e=Bn(t,e,r);break e}ft(t,e,n,r)}e=e.child}return e;case 5:return Rv(e),t===null&&Md(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bd(n,s)?o=null:i!==null&&Bd(n,i)&&(e.flags|=32),nb(t,e),ft(t,e,o,r),e.child;case 6:return t===null&&Md(e),null;case 13:return ib(t,e,r);case 4:return Cg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ia(e,null,n,r):ft(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yr(n,s),yy(t,e,n,s,r);case 7:return ft(t,e,e.pendingProps,r),e.child;case 8:return ft(t,e,e.pendingProps.children,r),e.child;case 12:return ft(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,pe(Wc,n._currentValue),n._currentValue=o,i!==null)if(Ir(i.value,o)){if(i.children===s.children&&!Ct.current){e=Bn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Cn(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),jd(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),jd(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ft(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Lo(e,r),s=hr(s),n=n(s),e.flags|=1,ft(t,e,n,r),e.child;case 14:return n=e.type,s=yr(n,e.pendingProps),s=yr(n.type,s),wy(t,e,n,s,r);case 15:return tb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yr(n,s),bc(t,e),e.tag=1,Pt(n)?(t=!0,Vc(e)):t=!1,Lo(e,r),Zv(e,n,s),$d(e,n,s,r),Vd(null,e,n,!0,t,r);case 19:return ob(t,e,r);case 22:return rb(t,e,r)}throw Error(R(156,e.tag))};function Eb(t,e){return Jw(t,e)}function r_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,r,n){return new r_(t,e,r,n)}function $g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function n_(t){if(typeof t=="function")return $g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ag)return 11;if(t===lg)return 14}return 2}function Ps(t,e){var r=t.alternate;return r===null?(r=ur(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function kc(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")$g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Ni(r.children,s,i,e);case og:o=8,s|=8;break;case fd:return t=ur(12,r,e,s|2),t.elementType=fd,t.lanes=i,t;case dd:return t=ur(13,r,e,s),t.elementType=dd,t.lanes=i,t;case pd:return t=ur(19,r,e,s),t.elementType=pd,t.lanes=i,t;case Rw:return jh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ow:o=10;break e;case Nw:o=9;break e;case ag:o=11;break e;case lg:o=14;break e;case Wn:o=16,n=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=ur(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ni(t,e,r,n){return t=ur(7,t,n,e),t.lanes=r,t}function jh(t,e,r,n){return t=ur(22,t,n,e),t.elementType=Rw,t.lanes=r,t.stateNode={isHidden:!1},t}function Bf(t,e,r){return t=ur(6,t,null,e),t.lanes=r,t}function Uf(t,e,r){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s_(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hg(t,e,r,n,s,i,o,a,l){return t=new s_(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ur(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(i),t}function i_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function kb(t){if(!t)return Ns;t=t._reactInternals;e:{if(Vi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var r=t.type;if(Pt(r))return kv(t,r,e)}return e}function _b(t,e,r,n,s,i,o,a,l){return t=Hg(r,n,!0,t,s,i,o,a,l),t.context=kb(null),r=t.current,n=wt(),s=Cs(r),i=Cn(n,s),i.callback=e??null,Ss(r,i,s),t.current.lanes=s,_u(t,s,n),Tt(t,n),t}function zh(t,e,r,n){var s=e.current,i=wt(),o=Cs(s);return r=kb(r),e.context===null?e.context=r:e.pendingContext=r,e=Cn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ss(s,e,o),t!==null&&(Rr(t,s,o,i),yc(t,s,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Oy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gg(t,e){Oy(t,e),(t=t.alternate)&&Oy(t,e)}function o_(){return null}var Sb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vg(t){this._internalRoot=t}$h.prototype.render=Vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));zh(t,e,null,null)};$h.prototype.unmount=Vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){zh(null,t,null,null)}),e[Rn]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=rv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Zn.length&&e!==0&&e<Zn[r].priority;r++);Zn.splice(r,0,t),r===0&&sv(t)}};function Kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function a_(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=sh(o);i.call(u)}}var o=_b(e,n,t,0,null,!1,!1,"",Ny);return t._reactRootContainer=o,t[Rn]=o.current,Ml(t.nodeType===8?t.parentNode:t),Fi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=sh(l);a.call(u)}}var l=Hg(t,0,!1,null,null,!1,!1,"",Ny);return t._reactRootContainer=l,t[Rn]=l.current,Ml(t.nodeType===8?t.parentNode:t),Fi(function(){zh(e,l,r,n)}),l}function Gh(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=sh(o);a.call(l)}}zh(e,o,t,s)}else o=a_(r,e,t,s,n);return sh(o)}ev=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ul(e.pendingLanes);r!==0&&(hg(e,r|1),Tt(e,Re()),!(ie&6)&&(La=Re()+500,Ds()))}break;case 13:Fi(function(){var n=In(t,1);if(n!==null){var s=wt();Rr(n,t,1,s)}}),Gg(t,1)}};fg=function(t){if(t.tag===13){var e=In(t,134217728);if(e!==null){var r=wt();Rr(e,t,134217728,r)}Gg(t,134217728)}};tv=function(t){if(t.tag===13){var e=Cs(t),r=In(t,e);if(r!==null){var n=wt();Rr(r,t,e,n)}Gg(t,e)}};rv=function(){return ce};nv=function(t,e){var r=ce;try{return ce=t,e()}finally{ce=r}};_d=function(t,e,r){switch(e){case"input":if(yd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Bh(n);if(!s)throw Error(R(90));Bw(n),yd(n,s)}}}break;case"textarea":Lw(t,r);break;case"select":e=r.value,e!=null&&Ro(t,!!r.multiple,e,!1)}};Hw=Mg;Gw=Fi;var l_={usingClientEntryPoint:!1,Events:[xu,wo,Bh,zw,$w,Mg]},nl={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qw(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{Oh=Zu.inject(u_),tn=Zu}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;qt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(e))throw Error(R(200));return i_(t,e,null,r)};qt.createRoot=function(t,e){if(!Kg(t))throw Error(R(299));var r=!1,n="",s=Sb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hg(t,1,!1,null,null,r,!1,n,s),t[Rn]=e.current,Ml(t.nodeType===8?t.parentNode:t),new Vg(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Qw(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return Fi(t)};qt.hydrate=function(t,e,r){if(!Hh(e))throw Error(R(200));return Gh(null,t,e,!0,r)};qt.hydrateRoot=function(t,e,r){if(!Kg(t))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Sb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=_b(e,null,t,1,r??null,s,!1,i,o),t[Rn]=e.current,Ml(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new $h(e)};qt.render=function(t,e,r){if(!Hh(e))throw Error(R(200));return Gh(null,t,e,!1,r)};qt.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(R(40));return t._reactRootContainer?(Fi(function(){Gh(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1};qt.unstable_batchedUpdates=Mg;qt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hh(r))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Gh(t,e,r,!1,n)};qt.version="18.3.1-next-f1338f8080-20240426";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),xw.exports=qt;var c_=xw.exports,Cb,Ry=c_;Cb=Ry.createRoot,Ry.hydrateRoot;function h_({onClickHuman:t,onClickShed:e}){return F.createElement("div",{className:"relative h-96 bg-gradient-to-b from-green-200 to-green-100 rounded overflow-hidden"},F.createElement("div",{className:"absolute left-6 bottom-6"},F.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80"},F.createElement("ellipse",{cx:"30",cy:"60",rx:"26",ry:"12",fill:"#fef3c7"}),F.createElement("circle",{cx:"30",cy:"50",r:"18",fill:"#fde047"}),F.createElement("circle",{cx:"40",cy:"45",r:"3",fill:"#000"}))),F.createElement("div",{className:"absolute left-48 bottom-12"},F.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40"},F.createElement("ellipse",{cx:"20",cy:"22",rx:"12",ry:"8",fill:"#fff7ed"}),F.createElement("circle",{cx:"20",cy:"18",r:"7",fill:"#fef3c7"}))),F.createElement("div",{className:"absolute right-44 bottom-16 cursor-pointer",onClick:t},F.createElement("div",{className:"flex items-center space-x-2"},F.createElement("div",{className:"w-10 h-10 rounded-full bg-yellow-300 flex items-center justify-center"},""),F.createElement("div",{className:"text-sm"},"Human"))),F.createElement("div",{className:"absolute right-6 top-8 cursor-pointer",onClick:e},F.createElement("div",{className:"w-28 h-20 bg-red-500 rounded border-2 border-yellow-400 flex items-center justify-center text-white font-bold"},"Shed")),F.createElement("div",{className:"absolute left-20 bottom-28"},F.createElement("div",{className:"w-6 h-8 bg-white rounded-full shadow-md"})))}const f_="6.16.0";function d_(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function dt(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function K(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&d_(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function So(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>So(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return So(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${So(n,e)}: ${So(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ye(t,e){return t&&t.code===e}function Qg(t){return Ye(t,"CALL_EXCEPTION")}function ve(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${So(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];i.push(o+"="+So(a))}}i.push(`code=${e}`),i.push(`version=${f_}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return K(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&K(s,{shortMessage:n}),s}function O(t,e,r,n){if(!t)throw ve(e,r,n)}function E(t,e,r,n){O(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Pb(t,e,r){r==null&&(r=""),r&&(r=": "+r),O(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),O(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Pu(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),O(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Tb(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}E(!1,"invalid BytesLike value",e||"value",t)}function X(t,e){return Tb(t,e,!1)}function pt(t,e){return Tb(t,e,!0)}function ge(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Wg(t){return ge(t,!0)||t instanceof Uint8Array}const Iy="0123456789abcdef";function U(t){const e=X(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=Iy[(s&240)>>4]+Iy[s&15]}return r}function Ae(t){return"0x"+t.map(e=>U(e).substring(2)).join("")}function Fo(t){return ge(t,!0)?(t.length-2)/2:X(t).length}function Te(t,e,r){const n=X(t);return r!=null&&r>n.length&&O(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),U(n.slice(e??0,r??n.length))}function Ob(t,e,r){const n=X(t);O(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),U(s)}function Un(t,e){return Ob(t,e,!0)}function p_(t,e){return Ob(t,e,!1)}const Tu=BigInt(0),Or=BigInt(1),xo=9007199254740991;function ih(t,e){const r=Vh(t,"value"),n=BigInt(Y(e,"width"));if(O(r>>n===Tu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Or){const s=(Or<<n)-Or;return-((~r&s)+Or)}return r}function Nb(t,e){let r=z(t,"value");const n=BigInt(Y(e,"width")),s=Or<<n-Or;if(r<Tu){r=-r,O(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Or<<n)-Or;return(~r&i)+Or}else O(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function oi(t,e){const r=Vh(t,"value"),n=BigInt(Y(e,"bits"));return r&(Or<<n)-Or}function z(t,e){switch(typeof t){case"bigint":return t;case"number":return E(Number.isInteger(t),"underflow",e||"value",t),E(t>=-xo&&t<=xo,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){E(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}E(!1,"invalid BigNumberish value",e||"value",t)}function Vh(t,e){const r=z(t,e);return O(r>=Tu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const By="0123456789abcdef";function Kh(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=By[r>>4],e+=By[r&15];return BigInt(e)}return z(t)}function Y(t,e){switch(typeof t){case"bigint":return E(t>=-xo&&t<=xo,"overflow",e||"value",t),Number(t);case"number":return E(Number.isInteger(t),"underflow",e||"value",t),E(t>=-xo&&t<=xo,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Y(BigInt(t),e)}catch(r){E(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}E(!1,"invalid numeric value",e||"value",t)}function g_(t){return Y(Kh(t))}function Rs(t,e){const r=Vh(t,"value");let n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=Y(e,"width");if(s===0&&r===Tu)return"0x";for(O(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function De(t,e){const r=Vh(t,"value");if(r===Tu)return new Uint8Array(0);let n=r.toString(16);n.length%2&&(n="0"+n);const s=new Uint8Array(n.length/2);for(let i=0;i<s.length;i++){const o=i*2;s[i]=parseInt(n.substring(o,o+2),16)}return s}function Tr(t){let e=U(Wg(t)?t:De(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Uy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ly=BigInt(58);function m_(t){const e=X(t);let r=Kh(e),n="";for(;r;)n=Uy[Number(r%Ly)]+n,r/=Ly;for(let s=0;s<e.length&&!e[s];s++)n=Uy[0]+n;return n}function y_(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return X(e)}function w_(t){const e=X(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var Ho;class Rb{constructor(e,r,n){_(this,"filter");_(this,"emitter");x(this,Ho);b(this,Ho,r),K(this,{emitter:e,filter:n})}async removeListener(){d(this,Ho)!=null&&await this.emitter.off(this.filter,d(this,Ho))}}Ho=new WeakMap;function v_(t,e,r,n,s){E(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Ib(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function b_(t,e,r,n,s){return t==="OVERLONG"?(E(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Ib(t,e,r))}const A_=Object.freeze({error:v_,ignore:Ib,replace:b_});function E_(t,e){e==null&&(e=A_.error);const r=X(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(!(i>>7)){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+o>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let l=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let c=r[s];if((c&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),l=null;break}l=l<<6|c&63,s++}if(l!==null){if(l>1114111){s+=e("OUT_OF_RANGE",s-1-o,r,n,l);continue}if(l>=55296&&l<=57343){s+=e("UTF16_SURROGATE",s-1-o,r,n,l);continue}if(l<=a){s+=e("OVERLONG",s-1-o,r,n,l);continue}n.push(l)}}return n}function Pn(t,e){E(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);E(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function k_(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function oh(t,e){return k_(E_(t,e))}function Bb(t){async function e(r,n){O(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();O(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),O(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=ve("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=ve("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal});let u;try{u=await fetch(r.url,l)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);const c={};u.headers.forEach((p,v)=>{c[v.toLowerCase()]=p});const h=await u.arrayBuffer(),f=h==null?null:new Uint8Array(h);return{statusCode:u.status,statusMessage:u.statusText,headers:c,body:f}}return e}const __=12,S_=250;let Dy=Bb();const x_=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),C_=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Lf=!1;async function Ub(t,e){try{const r=t.match(x_);if(!r)throw new Error("invalid data");return new Ts(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?y_(r[3]):T_(r[3]))}catch{return new Ts(599,"BAD REQUEST (invalid data: URI)",{},null,new Is(t))}}function Lb(t){async function e(r,n){try{const s=r.match(C_);if(!s)throw new Error("invalid link");return new Is(`${t}${s[2]}`)}catch{return new Ts(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Is(r))}}return e}const Xu={data:Ub,ipfs:Lb("https://gateway.ipfs.io/ipfs/")},Db=new WeakMap;var hi,ts;class P_{constructor(e){x(this,hi);x(this,ts);b(this,hi,[]),b(this,ts,!1),Db.set(e,()=>{if(!d(this,ts)){b(this,ts,!0);for(const r of d(this,hi))setTimeout(()=>{r()},0);b(this,hi,[])}})}addListener(e){O(!d(this,ts),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),d(this,hi).push(e)}get cancelled(){return d(this,ts)}checkSignal(){O(!this.cancelled,"cancelled","CANCELLED",{})}}hi=new WeakMap,ts=new WeakMap;function ec(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Go,Vo,br,fn,Ko,Qo,ze,Mt,dn,fi,di,pi,$r,Ar,rs,gi,hl;const kh=class kh{constructor(e){x(this,gi);x(this,Go);x(this,Vo);x(this,br);x(this,fn);x(this,Ko);x(this,Qo);x(this,ze);x(this,Mt);x(this,dn);x(this,fi);x(this,di);x(this,pi);x(this,$r);x(this,Ar);x(this,rs);b(this,Qo,String(e)),b(this,Go,!1),b(this,Vo,!0),b(this,br,{}),b(this,fn,""),b(this,Ko,3e5),b(this,Ar,{slotInterval:S_,maxAttempts:__}),b(this,rs,null)}get url(){return d(this,Qo)}set url(e){b(this,Qo,String(e))}get body(){return d(this,ze)==null?null:new Uint8Array(d(this,ze))}set body(e){if(e==null)b(this,ze,void 0),b(this,Mt,void 0);else if(typeof e=="string")b(this,ze,Pn(e)),b(this,Mt,"text/plain");else if(e instanceof Uint8Array)b(this,ze,e),b(this,Mt,"application/octet-stream");else if(typeof e=="object")b(this,ze,Pn(JSON.stringify(e))),b(this,Mt,"application/json");else throw new Error("invalid body")}hasBody(){return d(this,ze)!=null}get method(){return d(this,fn)?d(this,fn):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),b(this,fn,String(e).toUpperCase())}get headers(){const e=Object.assign({},d(this,br));return d(this,dn)&&(e.authorization=`Basic ${w_(Pn(d(this,dn)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&d(this,Mt)&&(e["content-type"]=d(this,Mt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){d(this,br)[String(e).toLowerCase()]=String(r)}clearHeaders(){b(this,br,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return d(this,dn)||null}setCredentials(e,r){E(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),b(this,dn,`${e}:${r}`)}get allowGzip(){return d(this,Vo)}set allowGzip(e){b(this,Vo,!!e)}get allowInsecureAuthentication(){return!!d(this,Go)}set allowInsecureAuthentication(e){b(this,Go,!!e)}get timeout(){return d(this,Ko)}set timeout(e){E(e>=0,"timeout must be non-zero","timeout",e),b(this,Ko,e)}get preflightFunc(){return d(this,fi)||null}set preflightFunc(e){b(this,fi,e)}get processFunc(){return d(this,di)||null}set processFunc(e){b(this,di,e)}get retryFunc(){return d(this,pi)||null}set retryFunc(e){b(this,pi,e)}get getUrlFunc(){return d(this,rs)||Dy}set getUrlFunc(e){b(this,rs,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${d(this,ze)?U(d(this,ze)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(d(this,Ar).slotInterval=e.slotInterval),e.maxAttempts!=null&&(d(this,Ar).maxAttempts=e.maxAttempts)}send(){return O(d(this,$r)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),b(this,$r,new P_(this)),N(this,gi,hl).call(this,0,Fy()+this.timeout,0,this,new Ts(0,"",{},null,this))}cancel(){O(d(this,$r)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Db.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();O(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new kh(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,b(s,br,Object.assign({},d(this,br))),d(this,ze)&&b(s,ze,new Uint8Array(d(this,ze))),b(s,Mt,d(this,Mt)),s}clone(){const e=new kh(this.url);return b(e,fn,d(this,fn)),d(this,ze)&&b(e,ze,d(this,ze)),b(e,Mt,d(this,Mt)),b(e,br,Object.assign({},d(this,br))),b(e,dn,d(this,dn)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),b(e,fi,d(this,fi)),b(e,di,d(this,di)),b(e,pi,d(this,pi)),b(e,Ar,Object.assign({},d(this,Ar))),b(e,rs,d(this,rs)),e}static lockConfig(){Lf=!0}static getGateway(e){return Xu[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Lf)throw new Error("gateways locked");Xu[e]=r}static registerGetUrl(e){if(Lf)throw new Error("gateways locked");Dy=e}static createGetUrlFunc(e){return Bb(e)}static createDataGateway(){return Ub}static createIpfsGatewayFunc(e){return Lb(e)}};Go=new WeakMap,Vo=new WeakMap,br=new WeakMap,fn=new WeakMap,Ko=new WeakMap,Qo=new WeakMap,ze=new WeakMap,Mt=new WeakMap,dn=new WeakMap,fi=new WeakMap,di=new WeakMap,pi=new WeakMap,$r=new WeakMap,Ar=new WeakMap,rs=new WeakMap,gi=new WeakSet,hl=async function(e,r,n,s,i){var c,h,f;if(e>=d(this,Ar).maxAttempts)return i.makeServerError("exceeded maximum retry limit");O(Fy()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await O_(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Xu){const p=await Xu[a](o.url,ec(d(s,$r)));if(p instanceof Ts){let v=p;if(this.processFunc){ec(d(s,$r));try{v=await this.processFunc(o,v)}catch(y){(y.throttle==null||typeof y.stall!="number")&&v.makeServerError("error in post-processing function",y).assertOk()}}return v}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,ec(d(s,$r)));let u=new Ts(l.statusCode,l.statusMessage,l.headers,l.body,s);if(u.statusCode===301||u.statusCode===302){try{const p=u.headers.location||"";return N(c=o.redirect(p),gi,hl).call(c,e+1,r,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const p=u.headers["retry-after"];let v=d(this,Ar).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(v=parseInt(p)),N(h=o.clone(),gi,hl).call(h,e+1,r,v,s,u)}if(this.processFunc){ec(d(s,$r));try{u=await this.processFunc(o,u)}catch(p){(p.throttle==null||typeof p.stall!="number")&&u.makeServerError("error in post-processing function",p).assertOk();let v=d(this,Ar).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(v=p.stall),N(f=o.clone(),gi,hl).call(f,e+1,r,v,s,u)}}return u};let Is=kh;var hu,fu,du,jt,Wo,mi;const ym=class ym{constructor(e,r,n,s,i){x(this,hu);x(this,fu);x(this,du);x(this,jt);x(this,Wo);x(this,mi);b(this,hu,e),b(this,fu,r),b(this,du,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),b(this,jt,s==null?null:new Uint8Array(s)),b(this,Wo,i||null),b(this,mi,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${d(this,jt)?U(d(this,jt)):"null"}>`}get statusCode(){return d(this,hu)}get statusMessage(){return d(this,fu)}get headers(){return Object.assign({},d(this,du))}get body(){return d(this,jt)==null?null:new Uint8Array(d(this,jt))}get bodyText(){try{return d(this,jt)==null?"":oh(d(this,jt))}catch{O(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{O(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new ym(599,n,this.headers,this.body,d(this,Wo)||void 0);return b(s,mi,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:E(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw K(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return d(this,jt)!=null}get request(){return d(this,Wo)}ok(){return d(this,mi).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=d(this,mi);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{d(this,jt)&&(s=oh(d(this,jt)))}catch{}O(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};hu=new WeakMap,fu=new WeakMap,du=new WeakMap,jt=new WeakMap,Wo=new WeakMap,mi=new WeakMap;let Ts=ym;function Fy(){return new Date().getTime()}function T_(t){return Pn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function O_(t){return new Promise(e=>setTimeout(e,t))}const N_=BigInt(-1),mr=BigInt(0),Co=BigInt(1),R_=BigInt(5),Zi={};let Mo="0000";for(;Mo.length<80;)Mo+=Mo;function js(t){let e=Mo;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function sl(t,e,r){const n=BigInt(e.width);if(e.signed){const s=Co<<n-Co;O(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>mr?t=ih(oi(t,n),n):t=-ih(oi(-t,n),n)}else{const s=Co<<n;O(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-Co}return t}function Df(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);E(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,o=(a,l,u)=>i[a]==null?u:(E(typeof i[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}E(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),E(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function I_(t,e){let r="";t<mr&&(r="-",t*=N_);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Mo+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Er,he,ct,le,Qs,sn,sp,ip,op,ap;const Yn=class Yn{constructor(e,r,n){x(this,le);_(this,"format");x(this,Er);x(this,he);x(this,ct);_(this,"_value");Pu(e,Zi,"FixedNumber"),b(this,he,r),b(this,Er,n);const s=I_(r,n.decimals);K(this,{format:n.name,_value:s}),b(this,ct,js(n.decimals))}get signed(){return d(this,Er).signed}get width(){return d(this,Er).width}get decimals(){return d(this,Er).decimals}get value(){return d(this,he)}addUnsafe(e){return N(this,le,sp).call(this,e)}add(e){return N(this,le,sp).call(this,e,"add")}subUnsafe(e){return N(this,le,ip).call(this,e)}sub(e){return N(this,le,ip).call(this,e,"sub")}mulUnsafe(e){return N(this,le,op).call(this,e)}mul(e){return N(this,le,op).call(this,e,"mul")}mulSignal(e){N(this,le,Qs).call(this,e);const r=d(this,he)*d(e,he);return O(r%d(this,ct)===mr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),N(this,le,sn).call(this,r/d(this,ct),"mulSignal")}divUnsafe(e){return N(this,le,ap).call(this,e)}div(e){return N(this,le,ap).call(this,e,"div")}divSignal(e){O(d(e,he)!==mr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),N(this,le,Qs).call(this,e);const r=d(this,he)*d(this,ct);return O(r%d(e,he)===mr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),N(this,le,sn).call(this,r/d(e,he),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=js(s):s<0&&(r*=js(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=d(this,he);return d(this,he)<mr&&(e-=d(this,ct)-Co),e=d(this,he)/d(this,ct)*d(this,ct),N(this,le,sn).call(this,e,"floor")}ceiling(){let e=d(this,he);return d(this,he)>mr&&(e+=d(this,ct)-Co),e=d(this,he)/d(this,ct)*d(this,ct),N(this,le,sn).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=R_*js(r-1);let s=this.value+n;const i=js(r);return s=s/i*i,sl(s,d(this,Er),"round"),new Yn(Zi,s,d(this,Er))}isZero(){return d(this,he)===mr}isNegative(){return d(this,he)<mr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Yn.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:Y(r),i=Df(n);let o=z(e,"value");const a=s-i.decimals;if(a>0){const l=js(a);O(o%l===mr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=js(-a));return sl(o,i,"fromValue"),new Yn(Zi,o,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);E(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=Df(r);let i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Mo;O(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(n[1]+i+o);return sl(a,s,"fromString"),new Yn(Zi,a,s)}static fromBytes(e,r){let n=Kh(X(e,"value"));const s=Df(r);return s.signed&&(n=ih(n,s.width)),sl(n,s,"fromBytes"),new Yn(Zi,n,s)}};Er=new WeakMap,he=new WeakMap,ct=new WeakMap,le=new WeakSet,Qs=function(e){E(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},sn=function(e,r){return e=sl(e,d(this,Er),r),new Yn(Zi,e,d(this,Er))},sp=function(e,r){return N(this,le,Qs).call(this,e),N(this,le,sn).call(this,d(this,he)+d(e,he),r)},ip=function(e,r){return N(this,le,Qs).call(this,e),N(this,le,sn).call(this,d(this,he)-d(e,he),r)},op=function(e,r){return N(this,le,Qs).call(this,e),N(this,le,sn).call(this,d(this,he)*d(e,he)/d(this,ct),r)},ap=function(e,r){return O(d(e,he)!==mr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),N(this,le,Qs).call(this,e),N(this,le,sn).call(this,d(this,he)*d(this,ct)/d(e,he),r)};let np=Yn;function B_(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function My(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function jy(t,e,r,n){const s=[];for(;r<e+1+n;){const i=Fb(t,r);s.push(i.result),r+=i.consumed,O(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function Fb(t,e){O(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{O(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=My(t,e+1,n);return r(e+1+n+s),jy(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),jy(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=My(t,e+1,n);r(e+1+n+s);const i=U(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=U(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:B_(t[e])}}function Ou(t){const e=X(t,"data"),r=Fb(e,0);return E(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function zy(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Mb(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(Mb(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=zy(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(X(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=zy(e.length);return r.unshift(183+r.length),r.concat(e)}const $y="0123456789abcdef";function Tn(t){let e="0x";for(const r of Mb(t))e+=$y[r>>4],e+=$y[r&15];return e}function U_(t,e){E(typeof t=="string","value must be a string","value",t);let r=18;return r=Y(e,"unit"),np.fromString(t,{decimals:r,width:512}).value}function L_(t){return U_(t,18)}const gt=32,lp=new Uint8Array(gt),D_=["then"],tc={},jb=new WeakMap;function qs(t){return jb.get(t)}function Hy(t,e){jb.set(t,e)}function il(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function up(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof Da?up(qs(n),n,r):n):t.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(r&&o instanceof Da&&(o=up(qs(o),o,r)),n[s]=o),n},{})}var Jo;const To=class To extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),o=!0;n!==tc&&(s=r,i=[],o=!1);super(s.length);x(this,Jo);s.forEach((u,c)=>{this[c]=u});const a=i.reduce((u,c)=>(typeof c=="string"&&u.set(c,(u.get(c)||0)+1),u),new Map);if(Hy(this,Object.freeze(s.map((u,c)=>{const h=i[c];return h!=null&&a.get(h)===1?h:null}))),b(this,Jo,[]),d(this,Jo)==null&&d(this,Jo),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(u,c,h)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const p=Y(c,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const v=u[p];return v instanceof Error&&il(`index ${p}`,v),v}if(D_.indexOf(c)>=0)return Reflect.get(u,c,h);const f=u[c];if(f instanceof Function)return function(...p){return f.apply(this===h?u:this,p)};if(!(c in u))return u.getValue.apply(this===h?u:this,[c])}return Reflect.get(u,c,h)}});return Hy(l,qs(this)),l}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&il(`index ${i}`,s),r&&s instanceof To&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=qs(this);return n.reduce((s,i,o)=>(O(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),up(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=qs(this),i=[],o=[];for(let a=r;a<n;a++)i.push(this[a]),o.push(s[a]);return new To(tc,i,o)}filter(r,n){const s=qs(this),i=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&il(`index ${a}`,l),r.call(n,l,a,this)&&(i.push(l),o.push(s[a]))}return new To(tc,i,o)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&il(`index ${i}`,o),s.push(r.call(n,o,i,this))}return s}getValue(r){const n=qs(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&il(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new To(tc,r,n)}};Jo=new WeakMap;let Da=To;function Gy(t){let e=De(t);return O(e.length<=gt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:gt,offset:e.length}),e.length!==gt&&(e=pt(Ae([lp.slice(e.length%gt),e]))),e}class Fn{constructor(e,r,n,s){_(this,"name");_(this,"type");_(this,"localName");_(this,"dynamic");K(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){E(!1,e,this.localName,r)}}var pn,yi,qo,_c;class cp{constructor(){x(this,qo);x(this,pn);x(this,yi);b(this,pn,[]),b(this,yi,0)}get data(){return Ae(d(this,pn))}get length(){return d(this,yi)}appendWriter(e){return N(this,qo,_c).call(this,pt(e.data))}writeBytes(e){let r=pt(e);const n=r.length%gt;return n&&(r=pt(Ae([r,lp.slice(n)]))),N(this,qo,_c).call(this,r)}writeValue(e){return N(this,qo,_c).call(this,Gy(e))}writeUpdatableValue(){const e=d(this,pn).length;return d(this,pn).push(lp),b(this,yi,d(this,yi)+gt),r=>{d(this,pn)[e]=Gy(r)}}}pn=new WeakMap,yi=new WeakMap,qo=new WeakSet,_c=function(e){return d(this,pn).push(e),b(this,yi,d(this,yi)+e.length),e.length};var At,zt,wi,vi,ns,Hi,fp,zb;const wm=class wm{constructor(e,r,n){x(this,Hi);_(this,"allowLoose");x(this,At);x(this,zt);x(this,wi);x(this,vi);x(this,ns);K(this,{allowLoose:!!r}),b(this,At,pt(e)),b(this,wi,0),b(this,vi,null),b(this,ns,n??1024),b(this,zt,0)}get data(){return U(d(this,At))}get dataLength(){return d(this,At).length}get consumed(){return d(this,zt)}get bytes(){return new Uint8Array(d(this,At))}subReader(e){const r=new wm(d(this,At).slice(d(this,zt)+e),this.allowLoose,d(this,ns));return b(r,vi,this),r}readBytes(e,r){let n=N(this,Hi,zb).call(this,0,e,!!r);return N(this,Hi,fp).call(this,e),b(this,zt,d(this,zt)+n.length),n.slice(0,e)}readValue(){return Kh(this.readBytes(gt))}readIndex(){return g_(this.readBytes(gt))}};At=new WeakMap,zt=new WeakMap,wi=new WeakMap,vi=new WeakMap,ns=new WeakMap,Hi=new WeakSet,fp=function(e){var r;if(d(this,vi))return N(r=d(this,vi),Hi,fp).call(r,e);b(this,wi,d(this,wi)+e),O(d(this,ns)<1||d(this,wi)<=d(this,ns)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${d(this,ns)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:pt(d(this,At)),offset:d(this,zt),length:e,info:{bytesRead:d(this,wi),dataLength:this.dataLength}})},zb=function(e,r,n){let s=Math.ceil(r/gt)*gt;return d(this,zt)+s>d(this,At).length&&(this.allowLoose&&n&&d(this,zt)+r<=d(this,At).length?s=r:O(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:pt(d(this,At)),length:d(this,At).length,offset:d(this,zt)+s})),d(this,At).slice(d(this,zt),d(this,zt)+s)};let hp=wm;function Vy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function $b(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ah(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Hb(t,e){$b(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F_=t=>t instanceof Uint8Array,M_=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ff=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Fr=(t,e)=>t<<32-e|t>>>e,j_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!j_)throw new Error("Non little-endian hardware is not supported");function z_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Jg(t){if(typeof t=="string"&&(t=z_(t)),!F_(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let Gb=class{clone(){return this._cloneInto()}};function qg(t){const e=n=>t().update(Jg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $_(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}let Vb=class extends Gb{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ff(this.buffer)}update(e){ah(this);const{view:r,buffer:n,blockLen:s}=this;e=Jg(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=Ff(e);for(;s<=i-o;o+=s)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ah(this),Hb(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let h=o;h<s;h++)r[h]=0;$_(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Ff(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const H_=(t,e,r)=>t&e^~t&r,G_=(t,e,r)=>t&e^t&r^e&r,V_=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$n=new Uint32Array(64);let K_=class extends Vb{constructor(){super(64,32,8,!1),this.A=zn[0]|0,this.B=zn[1]|0,this.C=zn[2]|0,this.D=zn[3]|0,this.E=zn[4]|0,this.F=zn[5]|0,this.G=zn[6]|0,this.H=zn[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:l}=this;return[e,r,n,s,i,o,a,l]}set(e,r,n,s,i,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)$n[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=$n[h-15],p=$n[h-2],v=Fr(f,7)^Fr(f,18)^f>>>3,y=Fr(p,17)^Fr(p,19)^p>>>10;$n[h]=y+$n[h-7]+v+$n[h-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const f=Fr(a,6)^Fr(a,11)^Fr(a,25),p=c+f+H_(a,l,u)+V_[h]+$n[h]|0,y=(Fr(n,2)^Fr(n,13)^Fr(n,22))+G_(n,s,i)|0;c=u,u=l,l=a,a=o+p|0,o=i,i=s,s=n,n=p+y|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,s,i,o,a,l,u,c)}roundClean(){$n.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Q_=qg(()=>new K_),rc=BigInt(2**32-1),dp=BigInt(32);function Kb(t,e=!1){return e?{h:Number(t&rc),l:Number(t>>dp&rc)}:{h:Number(t>>dp&rc)|0,l:Number(t&rc)|0}}function Qb(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=Kb(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const W_=(t,e)=>BigInt(t>>>0)<<dp|BigInt(e>>>0),J_=(t,e,r)=>t>>>r,q_=(t,e,r)=>t<<32-r|e>>>r,Y_=(t,e,r)=>t>>>r|e<<32-r,Z_=(t,e,r)=>t<<32-r|e>>>r,X_=(t,e,r)=>t<<64-r|e>>>r-32,eS=(t,e,r)=>t>>>r-32|e<<64-r,tS=(t,e)=>e,rS=(t,e)=>t,Wb=(t,e,r)=>t<<r|e>>>32-r,Jb=(t,e,r)=>e<<r|t>>>32-r,qb=(t,e,r)=>e<<r-32|t>>>64-r,Yb=(t,e,r)=>t<<r-32|e>>>64-r;function nS(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const sS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),iS=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,oS=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),aS=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,lS=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),uS=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Z={fromBig:Kb,split:Qb,toBig:W_,shrSH:J_,shrSL:q_,rotrSH:Y_,rotrSL:Z_,rotrBH:X_,rotrBL:eS,rotr32H:tS,rotr32L:rS,rotlSH:Wb,rotlSL:Jb,rotlBH:qb,rotlBL:Yb,add:nS,add3L:sS,add3H:iS,add4L:oS,add4H:aS,add5H:uS,add5L:lS},[cS,hS]=Z.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hn=new Uint32Array(80),Gn=new Uint32Array(80);class fS extends Vb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:f,Gh:p,Gl:v,Hh:y,Hl:A}=this;return[e,r,n,s,i,o,a,l,u,c,h,f,p,v,y,A]}set(e,r,n,s,i,o,a,l,u,c,h,f,p,v,y,A){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=v|0,this.Hh=y|0,this.Hl=A|0}process(e,r){for(let w=0;w<16;w++,r+=4)Hn[w]=e.getUint32(r),Gn[w]=e.getUint32(r+=4);for(let w=16;w<80;w++){const k=Hn[w-15]|0,C=Gn[w-15]|0,S=Z.rotrSH(k,C,1)^Z.rotrSH(k,C,8)^Z.shrSH(k,C,7),P=Z.rotrSL(k,C,1)^Z.rotrSL(k,C,8)^Z.shrSL(k,C,7),T=Hn[w-2]|0,H=Gn[w-2]|0,L=Z.rotrSH(T,H,19)^Z.rotrBH(T,H,61)^Z.shrSH(T,H,6),J=Z.rotrSL(T,H,19)^Z.rotrBL(T,H,61)^Z.shrSL(T,H,6),we=Z.add4L(P,J,Gn[w-7],Gn[w-16]),Ee=Z.add4H(we,S,L,Hn[w-7],Hn[w-16]);Hn[w]=Ee|0,Gn[w]=we|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:f,Fh:p,Fl:v,Gh:y,Gl:A,Hh:g,Hl:m}=this;for(let w=0;w<80;w++){const k=Z.rotrSH(h,f,14)^Z.rotrSH(h,f,18)^Z.rotrBH(h,f,41),C=Z.rotrSL(h,f,14)^Z.rotrSL(h,f,18)^Z.rotrBL(h,f,41),S=h&p^~h&y,P=f&v^~f&A,T=Z.add5L(m,C,P,hS[w],Gn[w]),H=Z.add5H(T,g,k,S,cS[w],Hn[w]),L=T|0,J=Z.rotrSH(n,s,28)^Z.rotrBH(n,s,34)^Z.rotrBH(n,s,39),we=Z.rotrSL(n,s,28)^Z.rotrBL(n,s,34)^Z.rotrBL(n,s,39),Ee=n&i^n&a^i&a,Rt=s&o^s&l^o&l;g=y|0,m=A|0,y=p|0,A=v|0,p=h|0,v=f|0,{h,l:f}=Z.add(u|0,c|0,H|0,L|0),u=a|0,c=l|0,a=i|0,l=o|0,i=n|0,o=s|0;const B=Z.add3L(L,we,Rt);n=Z.add3H(B,H,J,Ee),s=B|0}({h:n,l:s}=Z.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Z.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=Z.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:u,l:c}=Z.add(this.Dh|0,this.Dl|0,u|0,c|0),{h,l:f}=Z.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:v}=Z.add(this.Fh|0,this.Fl|0,p|0,v|0),{h:y,l:A}=Z.add(this.Gh|0,this.Gl|0,y|0,A|0),{h:g,l:m}=Z.add(this.Hh|0,this.Hl|0,g|0,m|0),this.set(n,s,i,o,a,l,u,c,h,f,p,v,y,A,g,m)}roundClean(){Hn.fill(0),Gn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dS=qg(()=>new fS);function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Ky=pS();Ky.crypto||Ky.msCrypto;function gS(t){switch(t){case"sha256":return Q_.create();case"sha512":return dS.create()}E(!1,"invalid hashing algorithm name","algorithm",t)}const[Zb,Xb,eA]=[[],[],[]],mS=BigInt(0),ol=BigInt(1),yS=BigInt(2),wS=BigInt(7),vS=BigInt(256),bS=BigInt(113);for(let t=0,e=ol,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Zb.push(2*(5*n+r)),Xb.push((t+1)*(t+2)/2%64);let s=mS;for(let i=0;i<7;i++)e=(e<<ol^(e>>wS)*bS)%vS,e&yS&&(s^=ol<<(ol<<BigInt(i))-ol);eA.push(s)}const[AS,ES]=Qb(eA,!0),Qy=(t,e,r)=>r>32?qb(t,e,r):Wb(t,e,r),Wy=(t,e,r)=>r>32?Yb(t,e,r):Jb(t,e,r);function kS(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,u=r[l],c=r[l+1],h=Qy(u,c,1)^r[a],f=Wy(u,c,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Xb[o],l=Qy(s,i,a),u=Wy(s,i,a),c=Zb[o];s=t[c],i=t[c+1],t[c]=l,t[c+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=AS[n],t[1]^=ES[n]}r.fill(0)}class Yg extends Gb{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vy(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=M_(this.state)}keccak(){kS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ah(this);const{blockLen:r,state:n}=this;e=Jg(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ah(this,!1),$b(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Hb(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Yg(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const _S=(t,e,r)=>qg(()=>new Yg(e,t,r)),SS=_S(1,136,256/8);let tA=!1;const rA=function(t){return SS(t)};let nA=rA;function Le(t){const e=X(t,"data");return U(nA(e))}Le._=rA;Le.lock=function(){tA=!0};Le.register=function(t){if(tA)throw new TypeError("keccak256 is locked");nA=t};Object.freeze(Le);const sA=function(t){return gS("sha256").update(t).digest()};let iA=sA,oA=!1;function Qa(t){const e=X(t,"data");return U(iA(e))}Qa._=sA;Qa.lock=function(){oA=!0};Qa.register=function(t){if(oA)throw new Error("sha256 is locked");iA=t};Object.freeze(Qa);Object.freeze(Qa);function Jy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function aA(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function xS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jy(t.outputLen),Jy(t.blockLen)}function lh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function CS(t,e){aA(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Mf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lA=t=>t instanceof Uint8Array,jf=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Mr=(t,e)=>t<<32-e|t>>>e,PS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!PS)throw new Error("Non little-endian hardware is not supported");function TS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zg(t){if(typeof t=="string"&&(t=TS(t)),!lA(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function OS(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!lA(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class uA{clone(){return this._cloneInto()}}function NS(t){const e=n=>t().update(Zg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function RS(t=32){if(Mf&&typeof Mf.getRandomValues=="function")return Mf.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function IS(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),l=n?4:0,u=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+u,a,n)}class BS extends uA{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jf(this.buffer)}update(e){lh(this);const{view:r,buffer:n,blockLen:s}=this;e=Zg(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=jf(e);for(;s<=i-o;o+=s)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lh(this),CS(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let h=o;h<s;h++)r[h]=0;IS(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=jf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)a.setUint32(4*h,c[h],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const US=(t,e,r)=>t&e^~t&r,LS=(t,e,r)=>t&e^t&r^e&r,DS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kn=new Uint32Array(64);class FS extends BS{constructor(){super(64,32,8,!1),this.A=Vn[0]|0,this.B=Vn[1]|0,this.C=Vn[2]|0,this.D=Vn[3]|0,this.E=Vn[4]|0,this.F=Vn[5]|0,this.G=Vn[6]|0,this.H=Vn[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:l}=this;return[e,r,n,s,i,o,a,l]}set(e,r,n,s,i,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)Kn[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=Kn[h-15],p=Kn[h-2],v=Mr(f,7)^Mr(f,18)^f>>>3,y=Mr(p,17)^Mr(p,19)^p>>>10;Kn[h]=y+Kn[h-7]+v+Kn[h-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:l,G:u,H:c}=this;for(let h=0;h<64;h++){const f=Mr(a,6)^Mr(a,11)^Mr(a,25),p=c+f+US(a,l,u)+DS[h]+Kn[h]|0,y=(Mr(n,2)^Mr(n,13)^Mr(n,22))+LS(n,s,i)|0;c=u,u=l,l=a,a=o+p|0,o=i,i=s,s=n,n=p+y|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,s,i,o,a,l,u,c)}roundClean(){Kn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const MS=NS(()=>new FS);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cA=BigInt(0),Qh=BigInt(1),jS=BigInt(2),Wh=t=>t instanceof Uint8Array,zS=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fa(t){if(!Wh(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zS[t[r]];return e}function hA(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Xg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ma(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Ri(t){return Xg(Fa(t))}function em(t){if(!Wh(t))throw new Error("Uint8Array expected");return Xg(Fa(Uint8Array.from(t).reverse()))}function ja(t,e){return Ma(t.toString(16).padStart(e*2,"0"))}function tm(t,e){return ja(t,e).reverse()}function $S(t){return Ma(hA(t))}function wr(t,e,r){let n;if(typeof e=="string")try{n=Ma(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Wh(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function Wl(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!Wh(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function HS(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function GS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function VS(t){let e;for(e=0;t>cA;t>>=Qh,e+=1);return e}function KS(t,e){return t>>BigInt(e)&Qh}const QS=(t,e,r)=>t|(r?Qh:cA)<<BigInt(e),rm=t=>(jS<<BigInt(t-1))-Qh,zf=t=>new Uint8Array(t),qy=t=>Uint8Array.from(t);function fA(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=zf(t),s=zf(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...h)=>r(s,n,...h),l=(h=zf())=>{s=a(qy([0]),h),n=a(),h.length!==0&&(s=a(qy([1]),h),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){n=a();const p=n.slice();f.push(p),h+=n.length}return Wl(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(u()));)l();return o(),p}}const WS={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Nu(t,e,r={}){const n=(s,i,o)=>{const a=WS[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const JS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:KS,bitLen:VS,bitMask:rm,bitSet:QS,bytesToHex:Fa,bytesToNumberBE:Ri,bytesToNumberLE:em,concatBytes:Wl,createHmacDrbg:fA,ensureBytes:wr,equalBytes:HS,hexToBytes:Ma,hexToNumber:Xg,numberToBytesBE:ja,numberToBytesLE:tm,numberToHexUnpadded:hA,numberToVarBytesBE:$S,utf8ToBytes:GS,validateObject:Nu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ge=BigInt(0),Ie=BigInt(1),Ys=BigInt(2),qS=BigInt(3),pp=BigInt(4),Yy=BigInt(5),Zy=BigInt(8);BigInt(9);BigInt(16);function kt(t,e){const r=t%e;return r>=Ge?r:e+r}function YS(t,e,r){if(r<=Ge||e<Ge)throw new Error("Expected power/modulo > 0");if(r===Ie)return Ge;let n=Ie;for(;e>Ge;)e&Ie&&(n=n*t%r),t=t*t%r,e>>=Ie;return n}function Zt(t,e,r){let n=t;for(;e-- >Ge;)n*=n,n%=r;return n}function gp(t,e){if(t===Ge||e<=Ge)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=kt(t,e),n=e,s=Ge,i=Ie;for(;r!==Ge;){const a=n/r,l=n%r,u=s-i*a;n=r,r=l,s=i,i=u}if(n!==Ie)throw new Error("invert: does not exist");return kt(s,e)}function ZS(t){const e=(t-Ie)/Ys;let r,n,s;for(r=t-Ie,n=0;r%Ys===Ge;r/=Ys,n++);for(s=Ys;s<t&&YS(s,e,t)!==t-Ie;s++);if(n===1){const o=(t+Ie)/pp;return function(l,u){const c=l.pow(u,o);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const i=(r+Ie)/Ys;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,c=a.pow(a.mul(a.ONE,s),r),h=a.pow(l,i),f=a.pow(l,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(f);p<u&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const v=a.pow(c,Ie<<BigInt(u-p-1));c=a.sqr(v),h=a.mul(h,v),f=a.mul(f,c),u=p}return h}}function XS(t){if(t%pp===qS){const e=(t+Ie)/pp;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%Zy===Yy){const e=(t-Yy)/Zy;return function(n,s){const i=n.mul(s,Ys),o=n.pow(i,e),a=n.mul(s,o),l=n.mul(n.mul(a,Ys),o),u=n.mul(a,n.sub(l,n.ONE));if(!n.eql(n.sqr(u),s))throw new Error("Cannot find square root");return u}}return ZS(t)}const ex=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tx(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ex.reduce((n,s)=>(n[s]="function",n),e);return Nu(t,r)}function rx(t,e,r){if(r<Ge)throw new Error("Expected power > 0");if(r===Ge)return t.ONE;if(r===Ie)return e;let n=t.ONE,s=e;for(;r>Ge;)r&Ie&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ie;return n}function nx(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function dA(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function sx(t,e,r=!1,n={}){if(t<=Ge)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=dA(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=XS(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:rm(s),ZERO:Ge,ONE:Ie,create:l=>kt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ge<=l&&l<t},is0:l=>l===Ge,isOdd:l=>(l&Ie)===Ie,neg:l=>kt(-l,t),eql:(l,u)=>l===u,sqr:l=>kt(l*l,t),add:(l,u)=>kt(l+u,t),sub:(l,u)=>kt(l-u,t),mul:(l,u)=>kt(l*u,t),pow:(l,u)=>rx(a,l,u),div:(l,u)=>kt(l*gp(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>gp(l,t),sqrt:n.sqrt||(l=>o(a,l)),invertBatch:l=>nx(a,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>r?tm(l,i):ja(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return r?em(l):Ri(l)}});return Object.freeze(a)}function pA(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function gA(t){const e=pA(t);return e+Math.ceil(e/2)}function ix(t,e,r=!1){const n=t.length,s=pA(e),i=gA(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?Ri(t):em(t),a=kt(o,e-Ie)+Ie;return r?tm(a,s):ja(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ox=BigInt(0),$f=BigInt(1);function ax(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>ox;)i&$f&&(o=o.add(a)),a=a.double(),i>>=$f;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=n(i),l=[];let u=s,c=u;for(let h=0;h<o;h++){c=u,l.push(c);for(let f=1;f<a;f++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(s,i,o){const{windows:a,windowSize:l}=n(s);let u=t.ZERO,c=t.BASE;const h=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let v=0;v<a;v++){const y=v*l;let A=Number(o&h);o>>=p,A>l&&(A-=f,o+=$f);const g=y,m=y+Math.abs(A)-1,w=v%2!==0,k=A<0;A===0?c=c.add(r(w,i[g])):u=u.add(r(k,i[m]))}return{p:u,f:c}},wNAFCached(s,i,o,a){const l=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,l),l!==1&&i.set(s,a(u))),this.wNAF(l,u,o)}}}function mA(t){return tx(t.Fp),Nu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dA(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lx(t){const e=mA(t);Nu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:ux,hexToBytes:cx}=JS,ai={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ai;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ux(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=ai,r=typeof t=="string"?cx(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ai._parseInt(r.subarray(2)),{d:o,l:a}=ai._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),l=r(o);return`30${r(o+i+4)}02${l}${s}02${a}${n}`}},kn=BigInt(0),or=BigInt(1);BigInt(2);const Xy=BigInt(3);BigInt(4);function hx(t){const e=lx(t),{Fp:r}=e,n=e.toBytes||((v,y,A)=>{const g=y.toAffine();return Wl(Uint8Array.from([4]),r.toBytes(g.x),r.toBytes(g.y))}),s=e.fromBytes||(v=>{const y=v.subarray(1),A=r.fromBytes(y.subarray(0,r.BYTES)),g=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:A,y:g}});function i(v){const{a:y,b:A}=e,g=r.sqr(v),m=r.mul(g,v);return r.add(r.add(m,r.mul(v,y)),A)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(v){return typeof v=="bigint"&&kn<v&&v<e.n}function a(v){if(!o(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(v){const{allowedPrivateKeyLengths:y,nByteLength:A,wrapPrivateKey:g,n:m}=e;if(y&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Fa(v)),typeof v!="string"||!y.includes(v.length))throw new Error("Invalid key");v=v.padStart(A*2,"0")}let w;try{w=typeof v=="bigint"?v:Ri(wr("private key",v,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof v}`)}return g&&(w=kt(w,m)),a(w),w}const u=new Map;function c(v){if(!(v instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(y,A,g){if(this.px=y,this.py=A,this.pz=g,y==null||!r.isValid(y))throw new Error("x required");if(A==null||!r.isValid(A))throw new Error("y required");if(g==null||!r.isValid(g))throw new Error("z required")}static fromAffine(y){const{x:A,y:g}=y||{};if(!y||!r.isValid(A)||!r.isValid(g))throw new Error("invalid affine point");if(y instanceof h)throw new Error("projective point not allowed");const m=w=>r.eql(w,r.ZERO);return m(A)&&m(g)?h.ZERO:new h(A,g,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const A=r.invertBatch(y.map(g=>g.pz));return y.map((g,m)=>g.toAffine(A[m])).map(h.fromAffine)}static fromHex(y){const A=h.fromAffine(s(wr("pointHex",y)));return A.assertValidity(),A}static fromPrivateKey(y){return h.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:A}=this.toAffine();if(!r.isValid(y)||!r.isValid(A))throw new Error("bad point: x or y not FE");const g=r.sqr(A),m=i(y);if(!r.eql(g,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:A,py:g,pz:m}=this,{px:w,py:k,pz:C}=y,S=r.eql(r.mul(A,C),r.mul(w,m)),P=r.eql(r.mul(g,C),r.mul(k,m));return S&&P}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:y,b:A}=e,g=r.mul(A,Xy),{px:m,py:w,pz:k}=this;let C=r.ZERO,S=r.ZERO,P=r.ZERO,T=r.mul(m,m),H=r.mul(w,w),L=r.mul(k,k),J=r.mul(m,w);return J=r.add(J,J),P=r.mul(m,k),P=r.add(P,P),C=r.mul(y,P),S=r.mul(g,L),S=r.add(C,S),C=r.sub(H,S),S=r.add(H,S),S=r.mul(C,S),C=r.mul(J,C),P=r.mul(g,P),L=r.mul(y,L),J=r.sub(T,L),J=r.mul(y,J),J=r.add(J,P),P=r.add(T,T),T=r.add(P,T),T=r.add(T,L),T=r.mul(T,J),S=r.add(S,T),L=r.mul(w,k),L=r.add(L,L),T=r.mul(L,J),C=r.sub(C,T),P=r.mul(L,H),P=r.add(P,P),P=r.add(P,P),new h(C,S,P)}add(y){c(y);const{px:A,py:g,pz:m}=this,{px:w,py:k,pz:C}=y;let S=r.ZERO,P=r.ZERO,T=r.ZERO;const H=e.a,L=r.mul(e.b,Xy);let J=r.mul(A,w),we=r.mul(g,k),Ee=r.mul(m,C),Rt=r.add(A,g),B=r.add(w,k);Rt=r.mul(Rt,B),B=r.add(J,we),Rt=r.sub(Rt,B),B=r.add(A,m);let $=r.add(w,C);return B=r.mul(B,$),$=r.add(J,Ee),B=r.sub(B,$),$=r.add(g,m),S=r.add(k,C),$=r.mul($,S),S=r.add(we,Ee),$=r.sub($,S),T=r.mul(H,B),S=r.mul(L,Ee),T=r.add(S,T),S=r.sub(we,T),T=r.add(we,T),P=r.mul(S,T),we=r.add(J,J),we=r.add(we,J),Ee=r.mul(H,Ee),B=r.mul(L,B),we=r.add(we,Ee),Ee=r.sub(J,Ee),Ee=r.mul(H,Ee),B=r.add(B,Ee),J=r.mul(we,B),P=r.add(P,J),J=r.mul($,B),S=r.mul(Rt,S),S=r.sub(S,J),J=r.mul(Rt,we),T=r.mul($,T),T=r.add(T,J),new h(S,P,T)}subtract(y){return this.add(y.negate())}is0(){return this.equals(h.ZERO)}wNAF(y){return p.wNAFCached(this,u,y,A=>{const g=r.invertBatch(A.map(m=>m.pz));return A.map((m,w)=>m.toAffine(g[w])).map(h.fromAffine)})}multiplyUnsafe(y){const A=h.ZERO;if(y===kn)return A;if(a(y),y===or)return this;const{endo:g}=e;if(!g)return p.unsafeLadder(this,y);let{k1neg:m,k1:w,k2neg:k,k2:C}=g.splitScalar(y),S=A,P=A,T=this;for(;w>kn||C>kn;)w&or&&(S=S.add(T)),C&or&&(P=P.add(T)),T=T.double(),w>>=or,C>>=or;return m&&(S=S.negate()),k&&(P=P.negate()),P=new h(r.mul(P.px,g.beta),P.py,P.pz),S.add(P)}multiply(y){a(y);let A=y,g,m;const{endo:w}=e;if(w){const{k1neg:k,k1:C,k2neg:S,k2:P}=w.splitScalar(A);let{p:T,f:H}=this.wNAF(C),{p:L,f:J}=this.wNAF(P);T=p.constTimeNegate(k,T),L=p.constTimeNegate(S,L),L=new h(r.mul(L.px,w.beta),L.py,L.pz),g=T.add(L),m=H.add(J)}else{const{p:k,f:C}=this.wNAF(A);g=k,m=C}return h.normalizeZ([g,m])[0]}multiplyAndAddUnsafe(y,A,g){const m=h.BASE,w=(C,S)=>S===kn||S===or||!C.equals(m)?C.multiplyUnsafe(S):C.multiply(S),k=w(this,A).add(w(y,g));return k.is0()?void 0:k}toAffine(y){const{px:A,py:g,pz:m}=this,w=this.is0();y==null&&(y=w?r.ONE:r.inv(m));const k=r.mul(A,y),C=r.mul(g,y),S=r.mul(m,y);if(w)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:k,y:C}}isTorsionFree(){const{h:y,isTorsionFree:A}=e;if(y===or)return!0;if(A)return A(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:A}=e;return y===or?this:A?A(h,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),n(h,this,y)}toHex(y=!0){return Fa(this.toRawBytes(y))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,p=ax(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function fx(t){const e=mA(t);return Nu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function dx(t){const e=fx(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(B){return kn<B&&B<r.ORDER}function a(B){return kt(B,n)}function l(B){return gp(B,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:h,isWithinCurveOrder:f}=hx({...e,toBytes(B,$,q){const I=$.toAffine(),D=r.toBytes(I.x),V=Wl;return q?V(Uint8Array.from([$.hasEvenY()?2:3]),D):V(Uint8Array.from([4]),D,r.toBytes(I.y))},fromBytes(B){const $=B.length,q=B[0],I=B.subarray(1);if($===s&&(q===2||q===3)){const D=Ri(I);if(!o(D))throw new Error("Point is not on curve");const V=h(D);let re=r.sqrt(V);const oe=(re&or)===or;return(q&1)===1!==oe&&(re=r.neg(re)),{x:D,y:re}}else if($===i&&q===4){const D=r.fromBytes(I.subarray(0,r.BYTES)),V=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:D,y:V}}else throw new Error(`Point of length ${$} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=B=>Fa(ja(B,e.nByteLength));function v(B){const $=n>>or;return B>$}function y(B){return v(B)?a(-B):B}const A=(B,$,q)=>Ri(B.slice($,q));class g{constructor($,q,I){this.r=$,this.s=q,this.recovery=I,this.assertValidity()}static fromCompact($){const q=e.nByteLength;return $=wr("compactSignature",$,q*2),new g(A($,0,q),A($,q,2*q))}static fromDER($){const{r:q,s:I}=ai.toSig(wr("DER",$));return new g(q,I)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($){return new g(this.r,this.s,$)}recoverPublicKey($){const{r:q,s:I,recovery:D}=this,V=P(wr("msgHash",$));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const re=D===2||D===3?q+e.n:q;if(re>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const oe=D&1?"03":"02",It=u.fromHex(oe+p(re)),tt=l(re),Lr=a(-V*tt),Bt=a(I*tt),Ut=u.BASE.multiplyAndAddUnsafe(It,Lr,Bt);if(!Ut)throw new Error("point at infinify");return Ut.assertValidity(),Ut}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ma(this.toDERHex())}toDERHex(){return ai.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ma(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const m={isValidPrivateKey(B){try{return c(B),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const B=gA(e.n);return ix(e.randomBytes(B),e.n)},precompute(B=8,$=u.BASE){return $._setWindowSize(B),$.multiply(BigInt(3)),$}};function w(B,$=!0){return u.fromPrivateKey(B).toRawBytes($)}function k(B){const $=B instanceof Uint8Array,q=typeof B=="string",I=($||q)&&B.length;return $?I===s||I===i:q?I===2*s||I===2*i:B instanceof u}function C(B,$,q=!0){if(k(B))throw new Error("first arg must be private key");if(!k($))throw new Error("second arg must be public key");return u.fromHex($).multiply(c(B)).toRawBytes(q)}const S=e.bits2int||function(B){const $=Ri(B),q=B.length*8-e.nBitLength;return q>0?$>>BigInt(q):$},P=e.bits2int_modN||function(B){return a(S(B))},T=rm(e.nBitLength);function H(B){if(typeof B!="bigint")throw new Error("bigint expected");if(!(kn<=B&&B<T))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ja(B,e.nByteLength)}function L(B,$,q=J){if(["recovered","canonical"].some(Ms=>Ms in q))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:D}=e;let{lowS:V,prehash:re,extraEntropy:oe}=q;V==null&&(V=!0),B=wr("msgHash",B),re&&(B=wr("prehashed msgHash",I(B)));const It=P(B),tt=c($),Lr=[H(tt),H(It)];if(oe!=null){const Ms=oe===!0?D(r.BYTES):oe;Lr.push(wr("extraEntropy",Ms))}const Bt=Wl(...Lr),Ut=It;function lf(Ms){const Wi=S(Ms);if(!f(Wi))return;const bm=l(Wi),Ji=u.BASE.multiply(Wi).toAffine(),dr=a(Ji.x);if(dr===kn)return;const qi=a(bm*a(Ut+dr*tt));if(qi===kn)return;let Am=(Ji.x===dr?0:2)|Number(Ji.y&or),Em=qi;return V&&v(qi)&&(Em=y(qi),Am^=1),new g(dr,Em,Am)}return{seed:Bt,k2sig:lf}}const J={lowS:e.lowS,prehash:!1},we={lowS:e.lowS,prehash:!1};function Ee(B,$,q=J){const{seed:I,k2sig:D}=L(B,$,q),V=e;return fA(V.hash.outputLen,V.nByteLength,V.hmac)(I,D)}u.BASE._setWindowSize(8);function Rt(B,$,q,I=we){var Ji;const D=B;if($=wr("msgHash",$),q=wr("publicKey",q),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:V,prehash:re}=I;let oe,It;try{if(typeof D=="string"||D instanceof Uint8Array)try{oe=g.fromDER(D)}catch(dr){if(!(dr instanceof ai.Err))throw dr;oe=g.fromCompact(D)}else if(typeof D=="object"&&typeof D.r=="bigint"&&typeof D.s=="bigint"){const{r:dr,s:qi}=D;oe=new g(dr,qi)}else throw new Error("PARSE");It=u.fromHex(q)}catch(dr){if(dr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(V&&oe.hasHighS())return!1;re&&($=e.hash($));const{r:tt,s:Lr}=oe,Bt=P($),Ut=l(Lr),lf=a(Bt*Ut),Ms=a(tt*Ut),Wi=(Ji=u.BASE.multiplyAndAddUnsafe(It,lf,Ms))==null?void 0:Ji.toAffine();return Wi?a(Wi.x)===tt:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:Ee,verify:Rt,ProjectivePoint:u,Signature:g,utils:m}}class yA extends uA{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,xS(e);const n=Zg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return lh(this),this.iHash.update(e),this}digestInto(e){lh(this),aA(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wA=(t,e,r)=>new yA(t,e).update(r).digest();wA.create=(t,e)=>new yA(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function px(t){return{hash:t,hmac:(e,...r)=>wA(t,e,OS(...r)),randomBytes:RS}}function gx(t,e){const r=n=>dx({...t,...px(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vA=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mx=BigInt(1),mp=BigInt(2),t0=(t,e)=>(t+e/mp)/e;function yx(t){const e=vA,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,h=Zt(c,r,e)*c%e,f=Zt(h,r,e)*c%e,p=Zt(f,mp,e)*u%e,v=Zt(p,s,e)*p%e,y=Zt(v,i,e)*v%e,A=Zt(y,a,e)*y%e,g=Zt(A,l,e)*A%e,m=Zt(g,a,e)*y%e,w=Zt(m,r,e)*c%e,k=Zt(w,o,e)*v%e,C=Zt(k,n,e)*u%e,S=Zt(C,mp,e);if(!yp.eql(yp.sqr(S),t))throw new Error("Cannot find square root");return S}const yp=sx(vA,void 0,void 0,{sqrt:yx}),Qn=gx({a:BigInt(0),b:BigInt(7),Fp:yp,n:e0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=e0,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mx*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=t0(i*t,e),l=t0(-n*t,e);let u=kt(t-a*r-l*s,e),c=kt(-a*n-l*i,e);const h=u>o,f=c>o;if(h&&(u=e-u),f&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:u,k2neg:f,k2:c}}}},MS);BigInt(0);Qn.ProjectivePoint;const Jl="0x0000000000000000000000000000000000000000",r0="0x0000000000000000000000000000000000000000000000000000000000000000",n0=BigInt(0),s0=BigInt(1),wp=BigInt(2),i0=BigInt(27),o0=BigInt(28),nc=BigInt(35),bA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wx=bA/wp,vx=Symbol.for("nodejs.util.inspect.custom"),zs={};function Hf(t){return Un(De(t),32)}var Yo,Hr,Zo,ss;const Xt=class Xt{constructor(e,r,n,s){x(this,Yo);x(this,Hr);x(this,Zo);x(this,ss);Pu(e,zs,"Signature"),b(this,Yo,r),b(this,Hr,n),b(this,Zo,s),b(this,ss,null)}get r(){return d(this,Yo)}set r(e){E(Fo(e)===32,"invalid r","value",e),b(this,Yo,U(e))}get s(){return E(parseInt(d(this,Hr).substring(0,3))<8,"non-canonical s; use ._s","s",d(this,Hr)),d(this,Hr)}set s(e){E(Fo(e)===32,"invalid s","value",e),b(this,Hr,U(e))}get _s(){return d(this,Hr)}isValid(){return BigInt(d(this,Hr))<=wx}get v(){return d(this,Zo)}set v(e){const r=Y(e,"value");E(r===27||r===28,"invalid v","v",e),b(this,Zo,r)}get networkV(){return d(this,ss)}get legacyChainId(){const e=this.networkV;return e==null?null:Xt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=X(this.s);return this.yParity&&(e[0]|=128),U(e)}get compactSerialized(){return Ae([this.r,this.yParityAndS])}get serialized(){return Ae([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=bA-BigInt(this._s),r=55-this.v,n=new Xt(zs,this.r,Hf(e),r);return this.networkV&&b(n,ss,this.networkV),n}clone(){const e=new Xt(zs,this.r,this._s,this.v);return this.networkV&&b(e,ss,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[vx](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const r=z(e,"v");return r==i0||r==o0?n0:(E(r>=nc,"invalid EIP-155 v","v",e),(r-nc)/wp)}static getChainIdV(e,r){return z(e)*wp+BigInt(35+r-27)}static getNormalizedV(e){const r=z(e);return r===n0||r===i0?27:r===s0||r===o0?28:(E(r>=nc,"invalid v","v",e),r&s0?27:28)}static from(e){function r(u,c){E(u,c,"signature",e)}if(e==null)return new Xt(zs,r0,r0,27);if(typeof e=="string"){const u=X(e,"signature");if(u.length===64){const c=U(u.slice(0,32)),h=u.slice(32,64),f=h[0]&128?28:27;return h[0]&=127,new Xt(zs,c,U(h),f)}if(u.length===65){const c=U(u.slice(0,32)),h=U(u.slice(32,64)),f=Xt.getNormalizedV(u[64]);return new Xt(zs,c,h,f)}r(!1,"invalid raw signature length")}if(e instanceof Xt)return e.clone();const n=e.r;r(n!=null,"missing r");const s=Hf(n),i=function(u,c){if(u!=null)return Hf(u);if(c!=null){r(ge(c,32),"invalid yParityAndS");const h=X(c);return h[0]&=127,U(h)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(u,c,h){if(u!=null){const f=z(u);return{networkV:f>=nc?f:void 0,v:Xt.getNormalizedV(f)}}if(c!=null)return r(ge(c,32),"invalid yParityAndS"),{v:X(c)[0]&128?28:27};if(h!=null){switch(Y(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Xt(zs,s,i,a);return o&&b(l,ss,o),r(e.yParity==null||Y(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};Yo=new WeakMap,Hr=new WeakMap,Zo=new WeakMap,ss=new WeakMap;let Ot=Xt;var gn;const ei=class ei{constructor(e){x(this,gn);E(Fo(e)===32,"invalid private key","privateKey","[REDACTED]"),b(this,gn,U(e))}get privateKey(){return d(this,gn)}get publicKey(){return ei.computePublicKey(d(this,gn))}get compressedPublicKey(){return ei.computePublicKey(d(this,gn),!0)}sign(e){E(Fo(e)===32,"invalid digest length","digest",e);const r=Qn.sign(pt(e),pt(d(this,gn)),{lowS:!0});return Ot.from({r:Rs(r.r,32),s:Rs(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=ei.computePublicKey(e);return U(Qn.getSharedSecret(pt(d(this,gn)),X(r),!1))}static computePublicKey(e,r){let n=X(e,"key");if(n.length===32){const i=Qn.getPublicKey(n,!!r);return U(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Qn.ProjectivePoint.fromHex(n);return U(s.toRawBytes(r))}static recoverPublicKey(e,r){E(Fo(e)===32,"invalid digest length","digest",e);const n=Ot.from(r);let s=Qn.Signature.fromCompact(pt(Ae([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(pt(e));return E(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=Qn.ProjectivePoint.fromHex(ei.computePublicKey(e).substring(2)),i=Qn.ProjectivePoint.fromHex(ei.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};gn=new WeakMap;let ql=ei;const bx=BigInt(0),Ax=BigInt(36);function a0(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=X(Le(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const nm={};for(let t=0;t<10;t++)nm[String(t)]=String(t);for(let t=0;t<26;t++)nm[String.fromCharCode(65+t)]=String(10+t);const l0=15;function Ex(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>nm[n]).join("");for(;e.length>=l0;){let n=e.substring(0,l0);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const kx=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function _x(t){t=t.toLowerCase();let e=bx;for(let r=0;r<t.length;r++)e=e*Ax+kx[t[r]];return e}function ue(t){if(E(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=a0(t);return E(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){E(t.substring(2,4)===Ex(t),"bad icap checksum","address",t);let e=_x(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return a0("0x"+e)}E(!1,"invalid address","address",t)}function Sx(t){const e=ue(t.from);let n=z(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ue(Te(Le(Tn([e,n])),12))}function AA(t){return t&&typeof t.getAddress=="function"}async function Gf(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(O(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),E(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ue(r)}function mt(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ue(t):(O(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Gf(t,e.resolveName(t)));if(AA(t))return Gf(t,t.getAddress());if(t&&typeof t.then=="function")return Gf(t,t);E(!1,"unsupported addressable value","target",t)}const an={};function M(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new lt(an,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function ae(t,e){return new lt(an,`bytes${e||""}`,t,{size:e})}const u0=Symbol.for("_ethers_typed");var bi;const un=class un{constructor(e,r,n,s){_(this,"type");_(this,"value");x(this,bi);_(this,"_typedSymbol");s==null&&(s=null),Pu(an,e,"Typed"),K(this,{_typedSymbol:u0,type:r,value:n}),b(this,bi,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return d(this,bi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return d(this,bi)===!0?-1:d(this,bi)===!1?this.value.length:null}static from(e,r){return new un(an,e,r)}static uint8(e){return M(e,8)}static uint16(e){return M(e,16)}static uint24(e){return M(e,24)}static uint32(e){return M(e,32)}static uint40(e){return M(e,40)}static uint48(e){return M(e,48)}static uint56(e){return M(e,56)}static uint64(e){return M(e,64)}static uint72(e){return M(e,72)}static uint80(e){return M(e,80)}static uint88(e){return M(e,88)}static uint96(e){return M(e,96)}static uint104(e){return M(e,104)}static uint112(e){return M(e,112)}static uint120(e){return M(e,120)}static uint128(e){return M(e,128)}static uint136(e){return M(e,136)}static uint144(e){return M(e,144)}static uint152(e){return M(e,152)}static uint160(e){return M(e,160)}static uint168(e){return M(e,168)}static uint176(e){return M(e,176)}static uint184(e){return M(e,184)}static uint192(e){return M(e,192)}static uint200(e){return M(e,200)}static uint208(e){return M(e,208)}static uint216(e){return M(e,216)}static uint224(e){return M(e,224)}static uint232(e){return M(e,232)}static uint240(e){return M(e,240)}static uint248(e){return M(e,248)}static uint256(e){return M(e,256)}static uint(e){return M(e,256)}static int8(e){return M(e,-8)}static int16(e){return M(e,-16)}static int24(e){return M(e,-24)}static int32(e){return M(e,-32)}static int40(e){return M(e,-40)}static int48(e){return M(e,-48)}static int56(e){return M(e,-56)}static int64(e){return M(e,-64)}static int72(e){return M(e,-72)}static int80(e){return M(e,-80)}static int88(e){return M(e,-88)}static int96(e){return M(e,-96)}static int104(e){return M(e,-104)}static int112(e){return M(e,-112)}static int120(e){return M(e,-120)}static int128(e){return M(e,-128)}static int136(e){return M(e,-136)}static int144(e){return M(e,-144)}static int152(e){return M(e,-152)}static int160(e){return M(e,-160)}static int168(e){return M(e,-168)}static int176(e){return M(e,-176)}static int184(e){return M(e,-184)}static int192(e){return M(e,-192)}static int200(e){return M(e,-200)}static int208(e){return M(e,-208)}static int216(e){return M(e,-216)}static int224(e){return M(e,-224)}static int232(e){return M(e,-232)}static int240(e){return M(e,-240)}static int248(e){return M(e,-248)}static int256(e){return M(e,-256)}static int(e){return M(e,-256)}static bytes1(e){return ae(e,1)}static bytes2(e){return ae(e,2)}static bytes3(e){return ae(e,3)}static bytes4(e){return ae(e,4)}static bytes5(e){return ae(e,5)}static bytes6(e){return ae(e,6)}static bytes7(e){return ae(e,7)}static bytes8(e){return ae(e,8)}static bytes9(e){return ae(e,9)}static bytes10(e){return ae(e,10)}static bytes11(e){return ae(e,11)}static bytes12(e){return ae(e,12)}static bytes13(e){return ae(e,13)}static bytes14(e){return ae(e,14)}static bytes15(e){return ae(e,15)}static bytes16(e){return ae(e,16)}static bytes17(e){return ae(e,17)}static bytes18(e){return ae(e,18)}static bytes19(e){return ae(e,19)}static bytes20(e){return ae(e,20)}static bytes21(e){return ae(e,21)}static bytes22(e){return ae(e,22)}static bytes23(e){return ae(e,23)}static bytes24(e){return ae(e,24)}static bytes25(e){return ae(e,25)}static bytes26(e){return ae(e,26)}static bytes27(e){return ae(e,27)}static bytes28(e){return ae(e,28)}static bytes29(e){return ae(e,29)}static bytes30(e){return ae(e,30)}static bytes31(e){return ae(e,31)}static bytes32(e){return ae(e,32)}static address(e){return new un(an,"address",e)}static bool(e){return new un(an,"bool",!!e)}static bytes(e){return new un(an,"bytes",e)}static string(e){return new un(an,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new un(an,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===u0}static dereference(e,r){if(un.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};bi=new WeakMap;let lt=un;class xx extends Fn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=lt.dereference(r,"string");try{n=ue(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return ue(Rs(e.readValue(),20))}}class Cx extends Fn{constructor(r){super(r.name,r.type,"_",r.dynamic);_(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function EA(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(u=>{const c=u.localName;return O(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),O(!l[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),l[c]=!0,r[c]})}else E(!1,"invalid tuple value","tuple",r);E(e.length===n.length,"types/value length mismatch","tuple",r);let s=new cp,i=new cp,o=[];e.forEach((l,u)=>{let c=n[u];if(l.dynamic){let h=i.length;l.encode(i,c);let f=s.writeUpdatableValue();o.push(p=>{f(p+h)})}else l.encode(s,c)}),o.forEach(l=>{l(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function kA(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),l=s.subReader(a);try{o=i.decode(l)}catch(u){if(Ye(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Ye(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),Da.fromItems(r,n)}class Px extends Fn{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,s,o);_(this,"coder");_(this,"length");K(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=lt.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),Pb(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return EA(r,o,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),O(n*gt<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*gt,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Cx(this.coder));return kA(r,s)}}class Tx extends Fn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=lt.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class _A extends Fn{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=pt(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Ox extends _A{constructor(e){super("bytes",e)}decode(e){return U(super.decode(e))}}class Nx extends Fn{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);_(this,"size");K(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=pt(lt.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return U(r.readBytes(this.size))}}const Rx=new Uint8Array([]);class Ix extends Fn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(Rx)}decode(e){return e.readBytes(0),null}}const Bx=BigInt(0),Ux=BigInt(1),Lx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Dx extends Fn{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);_(this,"size");_(this,"signed");K(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=z(lt.dereference(n,this.type)),i=oi(Lx,gt*8);if(this.signed){let o=oi(i,this.size*8-1);(s>o||s<-(o+Ux))&&this._throwError("value out-of-bounds",n),s=Nb(s,8*gt)}else(s<Bx||s>oi(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=oi(r.readValue(),this.size*8);return this.signed&&(n=ih(n,this.size*8)),n}}class Fx extends _A{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Pn(lt.dereference(r,"string")))}decode(e){return oh(super.decode(e))}}class sc extends Fn{constructor(r,n){let s=!1;const i=[];r.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,s);_(this,"coders");K(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){const s=lt.dereference(n,"tuple");return EA(r,this.coders,s)}decode(r){return kA(r,this.coders)}}function Vf(t,e){return{address:ue(t),storageKeys:e.map((r,n)=>(E(ge(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Ki(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(E(r.length===2,"invalid slot set",`value[${n}]`,r),Vf(r[0],r[1])):(E(r!=null&&typeof r=="object","invalid address-slot set","value",t),Vf(r.address,r.storageKeys)));E(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return Vf(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function SA(t){return{address:ue(t.address),nonce:z(t.nonce!=null?t.nonce:0),chainId:z(t.chainId!=null?t.chainId:0),signature:Ot.from(t.signature)}}function Mx(t){let e;return typeof t=="string"?e=ql.computePublicKey(t,!1):e=t.publicKey,ue(Le("0x"+e.substring(4)).substring(26))}function jx(t,e){return Mx(ql.recoverPublicKey(t,e))}const He=BigInt(0),zx=BigInt(2),$x=BigInt(27),Hx=BigInt(28),Gx=BigInt(35),Vx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Kx=Symbol.for("nodejs.util.inspect.custom"),Kf=4096*32,Sc=128;function Qx(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return X(t.blobToKzgCommitment(U(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return X(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return X(t.blobToKZGCommitment(U(n)));E(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return X(t.computeBlobProof(U(n),U(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return X(t.computeBlobKZGProof(U(n),U(s)));E(!1,"unsupported KZG library","kzg",t)}}}function c0(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Qa(e).substring(4),"0x"+r}function Wa(t){return t==="0x"?null:ue(t)}function Jh(t,e){try{return Ki(t)}catch(r){E(!1,r.message,e,t)}}function Wx(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:Wa(s[1]),nonce:fe(s[2],"nonce"),chainId:fe(s[0],"chainId"),signature:Ot.from({yParity:Qi(s[3],"yParity"),r:Un(s[4],32),s:Un(s[5],32)})})}return r}catch(r){E(!1,r.message,e,t)}}function Qi(t,e){return t==="0x"?0:Y(t,e)}function fe(t,e){if(t==="0x")return He;const r=z(t,e);return E(r<=Vx,"value exceeds uint size",e,r),r}function se(t,e){const r=z(t,"value"),n=De(r);return E(n.length<=32,"value too large",`tx.${e}`,r),n}function qh(t){return Ki(t).map(e=>[e.address,e.storageKeys])}function Jx(t){return t.map(e=>[se(e.chainId,"chainId"),e.address,se(e.nonce,"nonce"),se(e.signature.yParity,"yParity"),De(e.signature.r),De(e.signature._s)])}function qx(t,e){E(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)E(ge(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function Yx(t){const e=Ou(t);E(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:Qi(e[0],"nonce"),gasPrice:fe(e[1],"gasPrice"),gasLimit:fe(e[2],"gasLimit"),to:Wa(e[3]),value:fe(e[4],"value"),data:U(e[5]),chainId:He};if(e.length===6)return r;const n=fe(e[6],"v"),s=fe(e[7],"r"),i=fe(e[8],"s");if(s===He&&i===He)r.chainId=n;else{let o=(n-Gx)/zx;o<He&&(o=He),r.chainId=o,E(o!==He||n===$x||n===Hx,"non-canonical legacy v","v",e[6]),r.signature=Ot.from({r:Un(e[7],32),s:Un(e[8],32),v:n})}return r}function Zx(t,e){const r=[se(t.nonce,"nonce"),se(t.gasPrice||0,"gasPrice"),se(t.gasLimit,"gasLimit"),t.to||"0x",se(t.value,"value"),t.data];let n=He;if(t.chainId!=He)n=z(t.chainId,"tx.chainId"),E(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==He&&(r.push(De(n)),r.push("0x"),r.push("0x")),Tn(r);let s=BigInt(27+e.yParity);return n!==He?s=Ot.getChainIdV(n,e.v):BigInt(e.v)!==s&&E(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(De(s)),r.push(De(e.r)),r.push(De(e._s)),Tn(r)}function Yh(t,e){let r;try{if(r=Qi(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{E(!1,"invalid yParity","yParity",e[0])}const n=Un(e[1],32),s=Un(e[2],32),i=Ot.from({r:n,s,yParity:r});t.signature=i}function Xx(t){const e=Ou(X(t).slice(1));E(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",U(t));const r={type:2,chainId:fe(e[0],"chainId"),nonce:Qi(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Wa(e[5]),value:fe(e[6],"value"),data:U(e[7]),accessList:Jh(e[8],"accessList")};return e.length===9||Yh(r,e.slice(9)),r}function eC(t,e){const r=[se(t.chainId,"chainId"),se(t.nonce,"nonce"),se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),se(t.maxFeePerGas||0,"maxFeePerGas"),se(t.gasLimit,"gasLimit"),t.to||"0x",se(t.value,"value"),t.data,qh(t.accessList||[])];return e&&(r.push(se(e.yParity,"yParity")),r.push(De(e.r)),r.push(De(e.s))),Ae(["0x02",Tn(r)])}function tC(t){const e=Ou(X(t).slice(1));E(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",U(t));const r={type:1,chainId:fe(e[0],"chainId"),nonce:Qi(e[1],"nonce"),gasPrice:fe(e[2],"gasPrice"),gasLimit:fe(e[3],"gasLimit"),to:Wa(e[4]),value:fe(e[5],"value"),data:U(e[6]),accessList:Jh(e[7],"accessList")};return e.length===8||Yh(r,e.slice(8)),r}function rC(t,e){const r=[se(t.chainId,"chainId"),se(t.nonce,"nonce"),se(t.gasPrice||0,"gasPrice"),se(t.gasLimit,"gasLimit"),t.to||"0x",se(t.value,"value"),t.data,qh(t.accessList||[])];return e&&(r.push(se(e.yParity,"recoveryParam")),r.push(De(e.r)),r.push(De(e.s))),Ae(["0x01",Tn(r)])}function nC(t){let e=Ou(X(t).slice(1)),r="3",n=null,s=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const o=e[1],a=e[2],l=e[3];E(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),E(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),E(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),E(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),E(o.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<e[1].length;u++)s.push({data:o[u],commitment:a[u],proof:l[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=Y(e[1]);const o=e[2],a=e[3],l=e[4];E(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),E(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),E(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),E(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),E(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),E(o.length*Sc===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let u=0;u<o.length;u++){const c=[];for(let h=0;h<Sc;h++)c.push(l[u*Sc+h]);s.push({data:o[u],commitment:a[u],proof:Ae(c)})}e=e[0]}E(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",U(t));const i={type:3,chainId:fe(e[0],"chainId"),nonce:Qi(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Wa(e[5]),value:fe(e[6],"value"),data:U(e[7]),accessList:Jh(e[8],"accessList"),maxFeePerBlobGas:fe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};s&&(i.blobs=s),E(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),E(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let o=0;o<i.blobVersionedHashes.length;o++)E(ge(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",t);return e.length===11||Yh(i,e.slice(11)),i}function sC(t,e,r){const n=[se(t.chainId,"chainId"),se(t.nonce,"nonce"),se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),se(t.maxFeePerGas||0,"maxFeePerGas"),se(t.gasLimit,"gasLimit"),t.to||Jl,se(t.value,"value"),t.data,qh(t.accessList||[]),se(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),qx(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(se(e.yParity,"yParity")),n.push(De(e.r)),n.push(De(e.s)),r)){if(t.blobWrapperVersion!=null){const s=De(t.blobWrapperVersion),i=[];for(const{proof:o}of r){const a=X(o),l=a.length/Sc;for(let u=0;u<a.length;u+=l)i.push(a.subarray(u,u+l))}return Ae(["0x03",Tn([n,s,r.map(o=>o.data),r.map(o=>o.commitment),i])])}return Ae(["0x03",Tn([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])])}return Ae(["0x03",Tn(n)])}function iC(t){const e=Ou(X(t).slice(1));E(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",U(t));const r={type:4,chainId:fe(e[0],"chainId"),nonce:Qi(e[1],"nonce"),maxPriorityFeePerGas:fe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:fe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:fe(e[4],"gasLimit"),to:Wa(e[5]),value:fe(e[6],"value"),data:U(e[7]),accessList:Jh(e[8],"accessList"),authorizationList:Wx(e[9],"authorizationList")};return e.length===10||Yh(r,e.slice(10)),r}function oC(t,e){const r=[se(t.chainId,"chainId"),se(t.nonce,"nonce"),se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),se(t.maxFeePerGas||0,"maxFeePerGas"),se(t.gasLimit,"gasLimit"),t.to||"0x",se(t.value,"value"),t.data,qh(t.accessList||[]),Jx(t.authorizationList||[])];return e&&(r.push(se(e.yParity,"yParity")),r.push(De(e.r)),r.push(De(e.s))),Ae(["0x04",Tn(r)])}var kr,Xo,ea,ta,ra,na,sa,ia,oa,aa,la,ua,Ai,is,Gr,os,ca,ha,fa,xc;const zr=class zr{constructor(){x(this,fa);x(this,kr);x(this,Xo);x(this,ea);x(this,ta);x(this,ra);x(this,na);x(this,sa);x(this,ia);x(this,oa);x(this,aa);x(this,la);x(this,ua);x(this,Ai);x(this,is);x(this,Gr);x(this,os);x(this,ca);x(this,ha);b(this,kr,null),b(this,Xo,null),b(this,ta,0),b(this,ra,He),b(this,na,null),b(this,sa,null),b(this,ia,null),b(this,ea,"0x"),b(this,oa,He),b(this,aa,He),b(this,la,null),b(this,ua,null),b(this,Ai,null),b(this,is,null),b(this,Gr,null),b(this,os,null),b(this,ca,null),b(this,ha,null)}get type(){return d(this,kr)}set type(e){switch(e){case null:b(this,kr,null);break;case 0:case"legacy":b(this,kr,0);break;case 1:case"berlin":case"eip-2930":b(this,kr,1);break;case 2:case"london":case"eip-1559":b(this,kr,2);break;case 3:case"cancun":case"eip-4844":b(this,kr,3);break;case 4:case"pectra":case"eip-7702":b(this,kr,4);break;default:E(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=d(this,Xo);return e==null&&this.type===3?Jl:e}set to(e){b(this,Xo,e==null?null:ue(e))}get nonce(){return d(this,ta)}set nonce(e){b(this,ta,Y(e,"value"))}get gasLimit(){return d(this,ra)}set gasLimit(e){b(this,ra,z(e))}get gasPrice(){const e=d(this,na);return e==null&&(this.type===0||this.type===1)?He:e}set gasPrice(e){b(this,na,e==null?null:z(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=d(this,sa);return e??(this.type===2||this.type===3?He:null)}set maxPriorityFeePerGas(e){b(this,sa,e==null?null:z(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=d(this,ia);return e??(this.type===2||this.type===3?He:null)}set maxFeePerGas(e){b(this,ia,e==null?null:z(e,"maxFeePerGas"))}get data(){return d(this,ea)}set data(e){b(this,ea,U(e))}get value(){return d(this,oa)}set value(e){b(this,oa,z(e,"value"))}get chainId(){return d(this,aa)}set chainId(e){b(this,aa,z(e))}get signature(){return d(this,la)||null}set signature(e){b(this,la,e==null?null:Ot.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const r=this.authorizationList;if(r){for(const n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){const e=d(this,ua)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){b(this,ua,e==null?null:Ki(e))}get authorizationList(){const e=d(this,ca)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){b(this,ca,e==null?null:e.map(r=>SA(r)))}get maxFeePerBlobGas(){const e=d(this,Ai);return e==null&&this.type===3?He:e}set maxFeePerBlobGas(e){b(this,Ai,e==null?null:z(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=d(this,is);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){E(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)E(ge(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}b(this,is,e)}get blobs(){return d(this,os)==null?null:d(this,os).map(e=>Object.assign({},e))}set blobs(e){if(e==null){b(this,os,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(Wg(i)){O(d(this,Gr),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=X(i);if(E(o.length<=Kf,"blob is too large",`blobs[${s}]`,i),o.length!==Kf){const u=new Uint8Array(Kf);u.set(o),o=u}const a=d(this,Gr).blobToKzgCommitment(o),l=U(d(this,Gr).computeBlobKzgProof(o,a));r.push({data:U(o),commitment:U(a),proof:l}),n.push(c0(1,a))}else{const o=U(i.data),a=U(i.commitment),l=U(i.proof);r.push({data:o,commitment:a,proof:l}),n.push(c0(1,a))}}b(this,os,r),b(this,is,n)}get kzg(){return d(this,Gr)}set kzg(e){e==null?b(this,Gr,null):b(this,Gr,Qx(e))}get blobWrapperVersion(){return d(this,ha)}set blobWrapperVersion(e){b(this,ha,e)}get hash(){return this.signature==null?null:Le(N(this,fa,xc).call(this,!0,!1))}get unsignedHash(){return Le(this.unsignedSerialized)}get from(){return this.signature==null?null:jx(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:ql.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return N(this,fa,xc).call(this,!0,!0)}get unsignedSerialized(){return N(this,fa,xc).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=d(this,Ai)!=null||d(this,is);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&O(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),O(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),O(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return zr.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Kx](){return this.toString()}toString(){const e=[],r=s=>{let i=this[s];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${s}: ${i}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));const n=this.authorizationList;if(n){const s=[];for(const i of n){const o=[];o.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&o.push(`nonce: ${i.nonce}`),i.chainId!=null&&o.push(`chainId: ${i.chainId}`),i.signature&&o.push(`signature: ${i.signature.toString()}`),s.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new zr;if(typeof e=="string"){const n=X(e);if(n[0]>=127)return zr.from(Yx(n));switch(n[0]){case 1:return zr.from(tC(n));case 2:return zr.from(Xx(n));case 3:return zr.from(nC(n));case 4:return zr.from(iC(n))}O(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new zr;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Ot.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(E(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),E(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(E(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),E(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};kr=new WeakMap,Xo=new WeakMap,ea=new WeakMap,ta=new WeakMap,ra=new WeakMap,na=new WeakMap,sa=new WeakMap,ia=new WeakMap,oa=new WeakMap,aa=new WeakMap,la=new WeakMap,ua=new WeakMap,Ai=new WeakMap,is=new WeakMap,Gr=new WeakMap,os=new WeakMap,ca=new WeakMap,ha=new WeakMap,fa=new WeakSet,xc=function(e,r){O(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return Zx(this,n);case 1:return rC(this,n);case 2:return eC(this,n);case 3:return sC(this,n,r?this.blobs:null);case 4:return oC(this,n)}O(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let uh=zr;function Mi(t){return Le(Pn(t))}var aC="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";const h0=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),f0=4;function lC(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let C=1;C<n;C++)i.push(s+=r());let o=r(),a=e;e+=o;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,f=2**h,p=f>>>1,v=p>>1,y=f-1;let A=0;for(let C=0;C<h;C++)A=A<<1|c();let g=[],m=0,w=f;for(;;){let C=Math.floor(((A-m+1)*s-1)/w),S=0,P=n;for(;P-S>1;){let L=S+P>>>1;C<i[L]?P=L:S=L}if(S==0)break;g.push(S);let T=m+Math.floor(w*i[S]/s),H=m+Math.floor(w*i[S+1]/s)-1;for(;!((T^H)&p);)A=A<<1&y|c(),T=T<<1&y,H=H<<1&y|1;for(;T&~H&v;)A=A&p|A<<1&y>>>1|c(),T=T<<1^p,H=(H^p)<<1|p|1;m=T,w=1+H-T}let k=n-4;return g.map(C=>{switch(C-k){case 3:return k+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return k+256+(t[a++]<<8|t[a++]);case 1:return k+t[a++];default:return C-1}})}function uC(t){let e=0;return()=>t[e++]}function xA(t){return uC(lC(cC(t)))}function cC(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function hC(t){return t&1?~t>>1:t>>1}function fC(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=hC(e());return r}function Yl(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function CA(t){return Zl(()=>{let e=Yl(t);if(e.length)return e})}function PA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(dC(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(pC(r,t))}return e.flat()}function Zl(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function TA(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)fC(t,r).forEach((i,o)=>n[o].push(i));return n}function dC(t,e){let r=1+e(),n=e(),s=Zl(e);return TA(s.length,1+t,e).flatMap((o,a)=>{let[l,...u]=o;return Array(s[a]).fill().map((c,h)=>{let f=h*n;return[l+h*r,u.map(p=>p+f)]})})}function pC(t,e){let r=1+e();return TA(r,1+t,e).map(s=>[s[0],s.slice(1)])}function gC(t){let e=[],r=Yl(t);return s(n([]),[]),e;function n(i){let o=t(),a=Zl(()=>{let l=Yl(t).map(u=>r[u]);if(l.length)return n(l)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,l){if(!(i&4&&l===a[a.length-1])){i&2&&(l=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let c of u.Q)s(u,[...a,c],l)}}}function mC(t){return t.toString(16).toUpperCase().padStart(2,"0")}function OA(t){return`{${mC(t)}}`}function yC(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function za(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function wC(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var vC="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";const Xl=44032,ch=4352,hh=4449,fh=4519,NA=19,RA=21,$a=28,dh=RA*$a,bC=NA*dh,AC=Xl+bC,EC=ch+NA,kC=hh+RA,_C=fh+$a;function fl(t){return t>>24&255}function IA(t){return t&16777215}let vp,d0,bp,Cc;function SC(){let t=xA(vC);vp=new Map(CA(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),d0=new Set(Yl(t)),bp=new Map,Cc=new Map;for(let[e,r]of PA(t)){if(!d0.has(e)&&r.length==2){let[n,s]=r,i=Cc.get(n);i||(i=new Map,Cc.set(n,i)),i.set(s,e)}bp.set(e,r.reverse())}}function BA(t){return t>=Xl&&t<AC}function xC(t,e){if(t>=ch&&t<EC&&e>=hh&&e<kC)return Xl+(t-ch)*dh+(e-hh)*$a;if(BA(t)&&e>fh&&e<_C&&(t-Xl)%$a==0)return t+(e-fh);{let r=Cc.get(t);return r&&(r=r.get(e),r)?r:-1}}function UA(t){vp||SC();let e=[],r=[],n=!1;function s(i){let o=vp.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(BA(i)){let o=i-Xl,a=o/dh|0,l=o%dh/$a|0,u=o%$a;s(ch+a),s(hh+l),u>0&&s(fh+u)}else{let o=bp.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=fl(e[0]);for(let o=1;o<e.length;o++){let a=fl(e[o]);if(a==0||i<=a){i=a;continue}let l=o-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(i=fl(e[--l]),i<=a))break}i=fl(e[o])}}return e}function CC(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=fl(i),a=IA(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),s=o;else{let l=xC(n,a);l>=0?n=l:s==0&&o==0?(e.push(n),n=a):(r.push(a),s=o)}}return n>=0&&e.push(n,...r),e}function LA(t){return UA(t).map(IA)}function PC(t){return CC(UA(t))}const p0=45,DA=".",FA=65039,MA=1,ph=t=>Array.from(t);function eu(t,e){return t.P.has(e)||t.Q.has(e)}class TC extends Array{get is_emoji(){return!0}}let Ap,jA,li,Ep,zA,jo,Qf,oo,Ws,g0,kp;function sm(){if(Ap)return;let t=xA(aC);const e=()=>Yl(t),r=()=>new Set(e()),n=(c,h)=>h.forEach(f=>c.add(f));Ap=new Map(PA(t)),jA=r(),li=e(),Ep=new Set(e().map(c=>li[c])),li=new Set(li),zA=r(),r();let s=CA(t),i=t();const o=()=>{let c=new Set;return e().forEach(h=>n(c,s[h])),n(c,e()),c};jo=Zl(c=>{let h=Zl(t).map(f=>f+96);if(h.length){let f=c>=i;h[0]-=32,h=za(h),f&&(h=`Restricted[${h}]`);let p=o(),v=o(),y=!t();return{N:h,P:p,Q:v,M:y,R:f}}}),Qf=r(),oo=new Map;let a=e().concat(ph(Qf)).sort((c,h)=>c-h);a.forEach((c,h)=>{let f=t(),p=a[h]=f?a[h-f]:{V:[],M:new Map};p.V.push(c),Qf.has(c)||oo.set(c,p)});for(let{V:c,M:h}of new Set(oo.values())){let f=[];for(let v of c){let y=jo.filter(g=>eu(g,v)),A=f.find(({G:g})=>y.some(m=>g.has(m)));A||(A={G:new Set,V:[]},f.push(A)),A.V.push(v),n(A.G,y)}let p=f.flatMap(v=>ph(v.G));for(let{G:v,V:y}of f){let A=new Set(p.filter(g=>!v.has(g)));for(let g of y)h.set(g,A)}}Ws=new Set;let l=new Set;const u=c=>Ws.has(c)?l.add(c):Ws.add(c);for(let c of jo){for(let h of c.P)u(h);for(let h of c.Q)u(h)}for(let c of Ws)!oo.has(c)&&!l.has(c)&&oo.set(c,MA);n(Ws,LA(Ws)),g0=gC(t).map(c=>TC.from(c)).sort(wC),kp=new Map;for(let c of g0){let h=[kp];for(let f of c){let p=h.map(v=>{let y=v.get(f);return y||(y=new Map,v.set(f,y)),y});f===FA?h.push(...p):h=p}for(let f of h)f.V=c}}function im(t){return($A(t)?"":`${om(Zh([t]))} `)+OA(t)}function om(t){return`"${t}"`}function OC(t){if(t.length>=4&&t[2]==p0&&t[3]==p0)throw new Error(`invalid label extension: "${za(t.slice(0,4))}"`)}function NC(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function RC(t){let e=t[0],r=h0.get(e);if(r)throw xl(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=h0.get(e);if(o){if(s==i)throw xl(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw xl(`trailing ${r}`)}function Zh(t,e=1/0,r=OA){let n=[];IC(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];$A(a)&&(n.push(za(t.slice(s,o))),n.push(r(a)),s=o+1)}return n.push(za(t.slice(s,i))),n.join("")}function IC(t){return sm(),li.has(t)}function $A(t){return sm(),zA.has(t)}function BC(t){return FC(UC(t,PC,zC))}function UC(t,e,r){if(!t)return[];sm();let n=0;return t.split(DA).map(s=>{let i=yC(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=jC(i,e,r),l=a.length,u;if(!l)throw new Error("empty label");let c=o.output=a.flat();if(NC(c),!(o.emoji=l>1||a[0].is_emoji)&&c.every(f=>f<128))OC(c),u="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)u="Emoji";else{if(li.has(c[0]))throw xl("leading combining mark");for(let y=1;y<l;y++){let A=a[y];if(!A.is_emoji&&li.has(A[0]))throw xl(`emoji + combining mark: "${za(a[y-1])} + ${Zh([A[0]])}"`)}RC(c);let p=ph(new Set(f)),[v]=DC(p);MC(v,f),LC(v,p),u=v.N}}o.type=u}catch(a){o.error=a}return o})}function LC(t,e){let r,n=[];for(let s of e){let i=oo.get(s);if(i===MA)return;if(i){let o=i.M.get(s);if(r=r?r.filter(a=>o.has(a)):ph(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>eu(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function DC(t){let e=jo;for(let r of t){let n=e.filter(s=>eu(s,r));if(!n.length)throw jo.some(s=>eu(s,r))?GA(e[0],r):HA(r);if(e=n,n.length==1)break}return e}function FC(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${om(Zh(e,63))}: ${s}`)}return za(n)}).join(DA)}function HA(t){return new Error(`disallowed character: ${im(t)}`)}function GA(t,e){let r=im(e),n=jo.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function xl(t){return new Error(`illegal placement: ${t}`)}function MC(t,e){for(let r of e)if(!eu(t,r))throw GA(t,r);if(t.M){let r=LA(e);for(let n=1,s=r.length;n<s;n++)if(Ep.has(r[n])){let i=n+1;for(let o;i<s&&Ep.has(o=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${im(o)}`);if(i-n>f0)throw new Error(`excessive non-spacing marks: ${om(Zh(r.slice(n-1,i)))} (${i-n}/${f0})`);n=i}}}function jC(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=$C(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(Ws.has(o))s.push(o);else{let a=Ap.get(o);if(a)s.push(...a);else if(!jA.has(o))throw HA(o)}}}return s.length&&n.push(e(s)),n}function zC(t){return t.filter(e=>e!=FA)}function $C(t,e){let r=kp,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const VA=new Uint8Array(32);VA.fill(0);function m0(t){return E(t.length!==0,"invalid ENS name; empty component","comp",t),t}function KA(t){const e=Pn(HC(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(m0(e.slice(n,s))),n=s+1);return E(n<e.length,"invalid ENS name; empty component","name",t),r.push(m0(e.slice(n))),r}function HC(t){try{if(t.length===0)throw new Error("empty label");return BC(t)}catch(e){E(!1,`invalid ENS name (${e.message})`,"name",t)}}function _p(t){E(typeof t=="string","invalid ENS name; not a string","name",t),E(t.length,"invalid ENS name (empty label)","name",t);let e=VA;const r=KA(t);for(;r.length;)e=Le(Ae([e,Le(r.pop())]));return U(e)}function GC(t,e){const r=e;return E(r<=255,"DNS encoded label cannot exceed 255","length",r),U(Ae(KA(t).map(n=>{E(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}const QA=new Uint8Array(32);QA.fill(0);const VC=BigInt(-1),WA=BigInt(0),JA=BigInt(1),KC=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function QC(t){const e=X(t),r=e.length%32;return r?Ae([e,QA.slice(r)]):U(e)}const WC=Rs(JA,32),JC=Rs(WA,32),y0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Wf=["name","version","chainId","verifyingContract","salt"];function w0(t){return function(e){return E(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const qC={name:w0("name"),version:w0("version"),chainId:function(t){const e=z(t,"domain.chainId");return E(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Tr(e)},verifyingContract:function(t){try{return ue(t).toLowerCase()}catch{}E(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=X(t,"domain.salt");return E(e.length===32,'invalid domain value "salt"',"domain.salt",t),U(e)}};function Jf(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);E(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=oi(KC,r?n-1:n),i=r?(s+JA)*VC:WA;return function(o){const a=z(o,"value");return E(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Rs(r?Nb(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return E(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=X(n);return E(s.length===r,`invalid length for ${t}`,"value",n),QC(n)}}}switch(t){case"address":return function(e){return Un(ue(e),32)};case"bool":return function(e){return e?WC:JC};case"bytes":return function(e){return Le(e)};case"string":return function(e){return Mi(e)}}return null}function v0(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function ic(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var pu,mn,da,_h,qA;const er=class er{constructor(e){x(this,_h);_(this,"primaryType");x(this,pu);x(this,mn);x(this,da);b(this,mn,new Map),b(this,da,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:u,type:c})=>{let{base:h,index:f}=ic(c);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:u,type:h+(f||"")}}),r.set(l,new Set),n.set(l,[]),s.set(l,new Set)}),b(this,pu,JSON.stringify(i));for(const l in i){const u=new Set;for(const c of i[l]){E(!u.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(l)}`,"types",e),u.add(c.name);const h=ic(c.type).base;E(h!==l,`circular type reference to ${JSON.stringify(h)}`,"types",e),!Jf(h)&&(E(n.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),n.get(h).push(l),r.get(l).add(h))}}const o=Array.from(n.keys()).filter(l=>n.get(l).length===0);E(o.length!==0,"missing primary type","types",e),E(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),K(this,{primaryType:o[0]});function a(l,u){E(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const c of r.get(l))if(n.has(c)){a(c,u);for(const h of u)s.get(h).add(c)}u.delete(l)}a(this.primaryType,new Set);for(const[l,u]of s){const c=Array.from(u);c.sort(),d(this,mn).set(l,v0(l,i[l])+c.map(h=>v0(h,i[h])).join(""))}}get types(){return JSON.parse(d(this,pu))}getEncoder(e){let r=d(this,da).get(e);return r||(r=N(this,_h,qA).call(this,e),d(this,da).set(e,r)),r}encodeType(e){const r=d(this,mn).get(e);return E(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Le(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Jf(e))return n(e,r);const s=ic(e).array;if(s)return E(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(o=>this._visit(s.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{});E(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new er(e)}static getPrimaryType(e){return er.from(e).primaryType}static hashStruct(e,r,n){return er.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=y0[n];E(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>Wf.indexOf(n.name)-Wf.indexOf(s.name)),er.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ae(["0x1901",er.hashDomain(e),er.from(r).hash(n)])}static hash(e,r,n){return Le(er.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!ge(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=er.from(r);o.visit(n,(a,l)=>(a==="address"&&!ge(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:n}}static getPayload(e,r,n){er.hashDomain(e);const s={},i=[];Wf.forEach(l=>{const u=e[l];u!=null&&(s[l]=qC[l](u),i.push({name:l,type:y0[l]}))});const o=er.from(r);r=o.types;const a=Object.assign({},r);return E(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return U(X(u));if(l.match(/^u?int/))return z(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return E(typeof u=="string","invalid string","value",u),u}E(!1,"unsupported type","type",l)})}}};pu=new WeakMap,mn=new WeakMap,da=new WeakMap,_h=new WeakSet,qA=function(e){{const s=Jf(e);if(s)return s}const r=ic(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return o=>{E(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(i);return d(this,mn).has(s)&&(a=a.map(Le)),Le(Ae(a))}}const n=this.types[e];if(n){const s=Mi(d(this,mn).get(e));return i=>{const o=n.map(({name:a,type:l})=>{const u=this.getEncoder(l)(i[a]);return d(this,mn).has(l)?Le(u):u});return o.unshift(s),Ae(o)}}E(!1,`unknown type: ${e}`,"type",e)};let gh=er;function yt(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const YC="external public payable override",ZC=yt(YC.split(" ")),YA="constant external internal payable private public pure view override",XC=yt(YA.split(" ")),ZA="constructor error event fallback function receive struct",XA=yt(ZA.split(" ")),eE="calldata memory storage payable indexed",eP=yt(eE.split(" ")),tP="tuple returns",rP=[ZA,eE,tP,YA].join(" "),nP=yt(rP.split(" ")),sP={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},iP=new RegExp("^(\\s*)"),oP=new RegExp("^([0-9]+)"),aP=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tE=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),rE=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var We,_r,gu,Sp;const Sh=class Sh{constructor(e){x(this,gu);x(this,We);x(this,_r);b(this,We,0),b(this,_r,e.slice())}get offset(){return d(this,We)}get length(){return d(this,_r).length-d(this,We)}clone(){return new Sh(d(this,_r))}reset(){b(this,We,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=N(this,gu,Sp).call(this,d(this,We)+1,e.match+1);return b(this,We,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;d(this,We)<e.match-1;){const n=this.peek().linkNext;r.push(N(this,gu,Sp).call(this,d(this,We)+1,n)),b(this,We,n)}return b(this,We,e.match+1),r}peek(){if(d(this,We)>=d(this,_r).length)throw new Error("out-of-bounds");return d(this,_r)[d(this,We)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Ja(this,We)._++,e}toString(){const e=[];for(let r=d(this,We);r<d(this,_r).length;r++){const n=d(this,_r)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};We=new WeakMap,_r=new WeakMap,gu=new WeakSet,Sp=function(e=0,r=0){return new Sh(d(this,_r).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Br=Sh;function Fs(t){const e=[],r=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(iP);a&&(i+=a[1].length,o=t.substring(i));const l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let u=sP[o[0]]||"";if(u){if(l.type=u,l.text=o[0],i++,u==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),l.match=n.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let c=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;c=h+c,e[e.length-1].value=Y(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=c}continue}if(a=o.match(aP),a){if(l.text=a[1],i+=l.text.length,nP.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(rE)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(oP),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Br(e.map(o=>Object.freeze(o)))}function b0(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Xh(t,e){if(e.peekKeyword(XA)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Ln(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function nE(t){let e=Ln(t,XC);return b0(e,yt("constant payable nonpayable".split(" "))),b0(e,yt("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function On(t,e){return t.popParams().map(r=>Xe.from(r,e))}function sE(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return z(t.pop().text);throw new Error("invalid gas")}return null}function ji(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const lP=new RegExp(/^(.*)\[([0-9]*)\]$/);function A0(t){const e=t.match(rE);if(E(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);E(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);E(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Se={},Nt=Symbol.for("_ethers_internal"),E0="_ParamTypeInternal",k0="_ErrorInternal",_0="_EventInternal",S0="_ConstructorInternal",x0="_FallbackInternal",C0="_FunctionInternal",P0="_StructInternal";var pa,Pc;const tr=class tr{constructor(e,r,n,s,i,o,a,l){x(this,pa);_(this,"name");_(this,"type");_(this,"baseType");_(this,"indexed");_(this,"components");_(this,"arrayLength");_(this,"arrayChildren");if(Pu(e,Se,"ParamType"),Object.defineProperty(this,Nt,{value:E0}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");K(this,{name:r,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return N(this,pa,Pc).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(tr.isParamType(e))return e;if(typeof e=="string")try{return tr.from(Fs(e),r)}catch{E(!1,"invalid param type","obj",e)}else if(e instanceof Br){let a="",l="",u=null;Ln(e,yt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(y=>tr.from(y)),a=`tuple(${u.map(y=>y.format()).join(",")})`):(a=A0(e.popType("TYPE")),l=a);let c=null,h=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();c=new tr(Se,"",a,l,null,u,h,c),h=y.value,a+=y.text,l="array",u=null}let f=null;if(Ln(e,eP).has("indexed")){if(!r)throw new Error("");f=!0}const v=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new tr(Se,v,a,l,f,u,h,c)}const n=e.name;E(!n||typeof n=="string"&&n.match(tE),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(E(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(lP);if(o){const a=parseInt(o[2]||"-1"),l=tr.from({type:o[1],components:e.components});return new tr(Se,n||"",i,"array",s,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>tr.from(u)):null;return new tr(Se,n||"",i,"tuple",s,a,null,null)}return i=A0(e.type),new tr(Se,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Nt]===E0}};pa=new WeakSet,Pc=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((l,u)=>{var c;N(c=o,pa,Pc).call(c,e,l,n,h=>{a[u]=h})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in r))throw new Error(`missing value for component ${l.name}`);return r[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,u)=>{var c;N(c=o[u],pa,Pc).call(c,e,l,n,h=>{a[u]=h})}),s(a);return}const i=n(this.type,r);i.then?e.push(async function(){s(await i)}()):s(i)};let Xe=tr;class zi{constructor(e,r,n){_(this,"type");_(this,"inputs");Pu(e,Se,"Fragment"),n=Object.freeze(n.slice()),K(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{zi.from(JSON.parse(e))}catch{}return zi.from(Fs(e))}if(e instanceof Br)switch(e.peekKeyword(XA)){case"constructor":return xn.from(e);case"error":return St.from(e);case"event":return Zr.from(e);case"fallback":case"receive":return hn.from(e);case"function":return Xr.from(e);case"struct":return Ii.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return xn.from(e);case"error":return St.from(e);case"event":return Zr.from(e);case"fallback":case"receive":return hn.from(e);case"function":return Xr.from(e);case"struct":return Ii.from(e)}O(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}E(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return xn.isFragment(e)}static isError(e){return St.isFragment(e)}static isEvent(e){return Zr.isFragment(e)}static isFunction(e){return Xr.isFragment(e)}static isStruct(e){return Ii.isFragment(e)}}class ef extends zi{constructor(r,n,s,i){super(r,n,i);_(this,"name");E(typeof s=="string"&&s.match(tE),"invalid identifier","name",s),i=Object.freeze(i.slice()),K(this,{name:s})}}function tu(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class St extends ef{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Nt,{value:k0})}get selector(){return Mi(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+tu(e,this.inputs)),r.join(" ")}static from(e){if(St.isFragment(e))return e;if(typeof e=="string")return St.from(Fs(e));if(e instanceof Br){const r=Xh("error",e),n=On(e);return ji(e),new St(Se,r,n)}return new St(Se,e.name,e.inputs?e.inputs.map(Xe.from):[])}static isFragment(e){return e&&e[Nt]===k0}}class Zr extends ef{constructor(r,n,s,i){super(r,"event",n,s);_(this,"anonymous");Object.defineProperty(this,Nt,{value:_0}),K(this,{anonymous:i})}get topicHash(){return Mi(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+tu(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Xe.from(i)),new Zr(Se,r,n,!1).topicHash}static from(r){if(Zr.isFragment(r))return r;if(typeof r=="string")try{return Zr.from(Fs(r))}catch{E(!1,"invalid event fragment","obj",r)}else if(r instanceof Br){const n=Xh("event",r),s=On(r,!0),i=!!Ln(r,yt(["anonymous"])).has("anonymous");return ji(r),new Zr(Se,n,s,i)}return new Zr(Se,r.name,r.inputs?r.inputs.map(n=>Xe.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Nt]===_0}}class xn extends zi{constructor(r,n,s,i,o){super(r,n,s);_(this,"payable");_(this,"gas");Object.defineProperty(this,Nt,{value:S0}),K(this,{payable:i,gas:o})}format(r){if(O(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${tu(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(xn.isFragment(r))return r;if(typeof r=="string")try{return xn.from(Fs(r))}catch{E(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Br){Ln(r,yt(["constructor"]));const n=On(r),s=!!Ln(r,ZC).has("payable"),i=sE(r);return ji(r),new xn(Se,"constructor",n,s,i)}return new xn(Se,"constructor",r.inputs?r.inputs.map(Xe.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Nt]===S0}}class hn extends zi{constructor(r,n,s){super(r,"fallback",n);_(this,"payable");Object.defineProperty(this,Nt,{value:x0}),K(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(hn.isFragment(r))return r;if(typeof r=="string")try{return hn.from(Fs(r))}catch{E(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Br){const n=r.toString(),s=r.peekKeyword(yt(["fallback","receive"]));if(E(s,"type must be fallback or receive","obj",n),r.popKeyword(yt(["fallback","receive"]))==="receive"){const l=On(r);return E(l.length===0,"receive cannot have arguments","obj.inputs",l),Ln(r,yt(["payable"])),ji(r),new hn(Se,[],!0)}let o=On(r);o.length?E(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Xe.from("bytes")];const a=nE(r);if(E(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Ln(r,yt(["returns"])).has("returns")){const l=On(r);E(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(u=>u.format("minimal")).join(", "))}return ji(r),new hn(Se,o,a==="payable")}if(r.type==="receive")return new hn(Se,[],!0);if(r.type==="fallback"){const n=[Xe.from("bytes")],s=r.stateMutability==="payable";return new hn(Se,n,s)}E(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Nt]===x0}}class Xr extends ef{constructor(r,n,s,i,o,a){super(r,"function",n,i);_(this,"constant");_(this,"outputs");_(this,"stateMutability");_(this,"payable");_(this,"gas");Object.defineProperty(this,Nt,{value:C0}),o=Object.freeze(o.slice()),K(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return Mi(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+tu(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(tu(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Xe.from(i)),new Xr(Se,r,"view",n,[],null).selector}static from(r){if(Xr.isFragment(r))return r;if(typeof r=="string")try{return Xr.from(Fs(r))}catch{E(!1,"invalid function fragment","obj",r)}else if(r instanceof Br){const s=Xh("function",r),i=On(r),o=nE(r);let a=[];Ln(r,yt(["returns"])).has("returns")&&(a=On(r));const l=sE(r);return ji(r),new Xr(Se,s,o,i,a,l)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Xr(Se,r.name,n,r.inputs?r.inputs.map(Xe.from):[],r.outputs?r.outputs.map(Xe.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Nt]===C0}}class Ii extends ef{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Nt,{value:P0})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Ii.from(Fs(e))}catch{E(!1,"invalid struct fragment","obj",e)}else if(e instanceof Br){const r=Xh("struct",e),n=On(e);return ji(e),new Ii(Se,r,n)}return new Ii(Se,e.name,e.inputs?e.inputs.map(Xe.from):[])}static isFragment(e){return e&&e[Nt]===P0}}const Ur=new Map;Ur.set(0,"GENERIC_PANIC");Ur.set(1,"ASSERT_FALSE");Ur.set(17,"OVERFLOW");Ur.set(18,"DIVIDE_BY_ZERO");Ur.set(33,"ENUM_RANGE_ERROR");Ur.set(34,"BAD_STORAGE_DATA");Ur.set(49,"STACK_UNDERFLOW");Ur.set(50,"ARRAY_RANGE_ERROR");Ur.set(65,"OUT_OF_MEMORY");Ur.set(81,"UNINITIALIZED_FUNCTION_CALL");const uP=new RegExp(/^bytes([0-9]*)$/),cP=new RegExp(/^(u?int)([0-9]*)$/);let qf=null,T0=1024;function hP(t,e,r,n){let s="missing revert data",i=null;const o=null;let a=null;if(r){s="execution reverted";const u=X(r);if(r=U(r),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(U(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(U(u.slice(0,4))==="0x4e487b71")try{const c=Number(n.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[c]},i=`Panic due to ${Ur.get(c)||"UNKNOWN"}(${c})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const l={to:e.to?ue(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ue(e.from)),ve(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:l,invocation:o,revert:a})}var as,ao;const xh=class xh{constructor(){x(this,as)}getDefaultValue(e){const r=e.map(s=>N(this,as,ao).call(this,Xe.from(s)));return new sc(r,"_").defaultValue()}encode(e,r){Pb(r.length,e.length,"types/values length mismatch");const n=e.map(o=>N(this,as,ao).call(this,Xe.from(o))),s=new sc(n,"_"),i=new cp;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(o=>N(this,as,ao).call(this,Xe.from(o)));return new sc(s,"_").decode(new hp(r,n,T0))}static _setDefaultMaxInflation(e){E(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),T0=e}static defaultAbiCoder(){return qf==null&&(qf=new xh),qf}static getBuiltinCallException(e,r,n){return hP(e,r,n,xh.defaultAbiCoder())}};as=new WeakSet,ao=function(e){if(e.isArray())return new Px(N(this,as,ao).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new sc(e.components.map(n=>N(this,as,ao).call(this,n)),e.name);switch(e.baseType){case"address":return new xx(e.name);case"bool":return new Tx(e.name);case"string":return new Fx(e.name);case"bytes":return new Ox(e.name);case"":return new Ix(e.name)}let r=e.type.match(cP);if(r){let n=parseInt(r[2]||"256");return E(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new Dx(n/8,r[1]==="int",e.name)}if(r=e.type.match(uP),r){let n=parseInt(r[1]);return E(n!==0&&n<=32,"invalid bytes length","param",e),new Nx(n,e.name)}E(!1,"invalid type","type",e.type)};let ru=xh;class fP{constructor(e,r,n){_(this,"fragment");_(this,"name");_(this,"signature");_(this,"topic");_(this,"args");const s=e.name,i=e.format();K(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class dP{constructor(e,r,n,s){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");_(this,"value");const i=e.name,o=e.format();K(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:s})}}class pP{constructor(e,r,n){_(this,"fragment");_(this,"name");_(this,"args");_(this,"signature");_(this,"selector");const s=e.name,i=e.format();K(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class O0{constructor(e){_(this,"hash");_(this,"_isIndexed");K(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const N0={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},R0={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&N0[t.toString()]&&(e=N0[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Vr,Kr,Qr,st,nn,Tc,Oc;const ti=class ti{constructor(e){x(this,nn);_(this,"fragments");_(this,"deploy");_(this,"fallback");_(this,"receive");x(this,Vr);x(this,Kr);x(this,Qr);x(this,st);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,b(this,Qr,new Map),b(this,Vr,new Map),b(this,Kr,new Map);const n=[];for(const o of r)try{n.push(zi.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}K(this,{fragments:Object.freeze(n)});let s=null,i=!1;b(this,st,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}K(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(E(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":l=d(this,Qr);break;case"event":l=d(this,Kr);break;case"error":l=d(this,Vr);break;default:return}const u=o.format();l.has(u)||l.set(u,o)}),this.deploy||K(this,{deploy:xn.from("constructor()")}),K(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return ru.defaultAbiCoder()}getFunctionName(e){const r=N(this,nn,Tc).call(this,e,null,!1);return E(r,"no matching function","key",e),r.name}hasFunction(e){return!!N(this,nn,Tc).call(this,e,null,!1)}getFunction(e,r){return N(this,nn,Tc).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(d(this,Qr).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(d(this,Qr).get(s),n)}}getEventName(e){const r=N(this,nn,Oc).call(this,e,null,!1);return E(r,"no matching event","key",e),r.name}hasEvent(e){return!!N(this,nn,Oc).call(this,e,null,!1)}getEvent(e,r){return N(this,nn,Oc).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(d(this,Kr).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(d(this,Kr).get(s),n)}}getError(e,r){if(ge(e)){const s=e.toLowerCase();if(R0[s])return St.from(R0[s].signature);for(const i of d(this,Vr).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of d(this,Vr))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?St.from("error Error(string)"):e==="Panic"?St.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");E(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=St.from(e).format(),e==="Error(string)")return St.from("error Error(string)");if(e==="Panic(uint256)")return St.from("error Panic(uint256)");const n=d(this,Vr).get(e);return n||null}forEachError(e){const r=Array.from(d(this,Vr).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(d(this,Vr).get(s),n)}}_decodeParams(e,r){return d(this,st).decode(e,r)}_encodeParams(e,r){return d(this,st).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);E(n,"unknown error","fragment",e),e=n}return E(Te(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Te(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);E(n,"unknown error","fragment",e),e=n}return Ae([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);E(n,"unknown function","fragment",e),e=n}return E(Te(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Te(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);E(n,"unknown function","fragment",e),e=n}return Ae([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);E(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=pt(r);if(s.length%32===0)try{return d(this,st).decode(e.outputs,s)}catch{n="could not decode result data"}O(!1,n,"BAD_DATA",{value:U(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=X(e,"data"),s=ru.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=U(n.slice(0,4)),l=this.getError(a);if(l)try{const u=d(this,st).decode(l.inputs,n.slice(4));s.revert={name:l.name,signature:l.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);E(n,"unknown function","fragment",e),e=n}return U(d(this,st).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);E(i,"unknown event","eventFragment",e),e=i}O(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,o)=>i.type==="string"?Mi(o):i.type==="bytes"?Le(U(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Rs(o):i.type.match(/^bytes/)?o=p_(o,32):i.type==="address"&&d(this,st).encode(["address"],[o]),Un(U(o),32));for(r.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){E(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?E(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(l=>s(a,l))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);E(o,"unknown event","eventFragment",e),e=o}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),E(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const l=r[a];if(o.indexed)if(o.type==="string")n.push(Mi(l));else if(o.type==="bytes")n.push(Le(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(d(this,st).encode([o.type],[l]))}else s.push(o),i.push(l)}),{data:d(this,st).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const p=this.getEvent(e);E(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;E(ge(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((p,v)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Xe.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=n!=null?d(this,st).decode(s,Ae(n)):null,l=d(this,st).decode(i,r,!0),u=[],c=[];let h=0,f=0;return e.inputs.forEach((p,v)=>{let y=null;if(p.indexed)if(a==null)y=new O0(null);else if(o[v])y=new O0(a[f++]);else try{y=a[f++]}catch(A){y=A}else try{y=l[h++]}catch(A){y=A}u.push(y),c.push(p.name||null)}),Da.fromItems(u,c)}parseTransaction(e){const r=X(e.data,"tx.data"),n=z(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(U(r.slice(0,4)));if(!s)return null;const i=d(this,st).decode(s.inputs,r.slice(4));return new dP(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new fP(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=U(e),n=this.getError(Te(r,0,4));if(!n)return null;const s=d(this,st).decode(n.inputs,Te(r,4));return new pP(n,n.selector,s)}static from(e){return e instanceof ti?e:typeof e=="string"?new ti(JSON.parse(e)):typeof e.formatJson=="function"?new ti(e.formatJson()):typeof e.format=="function"?new ti(e.format("json")):new ti(e)}};Vr=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,st=new WeakMap,nn=new WeakSet,Tc=function(e,r,n){if(ge(e)){const i=e.toLowerCase();for(const o of d(this,Qr).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Qr))o.split("(")[0]===e&&i.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,l=!0;lt.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let u=i.length-1;u>=0;u--){const c=i[u].inputs.length;c!==a&&(!l||c!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const c=i[u].inputs;for(let h=0;h<r.length;h++)if(lt.isTyped(r[h])){if(h>=c.length){if(r[h].type==="overrides")continue;i.splice(u,1);break}if(r[h].type!==c[h].baseType){i.splice(u,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");E(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=d(this,Qr).get(Xr.from(e).format());return s||null},Oc=function(e,r,n){if(ge(e)){const i=e.toLowerCase();for(const o of d(this,Kr).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of d(this,Kr))o.split("(")[0]===e&&i.push(a);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let l=0;l<r.length;l++)if(lt.isTyped(r[l])&&r[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");E(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=d(this,Kr).get(Zr.from(e).format());return s||null};let xp=ti;const iE=BigInt(0);function zo(t){return t??null}function Ne(t){return t==null?null:t.toString()}class I0{constructor(e,r,n){_(this,"gasPrice");_(this,"maxFeePerGas");_(this,"maxPriorityFeePerGas");K(this,{gasPrice:zo(e),maxFeePerGas:zo(r),maxPriorityFeePerGas:zo(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Ne(e),maxFeePerGas:Ne(r),maxPriorityFeePerGas:Ne(n)}}}function mh(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=U(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=z(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=Y(t[s],`request.${s}`));return t.accessList&&(e.accessList=Ki(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>Wg(s)?U(s):Object.assign({},s))),e}var yn;class gP{constructor(e,r){_(this,"provider");_(this,"number");_(this,"hash");_(this,"timestamp");_(this,"parentHash");_(this,"parentBeaconBlockRoot");_(this,"nonce");_(this,"difficulty");_(this,"gasLimit");_(this,"gasUsed");_(this,"stateRoot");_(this,"receiptsRoot");_(this,"blobGasUsed");_(this,"excessBlobGas");_(this,"miner");_(this,"prevRandao");_(this,"extraData");_(this,"baseFeePerGas");x(this,yn);b(this,yn,e.transactions.map(n=>typeof n!="string"?new nu(n,r):n)),K(this,{provider:r,hash:zo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:zo(e.prevRandao),extraData:e.extraData,baseFeePerGas:zo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return d(this,yn).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=d(this,yn).slice();return e.length===0?[]:(O(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:l,nonce:u,number:c,parentHash:h,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:v,timestamp:y,transactions:A}=this;return{_type:"Block",baseFeePerGas:Ne(e),difficulty:Ne(r),extraData:n,gasLimit:Ne(s),gasUsed:Ne(i),blobGasUsed:Ne(this.blobGasUsed),excessBlobGas:Ne(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:u,number:c,parentHash:h,timestamp:y,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:v,transactions:A}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return d(this,yn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=d(this,yn)[e];else{const n=e.toLowerCase();for(const s of d(this,yn))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;E(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return mP(this)}}yn=new WeakMap;class Ru{constructor(e,r){_(this,"provider");_(this,"transactionHash");_(this,"blockHash");_(this,"blockNumber");_(this,"removed");_(this,"address");_(this,"data");_(this,"topics");_(this,"index");_(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());K(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return O(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return O(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return O(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return yP(this)}}var mu;class oE{constructor(e,r){_(this,"provider");_(this,"to");_(this,"from");_(this,"contractAddress");_(this,"hash");_(this,"index");_(this,"blockHash");_(this,"blockNumber");_(this,"logsBloom");_(this,"gasUsed");_(this,"blobGasUsed");_(this,"cumulativeGasUsed");_(this,"gasPrice");_(this,"blobGasPrice");_(this,"type");_(this,"status");_(this,"root");x(this,mu);b(this,mu,Object.freeze(e.logs.map(s=>new Ru(s,r))));let n=iE;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),K(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return d(this,mu)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:u,status:c,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Ne(this.cumulativeGasUsed),from:r,gasPrice:Ne(this.gasPrice),blobGasUsed:Ne(this.blobGasUsed),blobGasPrice:Ne(this.blobGasPrice),gasUsed:Ne(this.gasUsed),hash:s,index:i,logs:u,logsBloom:l,root:h,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return lE(this)}reorderedEvent(e){return O(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),aE(this,e)}}mu=new WeakMap;var ls;const vm=class vm{constructor(e,r){_(this,"provider");_(this,"blockNumber");_(this,"blockHash");_(this,"index");_(this,"hash");_(this,"type");_(this,"to");_(this,"from");_(this,"nonce");_(this,"gasLimit");_(this,"gasPrice");_(this,"maxPriorityFeePerGas");_(this,"maxFeePerGas");_(this,"maxFeePerBlobGas");_(this,"data");_(this,"value");_(this,"chainId");_(this,"signature");_(this,"accessList");_(this,"blobVersionedHashes");_(this,"authorizationList");x(this,ls);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,b(this,ls,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:o,from:a,nonce:l,data:u,signature:c,accessList:h,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:Ne(this.chainId),data:u,from:a,gasLimit:Ne(this.gasLimit),gasPrice:Ne(this.gasPrice),hash:s,maxFeePerGas:Ne(this.maxFeePerGas),maxPriorityFeePerGas:Ne(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ne(this.maxFeePerBlobGas),nonce:l,signature:c,to:o,index:n,type:i,value:Ne(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await dt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=d(this,ls),o=-1,a=i===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:p}=await dt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=f;return}if(a)return null;const v=await this.getTransaction();if(!(v&&v.blockNumber!=null))for(o===-1&&(o=i-3,o<d(this,ls)&&(o=d(this,ls)));o<=f;){if(a)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const A of y)if(A===this.hash)return;for(let A=0;A<y.length;A++){const g=await y.getTransaction(A);if(g.from===this.from&&g.nonce===this.nonce){if(a)return null;const m=await this.provider.getTransactionReceipt(g.hash);if(m==null||f-m.blockNumber+1<n)return;let w="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?w="repriced":g.data==="0x"&&g.from===g.to&&g.value===iE&&(w="cancelled"),O(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:g.replaceableTransaction(i),hash:g.hash,receipt:m})}}o++}},u=f=>{if(f==null||f.status!==0)return f;O(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},c=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(c);if(c){if(n===1||await c.confirmations()>=n)return u(c)}else if(await l(),n===0)return null;return await new Promise((f,p)=>{const v=[],y=()=>{v.forEach(g=>g())};if(v.push(()=>{a=!0}),s>0){const g=setTimeout(()=>{y(),p(ve("wait for transaction timeout","TIMEOUT"))},s);v.push(()=>{clearTimeout(g)})}const A=async g=>{if(await g.confirmations()>=n){y();try{f(u(g))}catch(m){p(m)}}};if(v.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),i>=0){const g=async()=>{try{await l()}catch(m){if(Ye(m,"TRANSACTION_REPLACED")){y(),p(m);return}}a||this.provider.once("block",g)};v.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return O(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),lE(this)}reorderedEvent(e){return O(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),O(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),aE(this,e)}replaceableTransaction(e){E(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new vm(this,this.provider);return b(r,ls,e),r}};ls=new WeakMap;let nu=vm;function mP(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function aE(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function lE(t){return{orphan:"drop-transaction",tx:t}}function yP(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class am extends Ru{constructor(r,n,s){super(r,r.provider);_(this,"interface");_(this,"fragment");_(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);K(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class uE extends Ru{constructor(r,n){super(r,r.provider);_(this,"error");K(this,{error:n})}}var ga;class wP extends oE{constructor(r,n,s){super(s,n);x(this,ga);b(this,ga,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?d(this,ga).getEvent(r.topics[0]):null;if(n)try{return new am(r,d(this,ga),n)}catch(s){return new uE(r,s)}return r})}}ga=new WeakMap;var yu;class lm extends nu{constructor(r,n,s){super(s,n);x(this,yu);b(this,yu,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new wP(d(this,yu),this.provider,s)}}yu=new WeakMap;class cE extends Rb{constructor(r,n,s,i){super(r,n,s);_(this,"log");K(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class vP extends cE{constructor(e,r,n,s,i){super(e,r,n,new am(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);K(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const B0=BigInt(0);function hE(t){return t&&typeof t.call=="function"}function fE(t){return t&&typeof t.estimateGas=="function"}function tf(t){return t&&typeof t.resolveName=="function"}function dE(t){return t&&typeof t.sendTransaction=="function"}function pE(t){if(t!=null){if(tf(t))return t;if(t.provider)return t.provider}}var wu;class bP{constructor(e,r,n){x(this,wu);_(this,"fragment");if(K(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=$i(e.runner,"resolveName"),i=tf(s)?s:null;b(this,wu,async function(){const o=await Promise.all(r.inputs.map((a,l)=>n[l]==null?null:a.walkAsync(n[l],(c,h)=>c==="address"?Array.isArray(h)?Promise.all(h.map(f=>mt(f,i))):mt(h,i):h)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return d(this,wu)}}wu=new WeakMap;function $i(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ui(t){return t==null?null:t.provider||null}async function gE(t,e){const r=lt.dereference(t,"overrides");E(typeof r=="object","invalid overrides parameter","overrides",t);const n=mh(r);return E(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),E(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function AP(t,e,r){const n=$i(t,"resolveName"),s=tf(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(a,l)=>(l=lt.dereference(l,a),a==="address"?mt(l,s):l))))}function EP(t){const e=async function(o){const a=await gE(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await mt(a.from,pE(t.runner)));const l=t.interface,u=z(a.value||B0,"overrides.value")===B0,c=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!c&&!u&&E(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),E(l.fallback||c,"cannot send data to receive-only contract","overrides.data",a.data);const h=l.receive||l.fallback&&l.fallback.payable;return E(h||u,"cannot send value to non-payable fallback","overrides.value",a.value),E(l.fallback||c,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=$i(t.runner,"call");O(hE(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(u){throw Qg(u)&&u.data?t.interface.makeError(u.data,l):u}},n=async function(o){const a=t.runner;O(dE(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),u=ui(t.runner);return new lm(t.interface,u,l)},s=async function(o){const a=$i(t.runner,"estimateGas");return O(fE(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return K(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function kP(t,e){const r=function(...u){const c=t.interface.getFunction(e,u);return O(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),c},n=async function(...u){const c=r(...u);let h={};if(c.inputs.length+1===u.length&&(h=await gE(u.pop()),h.from&&(h.from=await mt(h.from,pE(t.runner)))),c.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await AP(t.runner,c.inputs,u);return Object.assign({},h,await dt({to:t.getAddress(),data:t.interface.encodeFunctionData(c,f)}))},s=async function(...u){const c=await a(...u);return c.length===1?c[0]:c},i=async function(...u){const c=t.runner;O(dE(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await c.sendTransaction(await n(...u)),f=ui(t.runner);return new lm(t.interface,f,h)},o=async function(...u){const c=$i(t.runner,"estimateGas");return O(fE(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await n(...u))},a=async function(...u){const c=$i(t.runner,"call");O(hE(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await n(...u);let f="0x";try{f=await c.call(h)}catch(v){throw Qg(v)&&v.data?t.interface.makeError(v.data,h):v}const p=r(...u);return t.interface.decodeFunctionResult(p,f)},l=async(...u)=>r(...u).constant?await s(...u):await i(...u);return K(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return O(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function _P(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return O(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new bP(t,r(...s),s)};return K(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return O(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const yh=Symbol.for("_ethersInternal_contract"),mE=new WeakMap;function SP(t,e){mE.set(t[yh],e)}function Ft(t){return mE.get(t[yh])}function xP(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function um(t,e){let r,n=null;if(Array.isArray(e)){const i=function(o){if(ge(o,32))return o;const a=t.interface.getEvent(o);return E(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?ge(e,32)?r=[e]:(n=t.interface.getEvent(e),E(n,"unknown fragment","event",e),r=[n.topicHash]):xP(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):E(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function dl(t,e){const{subs:r}=Ft(t);return r.get((await um(t,e)).tag)||null}async function U0(t,e,r){const n=ui(t.runner);O(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await um(t,r),{addr:a,subs:l}=Ft(t);let u=l.get(i);if(!u){const h={address:a||t,topics:o},f=A=>{let g=s;if(g==null)try{g=t.interface.getEvent(A.topics[0])}catch{}if(g){const m=g,w=s?t.interface.decodeEventLog(s,A.data,A.topics):[];Pp(t,r,w,k=>new vP(t,k,r,m,A))}else Pp(t,r,[],m=>new cE(t,m,r,A))};let p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(h,f))},stop:async()=>{if(p.length==0)return;let A=p;p=[],await Promise.all(A),n.off(h,f)}},l.set(i,u)}return u}let Cp=Promise.resolve();async function CP(t,e,r,n){await Cp;const s=await dl(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const l=Array.from(r);n&&l.push(n(a?null:o));try{o.call(t,...l)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ft(t).subs.delete(s.tag)),i>0}async function Pp(t,e,r,n){try{await Cp}catch{}const s=CP(t,e,r,n);return Cp=s,await s}const oc=["then"];var mw;mw=yh;const Ol=class Ol{constructor(e,r,n,s){_(this,"target");_(this,"interface");_(this,"runner");_(this,"filters");_(this,mw);_(this,"fallback");E(typeof e=="string"||AA(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=xp.from(r);K(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,yh,{value:{}});let o,a=null,l=null;if(s){const h=ui(n);l=new lm(this.interface,h,s)}let u=new Map;if(typeof e=="string")if(ge(e))a=e,o=Promise.resolve(e);else{const h=$i(n,"resolveName");if(!tf(h))throw ve("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(f=>{if(f==null)throw ve("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ft(this).addr=f,f})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return Ft(this).addr=h,h});SP(this,{addrPromise:o,addr:a,deployTx:l,subs:u});const c=new Proxy({},{get:(h,f,p)=>{if(typeof f=="symbol"||oc.indexOf(f)>=0)return Reflect.get(h,f,p);try{return this.getEvent(f)}catch(v){if(!Ye(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(h,f)=>oc.indexOf(f)>=0?Reflect.has(h,f):Reflect.has(h,f)||this.interface.hasEvent(String(f))});return K(this,{filters:c}),K(this,{fallback:i.receive||i.fallback?EP(this):null}),new Proxy(this,{get:(h,f,p)=>{if(typeof f=="symbol"||f in h||oc.indexOf(f)>=0)return Reflect.get(h,f,p);try{return h.getFunction(f)}catch(v){if(!Ye(v,"INVALID_ARGUMENT")||v.argument!=="key")throw v}},has:(h,f)=>typeof f=="symbol"||f in h||oc.indexOf(f)>=0?Reflect.has(h,f):h.interface.hasFunction(f)})}connect(e){return new Ol(this.target,this.interface,e)}attach(e){return new Ol(e,this.interface,this.runner)}async getAddress(){return await Ft(this).addrPromise}async getDeployedCode(){const e=ui(this.runner);O(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=ui(this.runner);return O(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ft(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),kP(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),_P(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Ft(this),o=s||await i,{fragment:a,topics:l}=await um(this,e),u={address:o,topics:l,fromBlock:r,toBlock:n},c=ui(this.runner);return O(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(u)).map(h=>{let f=a;if(f==null)try{f=this.interface.getEvent(h.topics[0])}catch{}if(f)try{return new am(h,this.interface,f)}catch(p){return new uE(h,p)}return new Ru(h,c)})}async on(e,r){const n=await U0(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await U0(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Pp(this,e,r,null)}async listenerCount(e){if(e){const s=await dl(this,e);return s?s.listeners.length:0}const{subs:r}=Ft(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await dl(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Ft(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await dl(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ft(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await dl(this,e);if(!r)return this;r.stop(),Ft(this).subs.delete(r.tag)}else{const{subs:r}=Ft(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Ol{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let Tp=Ol;function PP(){return Tp}class Cl extends PP(){}function Yf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):E(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class TP{constructor(e){_(this,"name");K(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const yE=new RegExp("^(ipfs)://(.*)$","i"),L0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),yE,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var us,Ei,cs,lo,Ch,wE;const Oo=class Oo{constructor(e,r,n){x(this,cs);_(this,"provider");_(this,"address");_(this,"name");x(this,us);x(this,Ei);K(this,{provider:e,address:r,name:n}),b(this,us,null),b(this,Ei,new Cl(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return d(this,us)==null&&b(this,us,(async()=>{try{return await d(this,Ei).supportsInterface("0x9061b923")}catch(e){if(Ye(e,"CALL_EXCEPTION"))return!1;throw b(this,us,null),e}})()),await d(this,us)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await N(this,cs,lo).call(this,"addr(bytes32)");return i==null||i===Jl?null:i}catch(i){if(Ye(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await N(this,cs,lo).call(this,"addr(bytes32,uint)",[i]);if(ge(o,20))return ue(o)}let r=null;for(const i of this.provider.plugins)if(i instanceof TP&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await N(this,cs,lo).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;O(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await N(this,cs,lo).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await N(this,cs,lo).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${m_("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;O(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<L0.length;n++){const s=r.match(L0[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=Yf(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(s[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=l[1],c=new Cl(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const y=await c.ownerOf(u);if(a!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(i==="erc1155"){const y=await c.balanceOf(a,u);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let h=await c[o](u);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),i==="erc1155"&&(h=h.replace("{id}",Rs(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=Yf(h)),e.push({type:"metadata-url",value:h});let f={};const p=await new Is(h).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const g=p.body;return g&&e.push({type:"!metadata",value:U(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let v=f.image;if(typeof v!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(yE)==null)return e.push({type:"!imageUrl-ipfs",value:v}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:v}),v=Yf(v)}return e.push({type:"url",value:v}),{linkage:e,url:v}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return O(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await N(s=Oo,Ch,wE).call(s,e,n);if(i!=null){const o=new Oo(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};us=new WeakMap,Ei=new WeakMap,cs=new WeakSet,lo=async function(e,r){r=(r||[]).slice();const n=d(this,Ei).interface;r.unshift(_p(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),O(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[GC(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await d(this,Ei)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ye(i,"CALL_EXCEPTION"))throw i}return null},Ch=new WeakSet,wE=async function(e,r){const n=await Oo.getEnsAddress(e);try{const i=await new Cl(n,["function resolver(bytes32) view returns (address)"],e).resolver(_p(r),{enableCcipRead:!0});return i===Jl?null:i}catch(s){throw s}return null},x(Oo,Ch);let wh=Oo;const D0=BigInt(0);function ne(t,e){return function(r){return r==null?e:t(r)}}function su(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function Iu(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const o of e[s])if(o in r){i=o;break}}try{const o=t[s](r[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";O(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:r})}}return n}}function OP(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}E(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ha(t){return E(ge(t,!0),"invalid data","value",t),t}function qe(t){return E(ge(t,32),"invalid hash","value",t),t}const NP=Iu({address:ue,blockHash:qe,blockNumber:Y,data:Ha,index:Y,removed:ne(OP,!1),topics:su(qe),transactionHash:qe,transactionIndex:Y},{index:["logIndex"]});function RP(t){return NP(t)}const IP=Iu({hash:ne(qe),parentHash:qe,parentBeaconBlockRoot:ne(qe,null),number:Y,timestamp:Y,nonce:ne(Ha),difficulty:z,gasLimit:z,gasUsed:z,stateRoot:ne(qe,null),receiptsRoot:ne(qe,null),blobGasUsed:ne(z,null),excessBlobGas:ne(z,null),miner:ne(ue),prevRandao:ne(qe,null),extraData:Ha,baseFeePerGas:ne(z)},{prevRandao:["mixHash"]});function BP(t){const e=IP(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:vE(r)),e}const UP=Iu({transactionIndex:Y,blockNumber:Y,transactionHash:qe,address:ue,topics:su(qe),data:Ha,index:Y,blockHash:qe},{index:["logIndex"]});function LP(t){return UP(t)}const DP=Iu({to:ne(ue,null),from:ne(ue,null),contractAddress:ne(ue,null),index:Y,root:ne(U),gasUsed:z,blobGasUsed:ne(z,null),logsBloom:ne(Ha),blockHash:qe,hash:qe,logs:su(LP),blockNumber:Y,cumulativeGasUsed:z,effectiveGasPrice:ne(z),blobGasPrice:ne(z,null),status:ne(Y),type:ne(Y,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function FP(t){return DP(t)}function vE(t){t.to&&z(t.to)===D0&&(t.to="0x0000000000000000000000000000000000000000");const e=Iu({hash:qe,index:ne(Y,void 0),type:r=>r==="0x"||r==null?0:Y(r),accessList:ne(Ki,null),blobVersionedHashes:ne(su(qe,!0),null),authorizationList:ne(su(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:ue(r.address),chainId:z(r.chainId),nonce:z(r.nonce),signature:Ot.from(n)}},!1),null),blockHash:ne(qe,null),blockNumber:ne(Y,null),transactionIndex:ne(Y,null),from:ue,gasPrice:ne(z),maxPriorityFeePerGas:ne(z),maxFeePerGas:ne(z),maxFeePerBlobGas:ne(z,null),gasLimit:z,to:ne(ue,null),value:z,nonce:Y,data:Ha,creates:ne(ue,null),chainId:ne(z,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Sx(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Ot.from(t.signature):e.signature=Ot.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&z(e.blockHash)===D0&&(e.blockHash=null),e}const MP="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Bu{constructor(e){_(this,"name");K(this,{name:e})}clone(){return new Bu(this.name)}}class rf extends Bu{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);_(this,"effectiveBlock");_(this,"txBase");_(this,"txCreate");_(this,"txDataZero");_(this,"txDataNonzero");_(this,"txAccessListStorageKey");_(this,"txAccessListAddress");const s={effectiveBlock:r};function i(o,a){let l=(n||{})[o];l==null&&(l=a),E(typeof l=="number",`invalud value for ${o}`,"costs",n),s[o]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),K(this,s)}clone(){return new rf(this.effectiveBlock,this)}}class nf extends Bu{constructor(r,n){super("org.ethers.plugins.network.Ens");_(this,"address");_(this,"targetNetwork");K(this,{address:r||MP,targetNetwork:n??1})}clone(){return new nf(this.address,this.targetNetwork)}}var vu,bu;class jP extends Bu{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");x(this,vu);x(this,bu);b(this,vu,r),b(this,bu,n)}get url(){return d(this,vu)}get processFunc(){return d(this,bu)}clone(){return this}}vu=new WeakMap,bu=new WeakMap;const Zf=new Map;var ma,ya,hs;const No=class No{constructor(e,r){x(this,ma);x(this,ya);x(this,hs);b(this,ma,e),b(this,ya,z(r)),b(this,hs,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return d(this,ma)}set name(e){b(this,ma,e)}get chainId(){return d(this,ya)}set chainId(e){b(this,ya,z(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===z(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===z(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===z(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(d(this,hs).values())}attachPlugin(e){if(d(this,hs).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,hs).set(e.name,e.clone()),this}getPlugin(e){return d(this,hs).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new No(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new rf;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=Ki(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(zP(),e==null)return No.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=Zf.get(e);if(r)return r();if(typeof e=="bigint")return new No("unknown",e);E(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){E(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new No(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new nf(e.ensAddress,e.ensNetwork)),r}E(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=Zf.get(e);n&&E(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Zf.set(e,r)}};ma=new WeakMap,ya=new WeakMap,hs=new WeakMap;let en=No;function F0(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function M0(t){return new jP(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:F0(a.maxFee,9),maxPriorityFeePerGas:F0(a.maxPriorityFee,9)}}catch(i){O(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let j0=!1;function zP(){if(j0)return;j0=!0;function t(e,r,n){const s=function(){const i=new en(e,r);return n.ensNetwork!=null&&i.attachPlugin(new nf(null,n.ensNetwork)),i.attachPlugin(new rf),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};en.register(e,s),en.register(r,s),n.altNames&&n.altNames.forEach(i=>{en.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[M0("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[M0("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Op(t){return JSON.parse(JSON.stringify(t))}var wn,rr,fs,Wr,wa,Nc;class $P{constructor(e){x(this,wa);x(this,wn);x(this,rr);x(this,fs);x(this,Wr);b(this,wn,e),b(this,rr,null),b(this,fs,4e3),b(this,Wr,-2)}get pollingInterval(){return d(this,fs)}set pollingInterval(e){b(this,fs,e)}start(){d(this,rr)||(b(this,rr,d(this,wn)._setTimeout(N(this,wa,Nc).bind(this),d(this,fs))),N(this,wa,Nc).call(this))}stop(){d(this,rr)&&(d(this,wn)._clearTimeout(d(this,rr)),b(this,rr,null))}pause(e){this.stop(),e&&b(this,Wr,-2)}resume(){this.start()}}wn=new WeakMap,rr=new WeakMap,fs=new WeakMap,Wr=new WeakMap,wa=new WeakSet,Nc=async function(){try{const e=await d(this,wn).getBlockNumber();if(d(this,Wr)===-2){b(this,Wr,e);return}if(e!==d(this,Wr)){for(let r=d(this,Wr)+1;r<=e;r++){if(d(this,rr)==null)return;await d(this,wn).emit("block",r)}b(this,Wr,e)}}catch{}d(this,rr)!=null&&b(this,rr,d(this,wn)._setTimeout(N(this,wa,Nc).bind(this),d(this,fs)))};var ki,_i,ds;class cm{constructor(e){x(this,ki);x(this,_i);x(this,ds);b(this,ki,e),b(this,ds,!1),b(this,_i,r=>{this._poll(r,d(this,ki))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){d(this,ds)||(b(this,ds,!0),d(this,_i).call(this,-2),d(this,ki).on("block",d(this,_i)))}stop(){d(this,ds)&&(b(this,ds,!1),d(this,ki).off("block",d(this,_i)))}pause(e){this.stop()}resume(){this.start()}}ki=new WeakMap,_i=new WeakMap,ds=new WeakMap;var va,vn;class HP extends cm{constructor(r,n){super(r);x(this,va);x(this,vn);b(this,va,n),b(this,vn,-2)}pause(r){r&&b(this,vn,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(d(this,va));s!=null&&(d(this,vn)===-2?b(this,vn,s.number):s.number>d(this,vn)&&(n.emit(d(this,va),s.number),b(this,vn,s.number)))}}va=new WeakMap,vn=new WeakMap;var Ph;class GP extends cm{constructor(r,n){super(r);x(this,Ph);b(this,Ph,Op(n))}async _poll(r,n){throw new Error("@TODO")}}Ph=new WeakMap;var ba;class VP extends cm{constructor(r,n){super(r);x(this,ba);b(this,ba,n)}async _poll(r,n){const s=await n.getTransactionReceipt(d(this,ba));s&&n.emit(d(this,ba),s)}}ba=new WeakMap;var bn,Aa,Ea,ps,nr,Th,bE;class hm{constructor(e,r){x(this,Th);x(this,bn);x(this,Aa);x(this,Ea);x(this,ps);x(this,nr);b(this,bn,e),b(this,Aa,Op(r)),b(this,Ea,N(this,Th,bE).bind(this)),b(this,ps,!1),b(this,nr,-2)}start(){d(this,ps)||(b(this,ps,!0),d(this,nr)===-2&&d(this,bn).getBlockNumber().then(e=>{b(this,nr,e)}),d(this,bn).on("block",d(this,Ea)))}stop(){d(this,ps)&&(b(this,ps,!1),d(this,bn).off("block",d(this,Ea)))}pause(e){this.stop(),e&&b(this,nr,-2)}resume(){this.start()}}bn=new WeakMap,Aa=new WeakMap,Ea=new WeakMap,ps=new WeakMap,nr=new WeakMap,Th=new WeakSet,bE=async function(e){if(d(this,nr)===-2)return;const r=Op(d(this,Aa));r.fromBlock=d(this,nr)+1,r.toBlock=e;const n=await d(this,bn).getLogs(r);if(n.length===0){d(this,nr)<e-60&&b(this,nr,e-60);return}for(const s of n)d(this,bn).emit(d(this,Aa),s),b(this,nr,s.blockNumber)};const KP=BigInt(2),QP=10;function ac(t){return t&&typeof t.then=="function"}function Rc(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class AE{constructor(e){_(this,"name");K(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function WP(t){return JSON.parse(JSON.stringify(t))}function Np(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Xf(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(ge(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Rc("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Rc("orphan",r),filter:WP(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?Np(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],o=a=>{ge(a)?s.push(a):i.push((async()=>{s.push(await mt(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=Np(s.map(a=>a.toLowerCase()))}return{filter:n,tag:Rc("event",n),type:"event"}}E(!1,"unknown ProviderEvent","event",t)}function ed(){return new Date().getTime()}const JP={cacheTimeout:250,pollingInterval:4e3};var it,gs,ot,ka,$t,Si,ms,An,Au,sr,_a,Sa,ee,Lt,Rp,Ip,pl,Bp,gl,Ic;class qP{constructor(e,r){x(this,ee);x(this,it);x(this,gs);x(this,ot);x(this,ka);x(this,$t);x(this,Si);x(this,ms);x(this,An);x(this,Au);x(this,sr);x(this,_a);x(this,Sa);if(b(this,Sa,Object.assign({},JP,r||{})),e==="any")b(this,Si,!0),b(this,$t,null);else if(e){const n=en.from(e);b(this,Si,!1),b(this,$t,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else b(this,Si,!1),b(this,$t,null);b(this,An,-1),b(this,ms,new Map),b(this,it,new Map),b(this,gs,new Map),b(this,ot,null),b(this,ka,!1),b(this,Au,1),b(this,sr,new Map),b(this,_a,!1)}get pollingInterval(){return d(this,Sa).pollingInterval}get provider(){return this}get plugins(){return Array.from(d(this,gs).values())}attachPlugin(e){if(d(this,gs).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return d(this,gs).set(e.name,e.connect(this)),this}getPlugin(e){return d(this,gs).get(e)||null}get disableCcipRead(){return d(this,_a)}set disableCcipRead(e){b(this,_a,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],u=l.replace("{sender}",s).replace("{data}",i),c=new Is(u);l.indexOf("{data}")===-1&&(c.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:a,urls:n});let h="unknown error",f;try{f=await c.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:p})}catch{}O(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:h}}),o.push(h)}O(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new gP(BP(e),this)}_wrapLog(e,r){return new Ru(RP(e),this)}_wrapTransactionReceipt(e,r){return new oE(FP(e),this)}_wrapTransactionResponse(e,r){return new nu(vE(e),this)}_detectNetwork(){O(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){O(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Y(await N(this,ee,Lt).call(this,{method:"getBlockNumber"}),"%response");return d(this,An)>=0&&b(this,An,e),e}_getAddress(e){return mt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(ge(e))return ge(e,32)?e:Tr(e);if(typeof e=="bigint"&&(e=Y(e,"blockTag")),typeof e=="number")return e>=0?Tr(e):d(this,An)>=0?Tr(d(this,An)+e):this.getBlockNumber().then(r=>Tr(r+e));E(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?Np(l.map(u=>u.toLowerCase())):l.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(l,u,c)=>{let h;switch(l.length){case 0:break;case 1:h=l[0];break;default:l.sort(),h=l}if(n&&(u!=null||c!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),r.length&&(f.topics=r),u&&(f.fromBlock=u),c&&(f.toBlock=c),n&&(f.blockHash=n),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=>s(l[0],l[1],l[2])):s(i,o,a)}_getTransactionRequest(e){const r=mh(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=mt(r[s],this);ac(i)?n.push(async function(){r[s]=await i}()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);ac(s)?n.push(async function(){r.blockTag=await s}()):r.blockTag=s}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(d(this,$t)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw d(this,$t)===s&&b(this,$t,null),i}})();return b(this,$t,s),(await s).clone()}const e=d(this,$t),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(d(this,Si)?(this.emit("network",n,r),d(this,$t)===e&&b(this,$t,Promise.resolve(n))):O(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await dt({_block:N(this,ee,Bp).call(this,"latest",!1),gasPrice:(async()=>{try{const c=await N(this,ee,Lt).call(this,{method:"getGasPrice"});return z(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const c=await N(this,ee,Lt).call(this,{method:"getPriorityFee"});return z(c,"%response")}catch{}return null})()});let a=null,l=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(l=o??BigInt("1000000000"),a=u.baseFeePerGas*KP+l),new I0(i,a,l)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new Is(n.url),i=await n.processFunc(r,this,s);return new I0(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return ac(r)&&(r=await r),z(await N(this,ee,Lt).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await dt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await N(this,ee,Ip).call(this,N(this,ee,Rp).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return z(await N(this,ee,pl).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Y(await N(this,ee,pl).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return U(await N(this,ee,pl).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=z(r,"position");return U(await N(this,ee,pl).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await dt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=uh.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await dt({network:this.getNetwork(),params:N(this,ee,Bp).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await dt({network:this.getNetwork(),params:N(this,ee,Lt).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await dt({network:this.getNetwork(),params:N(this,ee,Lt).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await N(this,ee,Lt).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await dt({network:this.getNetwork(),result:N(this,ee,Lt).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:U(r)}async getLogs(e){let r=this._getFilter(e);ac(r)&&(r=await r);const{network:n,params:s}=await dt({network:this.getNetwork(),params:N(this,ee,Lt).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){O(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await wh.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=ue(e);const r=_p(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await wh.getEnsAddress(this),i=await new Cl(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===Jl)return null;const a=await new Cl(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Ye(n,"BAD_DATA")&&n.value==="0x"||Ye(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const l=async u=>{try{const c=await this.getTransactionReceipt(e);if(c!=null&&u-c.blockNumber+1>=s){i(c),a&&(clearTimeout(a),a=null);return}}catch(c){console.log("EEE",c)}this.once("block",l)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(ve("timeout","TIMEOUT",{reason:"timeout"})))},n)),l(await this.getBlockNumber())})}async waitForBlock(e){O(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=d(this,sr).get(e);r&&(r.timer&&clearTimeout(r.timer),d(this,sr).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Ja(this,Au)._++,s=()=>{d(this,sr).delete(n),e()};if(this.paused)d(this,sr).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);d(this,sr).set(n,{timer:i,func:s,time:ed()})}return n}_forEachSubscriber(e){for(const r of d(this,it).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new AE(e.type);case"block":{const r=new $P(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new HP(this,e.type);case"event":return new hm(this,e.filter);case"transaction":return new VP(this,e.hash);case"orphan":return new GP(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of d(this,it).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),d(this,ot)!=null&&r.pause(d(this,ot));break}}async on(e,r){const n=await N(this,ee,Ic).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,d(this,ot)!=null&&n.subscriber.pause(d(this,ot))),this}async once(e,r){const n=await N(this,ee,Ic).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,d(this,ot)!=null&&n.subscriber.pause(d(this,ot))),this}async emit(e,...r){const n=await N(this,ee,gl).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new Rb(this,o?null:i,e);try{i.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),d(this,it).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await N(this,ee,gl).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of d(this,it).values())r+=n.length;return r}async listeners(e){if(e){const n=await N(this,ee,gl).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of d(this,it).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await N(this,ee,gl).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),d(this,it).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await N(this,ee,Ic).call(this,e);n&&s.stop(),d(this,it).delete(r)}else for(const[r,{started:n,subscriber:s}]of d(this,it))n&&s.stop(),d(this,it).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return d(this,ka)}destroy(){this.removeAllListeners();for(const e of d(this,sr).keys())this._clearTimeout(e);b(this,ka,!0)}get paused(){return d(this,ot)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(b(this,An,-1),d(this,ot)!=null){if(d(this,ot)==!!e)return;O(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),b(this,ot,!!e);for(const r of d(this,sr).values())r.timer&&clearTimeout(r.timer),r.time=ed()-r.time}resume(){if(d(this,ot)!=null){this._forEachSubscriber(e=>e.resume()),b(this,ot,null);for(const e of d(this,sr).values()){let r=e.time;r<0&&(r=0),e.time=ed(),setTimeout(e.func,r)}}}}it=new WeakMap,gs=new WeakMap,ot=new WeakMap,ka=new WeakMap,$t=new WeakMap,Si=new WeakMap,ms=new WeakMap,An=new WeakMap,Au=new WeakMap,sr=new WeakMap,_a=new WeakMap,Sa=new WeakMap,ee=new WeakSet,Lt=async function(e){const r=d(this,Sa).cacheTimeout;if(r<0)return await this._perform(e);const n=Rc(e.method,e);let s=d(this,ms).get(n);return s||(s=this._perform(e),d(this,ms).set(n,s),setTimeout(()=>{d(this,ms).get(n)===s&&d(this,ms).delete(n)},r)),await s},Rp=async function(e,r,n){O(n<QP,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=mh(e);try{return U(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&Qg(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Te(i.data,0,4)==="0x556f1830"){const o=i.data,a=await mt(s.to,this);let l;try{l=tT(Te(i.data,4))}catch(h){O(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}O(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(s,l.calldata,l.urls);O(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:l.errorArgs}});const c={to:a,data:Ae([l.selector,eT([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const h=await N(this,ee,Rp).call(this,c,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:h}),h}}throw i}},Ip=async function(e){const{value:r}=await dt({network:this.getNetwork(),value:e});return r},pl=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await N(this,ee,Ip).call(this,N(this,ee,Lt).call(this,Object.assign(e,{address:s,blockTag:i})))},Bp=async function(e,r){if(ge(e,32))return await N(this,ee,Lt).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await N(this,ee,Lt).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},gl=async function(e,r){let n=await Xf(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Xf({orphan:"drop-log",log:r[0]},this)),d(this,it).get(n.tag)||null},Ic=async function(e){const r=await Xf(e,this),n=r.tag;let s=d(this,it).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},d(this,it).set(n,s)),s};function YP(t,e){try{const r=Up(t,e);if(r)return oh(r)}catch{}return null}function Up(t,e){if(t==="0x")return null;try{const r=Y(Te(t,e,e+32)),n=Y(Te(t,r,r+32));return Te(t,r+32,r+32+n)}catch{}return null}function z0(t){const e=De(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function ZP(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const XP=new Uint8Array([]);function eT(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(XP),r+=32;for(let n=0;n<t.length;n++){const s=X(t[n]);e[n]=z0(r),e.push(z0(s.length)),e.push(ZP(s)),r+=32+Math.ceil(s.length/32)*32}return Ae(e)}const $0="0x0000000000000000000000000000000000000000000000000000000000000000";function tT(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};O(Fo(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Te(t,0,32);O(Te(r,0,12)===Te($0,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Te(r,12);try{const n=[],s=Y(Te(t,32,64)),i=Y(Te(t,s,s+32)),o=Te(t,s+32);for(let a=0;a<i;a++){const l=YP(o,a*32);if(l==null)throw new Error("abort");n.push(l)}e.urls=n}catch{O(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Up(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{O(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}O(Te(t,100,128)===Te($0,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Te(t,96,100);try{const n=Up(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{O(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function $s(t,e){if(t.provider)return t.provider;O(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function H0(t,e){let r=mh(e);if(r.to!=null&&(r.to=mt(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),mt(n,t)]).then(([s,i])=>(E(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await dt(r)}class rT{constructor(e){_(this,"provider");K(this,{provider:e||null})}async getNonce(e){return $s(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await H0(this,e)}async populateTransaction(e){const r=$s(this,"populateTransaction"),n=await H0(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=z(n.chainId);E(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?E(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&E(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();O(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(O(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):O(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await dt(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await $s(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return $s(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return $s(this,"call").call(await this.populateCall(e))}async resolveName(e){return await $s(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=$s(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=uh.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){O(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function nT(t){return JSON.parse(JSON.stringify(t))}var ht,Jr,xi,ys,Ci,xa,Bs,Lp,Dp;class EE{constructor(e){x(this,Bs);x(this,ht);x(this,Jr);x(this,xi);x(this,ys);x(this,Ci);x(this,xa);b(this,ht,e),b(this,Jr,null),b(this,xi,N(this,Bs,Lp).bind(this)),b(this,ys,!1),b(this,Ci,null),b(this,xa,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){d(this,ys)||(b(this,ys,!0),N(this,Bs,Lp).call(this,-2))}stop(){d(this,ys)&&(b(this,ys,!1),b(this,xa,!0),N(this,Bs,Dp).call(this),d(this,ht).off("block",d(this,xi)))}pause(e){e&&N(this,Bs,Dp).call(this),d(this,ht).off("block",d(this,xi))}resume(){this.start()}}ht=new WeakMap,Jr=new WeakMap,xi=new WeakMap,ys=new WeakMap,Ci=new WeakMap,xa=new WeakMap,Bs=new WeakSet,Lp=async function(e){try{d(this,Jr)==null&&b(this,Jr,this._subscribe(d(this,ht)));let r=null;try{r=await d(this,Jr)}catch(i){if(!Ye(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){b(this,Jr,null),d(this,ht)._recoverSubscriber(this,this._recover(d(this,ht)));return}const n=await d(this,ht).getNetwork();if(d(this,Ci)||b(this,Ci,n),d(this,Ci).chainId!==n.chainId)throw new Error("chaid changed");if(d(this,xa))return;const s=await d(this,ht).send("eth_getFilterChanges",[r]);await this._emitResults(d(this,ht),s)}catch(r){console.log("@TODO",r)}d(this,ht).once("block",d(this,xi))},Dp=function(){const e=d(this,Jr);e&&(b(this,Jr,null),e.then(r=>{d(this,ht).destroyed||d(this,ht).send("eth_uninstallFilter",[r])}))};var Pi;class sT extends EE{constructor(r,n){super(r);x(this,Pi);b(this,Pi,nT(n))}_recover(r){return new hm(r,d(this,Pi))}async _subscribe(r){return await r.send("eth_newFilter",[d(this,Pi)])}async _emitResults(r,n){for(const s of n)r.emit(d(this,Pi),r._wrapLog(s,r._network))}}Pi=new WeakMap;class iT extends EE{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const oT="bigint,boolean,function,number,string,symbol".split(/,/g);function Bc(t){if(t==null||oT.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Bc);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function aT(t){return new Promise(e=>{setTimeout(e,t)})}function Xi(t){return t&&t.toLowerCase()}function G0(t){return t&&typeof t.pollingInterval=="number"}const kE={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class td extends rT{constructor(r,n){super(r);_(this,"address");n=ue(n),K(this,{address:n})}connect(r){O(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=Bc(r),s=[];if(n.from){const o=n.from;s.push((async()=>{const a=await mt(o,this.provider);E(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;s.push((async()=>{n.to=await mt(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{const a=[1e3,100];let l=0;const u=async()=>{try{const c=await this.provider.getTransaction(s);if(c!=null){i(c.replaceableTransaction(n));return}}catch(c){if(Ye(c,"CANCELLED")||Ye(c,"BAD_DATA")||Ye(c,"NETWORK_ERROR")||Ye(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=s,o(c);return}if(Ye(c,"INVALID_ARGUMENT")&&(l++,c.info==null&&(c.info={}),c.info.sendTransactionHash=s,l>10)){o(c);return}this.provider.emit("error",ve("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(r){const n=Bc(r);if(n.from){const i=await mt(n.from,this.provider);E(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?Pn(r):r;return await this.provider.send("personal_sign",[U(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=Bc(s),o=await gh.resolveNames(r,n,i,async a=>{const l=await mt(a);return E(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(gh.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Pn(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),U(n)])}}var Ti,Ca,En,qr,Sr,ir,Et,Eu,Fp;class lT extends qP{constructor(r,n){super(r,n);x(this,Eu);x(this,Ti);x(this,Ca);x(this,En);x(this,qr);x(this,Sr);x(this,ir);x(this,Et);b(this,Ca,1),b(this,Ti,Object.assign({},kE,n||{})),b(this,En,[]),b(this,qr,null),b(this,ir,null),b(this,Et,null);{let i=null;const o=new Promise(a=>{i=a});b(this,Sr,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(E(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&b(this,ir,en.from(r))):s&&(E(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),b(this,ir,s))}_getOption(r){return d(this,Ti)[r]}get _network(){return O(d(this,ir),"network is not available yet","NETWORK_ERROR"),d(this,ir)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&z(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(d(this,ir))return d(this,ir)}else return r;return d(this,Et)?await d(this,Et):this.ready?(b(this,Et,(async()=>{try{const n=en.from(z(await this.send("eth_chainId",[])));return b(this,Et,null),n}catch(n){throw b(this,Et,null),n}})()),await d(this,Et)):(b(this,Et,(async()=>{const n={id:Ja(this,Ca)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],b(this,Et,null)}catch(i){throw b(this,Et,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return en.from(z(s.result));throw this.getRpcError(n,s)})()),await d(this,Et))}_start(){d(this,Sr)==null||d(this,Sr).resolve==null||(d(this,Sr).resolve(),b(this,Sr,null),(async()=>{for(;d(this,ir)==null&&!this.destroyed;)try{b(this,ir,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ve("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await aT(1e3)}N(this,Eu,Fp).call(this)})())}async _waitUntilReady(){if(d(this,Sr)!=null)return await d(this,Sr).promise}_getSubscriber(r){return r.type==="pending"?new iT(this):r.type==="event"?this._getOption("polling")?new hm(this,r.filter):new sT(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new AE("orphan"):super._getSubscriber(r)}get ready(){return d(this,Sr)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Tr(z(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=U(r[s]))}),r.accessList&&(n.accessList=Ki(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{const i=SA(s);return{address:i.address,nonce:Tr(i.nonce),chainId:Tr(i.chainId),yParity:Tr(i.signature.yParity),r:Tr(i.signature.r),s:Tr(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Xi(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Xi(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Xi(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Xi(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Xi):r.filter.address=Xi(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return ve("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(l.match(/nonce/i)&&l.match(/too low/i))return ve("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const l=Mp(i),u=ru.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],l?l.data:null);return u.info={error:i,payload:r},u}const o=JSON.stringify(cT(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return ve("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const l=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return ve("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return ve("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return ve("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(o.match(/only replay-protected/i))return ve("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:l,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?ve("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):ve("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(ve("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=Ja(this,Ca)._++,i=new Promise((o,a)=>{d(this,En).push({resolve:o,reject:a,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return N(this,Eu,Fp).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new td(this,i[r])}const{accounts:s}=await dt({network:this.getNetwork(),accounts:n});r=ue(r);for(const i of s)if(ue(i)===r)return new td(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new td(this,n))}destroy(){d(this,qr)&&(clearTimeout(d(this,qr)),b(this,qr,null));for(const{payload:r,reject:n}of d(this,En))n(ve("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));b(this,En,[]),super.destroy()}}Ti=new WeakMap,Ca=new WeakMap,En=new WeakMap,qr=new WeakMap,Sr=new WeakMap,ir=new WeakMap,Et=new WeakMap,Eu=new WeakSet,Fp=function(){if(d(this,qr))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");b(this,qr,setTimeout(()=>{b(this,qr,null);const n=d(this,En);for(b(this,En,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==d(this,Ti).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>d(this,Ti).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:u}of s){if(this.destroyed){l(ve("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const c=o.filter(h=>h.id===u.id)[0];if(c==null){const h=ve("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",h),l(h);continue}if("error"in c){l(this.getRpcError(u,c));continue}a(c.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},r))};var ws;class uT extends lT{constructor(r,n){super(r,n);x(this,ws);let s=this._getOption("pollingInterval");s==null&&(s=kE.pollingInterval),b(this,ws,s)}_getSubscriber(r){const n=super._getSubscriber(r);return G0(n)&&(n.pollingInterval=d(this,ws)),n}get pollingInterval(){return d(this,ws)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");b(this,ws,r),this._forEachSubscriber(n=>{G0(n)&&(n.pollingInterval=d(this,ws))})}}ws=new WeakMap;function Mp(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&ge(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=Mp(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Mp(JSON.parse(t))}catch{}return null}function jp(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)jp(t[r],e);if(typeof t=="string")try{return jp(JSON.parse(t),e)}catch{}}}function cT(t){const e=[];return jp(t,e),e}var Pa,Ta;const ri=class ri extends uT{constructor(r,n,s){const i=Object.assign({},s??{},{batchMaxCount:1});E(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);x(this,Pa);x(this,Ta);b(this,Ta,null),s&&s.providerInfo&&b(this,Ta,s.providerInfo),b(this,Pa,async(o,a)=>{const l={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const u=await r.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const c=new Error(u.message);throw c.code=u.code,c.data=u.data,c.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}get providerInfo(){return d(this,Ta)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){E(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await d(this,Pa).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await d(this,Pa).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new ri(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const s=r.anyProvider;if(s&&n.ethereum)return new ri(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=r.timeout?r.timeout:300;return i===0?null:await new Promise((o,a)=>{let l=[];const u=f=>{l.push(f.detail),s&&c()},c=()=>{if(clearTimeout(h),l.length)if(r&&r.filter){const f=r.filter(l.map(p=>Object.assign({},p.info)));if(f==null)o(null);else if(f instanceof ri)o(f);else{let p=null;if(f.uuid&&(p=l.filter(y=>f.uuid===y.info.uuid)[0]),p){const{provider:v,info:y}=p;o(new ri(v,void 0,{providerInfo:y}))}else a(ve("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:p}=l[0];o(new ri(f,void 0,{providerInfo:p}))}else o(null);n.removeEventListener("eip6963:announceProvider",u)},h=setTimeout(()=>{c()},i);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};Pa=new WeakMap,Ta=new WeakMap;let vh=ri;const hT="0x46914D5DC59598801e435AF2a08928Da87C60dF0",fT=25;async function zp(){try{if(typeof window>"u"||!window.ethereum)throw new Error("No injected wallet found (MetaMask/compatible)");await window.ethereum.request({method:"eth_requestAccounts"});const t=new vh(window.ethereum),e=await t.getSigner(),r=await e.getAddress();return{provider:t,signer:e,address:r}}catch(t){throw new Error((t==null?void 0:t.message)||"Failed to connect injected wallet")}}async function dT(t,e){const r=L_(e),n=await t.sendTransaction({to:hT,value:r});return await n.wait(),n.hash}async function pT(t){return(await t.getNetwork()).chainId}const gT="modulepreload",mT=function(t){return"/"+t},V0={},yT=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=mT(l),l in V0)return;V0[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gT,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},wT={25:"https://evm-cronos.crypto.org"};async function vT(){const e=(await yT(()=>import("./index-BNn4W2J6.js"),[])).default,r=new e({rpc:wT});await r.enable();const s=await new vh(r).getSigner(),i=await s.getAddress();return{provider:r,signer:s,address:i}}function sf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function bT(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const AT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ET extends fm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class K0 extends fm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Q0 extends fm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $p;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($p||($p={}));class kT{constructor(e,{headers:r={},customFetch:n,region:s=$p.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=AT(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bT(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let A=c;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),c?(A=o.signal,c.addEventListener("abort",()=>o.abort())):A=o.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:y,signal:A}).catch(C=>{throw new ET(C)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new K0(g);if(!g.ok)throw new Q0(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return w==="application/json"?k=yield g.json():w==="application/octet-stream"||w==="application/pdf"?k=yield g.blob():w==="text/event-stream"?k=g:w==="multipart/form-data"?k=yield g.formData():k=yield g.text(),{data:k,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof Q0||a instanceof K0?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var _T=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ST=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var p;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const y=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),A=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&A&&A.length>1&&(l=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&y===""?(u=204,c="No Content"):o={message:y}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new _T(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var u,c,h,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,y&&(a+=` (${y})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},xT=class extends ST{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const W0=new RegExp("[,()]");var uo=class extends xT{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&W0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&W0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},CT=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new uo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(i.length>0){const o=[...new Set(i)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new uo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new uo({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new uo({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new uo({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},PT=class _E{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CT(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _E(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new uo({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class TT{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const OT="2.89.0",NT=`realtime-js/${OT}`,SE="1.0.0",RT="2.0.0",J0=SE,Hp=1e4,IT=1e3,BT=100;var qn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qn||(qn={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var Cr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cr||(Cr={}));var Gp;(function(t){t.websocket="websocket"})(Gp||(Gp={}));var Zs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zs||(Zs={}));class UT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,a.length),v.setUint8(y++,o.length),v.setUint8(y++,u.length),v.setUint8(y++,h.length),v.setUint8(y++,r),Array.from(l,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(y++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(y++,g.charCodeAt(0)));var A=new Uint8Array(p.byteLength+n.byteLength);return A.set(new Uint8Array(p),0),A.set(new Uint8Array(n),p.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class xE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const q0=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=LT(o,t,e,s),i),{}):{}},LT=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?CE(i,o):Vp(o)},CE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return jT(e,r)}switch(t){case de.bool:return DT(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return FT(e);case de.json:case de.jsonb:return MT(e);case de.timestamp:return zT(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Vp(e);default:return Vp(e)}},Vp=t=>t,DT=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FT=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},MT=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},jT=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>CE(e,a))}return t},zT=t=>typeof t=="string"?t.replace(" ","T"):t,PE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rd{constructor(e,r,n={},s=Hp){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Y0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Y0||(Y0={}));class Pl{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Pl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(A=>A.presence_ref),p=h.map(A=>A.presence_ref),v=c.filter(A=>p.indexOf(A.presence_ref)<0),y=h.filter(A=>f.indexOf(A.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Z0||(Z0={}));var Tl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tl||(Tl={}));var ln;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ln||(ln={}));class Po{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,Cr.join,this.params,this.timeout),this.rejoinTimer=new xE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cr.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Pl(this),this.broadcastEndpointURL=PE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Tl.PRESENCE]&&this.bindings[Tl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ln.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ln.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e==null||e(ln.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,A=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let m=0;m<A;m++){const w=y[m],{filter:{event:k,schema:C,table:S,filter:P}}=w,T=p&&p[m];if(T&&T.event===k&&Po.isFilterValueEqual(T.schema,C)&&Po.isFilterValueEqual(T.table,S)&&Po.isFilterValueEqual(T.filter,P))g.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=Fe.errored,e==null||e(ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(ln.SUBSCRIBED);return}}).receive("error",p=>{this.state=Fe.errored,e==null||e(ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Fe.joined&&e===Tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new rd(this,Cr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BT){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Cr;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,y,A;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((A=(y=p.filter)===null||y===void 0?void 0:y.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,y,A,g,m,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const k=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:A,commit_timestamp:g,type:m,errors:w}=v;f=Object.assign(Object.assign({},{schema:y,table:A,commit_timestamp:g,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Po.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cr.close,{},e)}_onError(e){this._on(Cr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=q0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=q0(e.columns,e.old_record)),r}}const nd=()=>{},lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$T=[1e3,2e3,5e3,1e4],HT=1e4,GT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VT{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hp,this.transport=null,this.heartbeatIntervalMs=lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nd,this.ref=0,this.reconnectTimer=null,this.vsn=J0,this.logger=nd,this.conn=null,this.sendBuffer=[],this.serializer=new UT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Gp.websocket}`,this.httpEndpoint=PE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TT.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return Zs.Connecting;case qn.open:return Zs.Open;case qn.closing:return Zs.Closing;default:return Zs.Closed}}isConnected(){return this.connectionState()===Zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Po(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(IT,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([GT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:NT};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Cr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new xE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,h,f,p;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Hp,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:lc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:nd,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:J0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>$T[v-1]||HT,this.vsn){case SE:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,y)=>y(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,y)=>y(JSON.parse(v));break;case RT:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var iu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KT(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function QT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function WT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=KT(t.baseUrl,n,s),l=await QT(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&c?JSON.parse(c):c;if(!u.ok){const p=h?f:void 0,v=p==null?void 0:p.error;throw new iu((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function uc(t){return t.join("")}var JT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:uc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uc(t.namespace)}`}),!0}catch(e){if(e instanceof iu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof iu&&r.status===409)return;throw r}}};function eo(t){return t.join("")}var qT=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof iu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof iu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},YT=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=WT({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new JT(this.client,e),this.tableOps=new qT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},of=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ZT=class extends of{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kp=class extends of{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const dm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XT=()=>Response,Qp=t=>{if(Array.isArray(t))return t.map(r=>Qp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Qp(n)}),e},e2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},t2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function r2(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2(t){var e=r2(t,"string");return ou(e)=="symbol"?e:e+""}function s2(t,e,r){return(e=n2(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X0(Object(r),!0).forEach(function(n){s2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const sd=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},i2=async(t,e,r)=>{t instanceof await XT()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new ZT(sd(n),s,i))}).catch(n=>{e(new Kp(sd(n),n))}):e(new Kp(sd(t),t))},o2=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(e2(n)?(s.headers=W({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),W(W({},s),r))};async function Uu(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,o2(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>i2(l,a,n))})}async function au(t,e,r,n){return Uu(t,"GET",e,r,n)}async function vr(t,e,r,n,s){return Uu(t,"POST",e,n,s,r)}async function Wp(t,e,r,n,s){return Uu(t,"PUT",e,n,s,r)}async function a2(t,e,r,n){return Uu(t,"HEAD",e,W(W({},r),{},{noResolveJson:!0}),n)}async function pm(t,e,r,n,s){return Uu(t,"DELETE",e,n,s,r)}var l2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}}};let TE;TE=Symbol.toStringTag;var u2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[TE]="BlobDownloadBuilder",this.promise=null}asStream(){return new l2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ke(e))return{data:null,error:e};throw e}}};const c2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ew={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var h2=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=W(W({},ew),n);let a=W(W({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=W(W({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),h=await(t=="PUT"?Wp:vr)(s.fetch,`${s.url}/object/${c}`,i,W({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=W({upsert:ew.upsert},n),c=W(W({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await Wp(s.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=W({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await vr(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new of("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await vr(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await vr(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await vr(n.fetch,`${n.url}/object/sign/${s}`,W({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await vr(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>W(W({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>au(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new u2(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Qp(await au(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await a2(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ke(n)&&n instanceof Kp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=W(W(W({},c2),e),{},{prefix:t||""});return{data:await vr(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ke(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=W({},t);return{data:await vr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const OE="2.89.0",NE={"X-Client-Info":`storage-js/${OE}`};var f2=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=W(W({},NE),e),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await au(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await au(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await vr(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Wp(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await vr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},d2=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=W(W({},NE),e),this.fetch=dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await au(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await pm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!t2(t))throw new of("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new YT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const gm={"X-Client-Info":`storage-js/${OE}`,"Content-Type":"application/json"};var RE=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var id=class extends RE{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},p2=class extends RE{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const mm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),m2=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new id(tw(i),n,o))}).catch(()=>{const i=n+"";e(new id(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new id(s.statusText||`HTTP ${n} error`,n,i))}}else e(new p2(tw(t),t))},y2=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(g2(n)?(s.headers=W({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,W(W({},s),r)):s};async function w2(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,y2(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>m2(l,a,n))})}async function Kt(t,e,r,n,s){return w2(t,"POST",e,n,s,r)}var v2=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=W(W({},gm),e),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Kt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Kt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Vt(n))return{data:null,error:n};throw n}}},b2=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=W(W({},gm),e),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Kt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Kt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Kt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}},A2=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=W(W({},gm),e),this.fetch=mm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Kt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Vt(r))return{data:null,error:r};throw r}}},E2=class extends A2{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new k2(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},k2=class extends v2{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new _2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},_2=class extends b2{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,W(W({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},S2=class extends f2{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new h2(this.url,this.headers,t,this.fetch)}get vectors(){return new E2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d2(this.url+"/iceberg",this.headers,this.fetch)}};const IE="2.89.0",co=30*1e3,Jp=3,od=Jp*co,x2="http://localhost:9999",C2="supabase.auth.token",P2={"X-Client-Info":`gotrue-js/${IE}`},qp="X-Supabase-Api-Version",BE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O2=10*60*1e3;class lu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class N2 extends lu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function R2(t){return G(t)&&t.name==="AuthApiError"}class Xs extends lu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Mn extends lu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Dt extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I2(t){return G(t)&&t.name==="AuthSessionMissingError"}class to extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends Mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hc extends Mn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B2(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}class rw extends Mn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U2 extends Mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Yp extends Mn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ad(t){return G(t)&&t.name==="AuthRetryableFetchError"}class nw extends Mn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zp extends Mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sw=` 	
\r=`.split(""),L2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<sw.length;e+=1)t[sw[e].charCodeAt(0)]=-2;for(let e=0;e<bh.length;e+=1)t[bh[e].charCodeAt(0)]=e;return t})();function iw(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(bh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(bh[n]),e.queuedBits-=6}}function UE(t,e,r){const n=L2[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ow(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{M2(o,n,r)};for(let o=0;o<t.length;o+=1)UE(t.charCodeAt(o),s,i);return e.join("")}function D2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function F2(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}D2(n,e)}}function M2(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $o(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)UE(t.charCodeAt(s),r,n);return new Uint8Array(e)}function j2(t){const e=[];return F2(t,r=>e.push(r)),new Uint8Array(e)}function ci(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>iw(s,r,n)),iw(null,r,n),e.join("")}function z2(t){return Math.round(Date.now()/1e3)+t}function $2(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},LE=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function H2(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const DE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ho=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Gs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ke=async(t,e)=>{await t.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}af.promiseConstructor=Promise;function ld(t){const e=t.split(".");if(e.length!==3)throw new Zp("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!T2.test(e[n]))throw new Zp("JWT not in base64url format");return{header:JSON.parse(ow(e[0])),payload:JSON.parse(ow(e[1])),signature:$o(e[2]),raw:{header:e[0],payload:e[1]}}}async function V2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function K2(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Q2(t){return("0"+t.toString(16)).substr(-2)}function W2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Q2).join("")}async function J2(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function q2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await J2(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(t,e,r=!1){const n=W2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ho(t,`${e}-code-verifier`,s);const i=await q2(n);return[i,n===i?"plain":"s256"]}const Y2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z2(t){const e=t.headers.get(qp);if(!e||!e.match(Y2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function X2(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function no(t){if(!tO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ud(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rO(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function aw(t){return JSON.parse(JSON.stringify(t))}const Js=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nO=[502,503,504];async function lw(t){var e;if(!G2(t))throw new Yp(Js(t),0);if(nO.includes(t.status))throw new Yp(Js(t),t.status);let r;try{r=await t.json()}catch(i){throw new Xs(Js(i),i)}let n;const s=Z2(t);if(s&&s.getTime()>=BE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new nw(Js(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new nw(Js(r),t.status,r.weak_password.reasons);throw new N2(Js(r),t.status||500,n)}const sO=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Q(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qp]||(i[qp]=BE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await iO(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function iO(t,e,r,n,s,i){const o=sO(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Yp(Js(l),0)}if(a.ok||await lw(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await lw(l)}}function gr(t){var e;let r=null;lO(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=z2(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function uw(t){const e=gr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function es(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oO(t){return{data:t,error:null}}function aO(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cw(t){return t}function lO(t){return t.access_token&&t.refresh_token&&t.expires_in}const cd=["global","local","others"];class uO{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=DE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=cd[0]){if(cd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cd.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:es})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sf(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:aO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:es})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cw});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){no(e);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:es})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){no(e);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:es})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){no(e);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:es})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){no(e.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(e){no(e.userId),no(e.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cw});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);u[`${A}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}}function hw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const so={debug:!!(globalThis&&LE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cO extends FE{}async function hO(t,e,r){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(so.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function fO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ME(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dO(t){return parseInt(t,16)}function pO(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function gO(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=ME(t.address),v=c?`${c}://${n}`:n,y=t.statement?`${t.statement}
`:"",A=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);m+=`
- ${w}`}g+=m}return`${A}
${g}`}class Be extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ah extends Be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function mO({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(jE(o)){if(i.rp.id!==o)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yO({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(jE(n)){if(r.rpId!==n)return new Be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class wO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const vO=new wO;function bO(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=sf(t,["challenge","user","excludeCredentials"]),i=$o(e).buffer,o=Object.assign(Object.assign({},r),{id:$o(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:$o(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function AO(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=sf(t,["challenge","allowCredentials"]),s=$o(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:$o(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function EO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ci(new Uint8Array(t.response.attestationObject)),clientDataJSON:ci(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kO(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ci(new Uint8Array(s.authenticatorData)),clientDataJSON:ci(new Uint8Array(s.clientDataJSON)),signature:ci(new Uint8Array(s.signature)),userHandle:s.userHandle?ci(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function fw(){var t,e;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _O(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ah("Browser returned unexpected credential type",e)}:{data:null,error:new Ah("Empty credential response",e)}}catch(e){return{data:null,error:mO({error:e,options:t})}}}async function SO(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ah("Browser returned unexpected credential type",e)}:{data:null,error:new Ah("Empty credential response",e)}}catch(e){return{data:null,error:yO({error:e,options:t})}}}const xO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},CO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Eh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Eh(a,o):n[i]=Eh(o)}else n[i]=o}return n}function PO(t,e){return Eh(xO,t,e||{})}function TO(t,e){return Eh(CO,t,e||{})}class OO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??vO.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=PO(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await _O({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=TO(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await SO(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Xs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn authentication")};try{if(!fw())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Xs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new lu("rpId is required for WebAuthn registration")};try{if(!fw())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Xs("Unexpected error in register",o)}}}}fO();const NO={url:x2,storageKey:C2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dw(t,e,r){return await r()}const io={};class uu{get jwks(){var e,r;return(r=(e=io[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=io[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){io[this.storageKey]=Object.assign(Object.assign({},io[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},NO),e);if(this.storageKey=i.storageKey,this.instanceID=(r=uu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,uu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Qe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=DE(i.fetch),this.lock=i.lock||dw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=hO:this.lock=dw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new OO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:LE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hw(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Qe()&&(r=H2(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B2(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?this._returnResult({error:r}):this._returnResult({error:new Xs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gr}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ro(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:gr})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gr})}else throw new cc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uw})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:uw})}else throw new cc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new to;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:y,wallet:A,statement:g,options:m}=e;let w;if(Qe())if(typeof A=="object")w=A;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")w=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=A}const k=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),C=await w.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=ME(C[0]);let P=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const H=await w.request({method:"eth_chainId"});P=dO(H)}const T={domain:k.host,address:S,statement:g,uri:k.href,version:"1",chainId:P,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=gO(T),v=await w.request({method:"personal_sign",params:[pO(p),S]})}try{const{data:y,error:A}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gr});if(A)throw A;if(!y||!y.session||!y.user){const g=new to;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:A})}catch(y){if(G(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,h,f,p;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:A,wallet:g,statement:m,options:w}=e;let k;if(Qe())if(typeof g=="object")k=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))k=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const C=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const S=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),m?{statement:m}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:A,error:g}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ci(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gr});if(g)throw g;if(!A||!A.session||!A.user){const m=new to;return this._returnResult({data:{user:null,session:null},error:m})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:g})}catch(A){if(G(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new U2;const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gr});if(await Ke(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new to;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gr}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new to;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ro(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new cc("You must provide either an email or phone number.")}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ro(this.storage,this.storageKey));const u=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:oO});return!((i=u.data)===null||i===void 0)&&i.url&&Qe()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Dt;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(G(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new cc("You must provide either an email or phone number and a type")}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<od:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Gs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ud()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=rO(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:es}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:es})})}catch(r){if(G(r))return I2(r)&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Dt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ro(this.storage,this.storageKey));const{data:u,error:c}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:es});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Dt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ld(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Dt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new hc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rw("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new hc("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:y,error:A}=await this._getUser(i);if(A)throw A;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(R2(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=$2(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ro(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(G(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,h=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gr}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new to}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ke(this.storage,`${this.storageKey}-code-verifier`),G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await K2(async s=>(s>0&&await V2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ad(i)&&Date.now()+o-n<co})}catch(n){if(this._debug(r,"error",n),G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ho(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ud()}else if(s&&!s.user&&!s.user){const o=await Gs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ke(this.storage,this.storageKey+"-user"),await ho(this.storage,this.storageKey,s)):s.user=ud()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<od;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${od}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ad(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new af;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),G(i)){const o={data:null,error:i};return ad(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ke(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ho(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=aw(s);await ho(this.storage,this.storageKey,i)}else{const s=aw(r);await ho(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ke(this.storage,this.storageKey),await Ke(this.storage,this.storageKey+"-code-verifier"),await Ke(this.storage,this.storageKey+"-user"),this.userStorage&&await Ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${co}ms, refresh threshold is ${Jp} ticks`),s<=Jp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof FE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ro(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?EO(e.webauthn.credential_response):kO(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:bO(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:AO(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ld(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const o=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(e){if(G(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Dt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+O2>s)return n;const{data:i,error:o}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ld(n);r!=null&&r.allowExpired||X2(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=eO(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,j2(`${a}.${l}`)))throw new Zp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}}uu.nextInstanceID={};const RO=uu,IO="2.89.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const BO={"X-Client-Info":`supabase-js-${ml}/${IO}`},UO={headers:BO},LO={schema:"public"},DO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FO={};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function MO(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jO(t){var e=MO(t,"string");return cu(e)=="symbol"?e:e+""}function zO(t,e,r){return(e=jO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pw(Object(r),!0).forEach(function(n){zO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const $O=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HO=()=>Headers,GO=(t,e,r)=>{const n=$O(r),s=HO();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Pe(Pe({},o),{},{headers:u}))}};function VO(t){return t.endsWith("/")?t:t+"/"}function KO(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:Pe(Pe({},l),s),auth:Pe(Pe({},u),i),realtime:Pe(Pe({},c),o),storage:{},global:Pe(Pe(Pe({},h),a),{},{headers:Pe(Pe({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function QO(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(VO(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var WO=class extends RO{constructor(t){super(t)}},JO=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=QO(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:LO,realtime:FO,auth:Pe(Pe({},DO),{},{storageKey:o}),global:UO},l=KO(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=GO(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Pe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new PT(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new S2(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new kT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WO({url:this.authUrl.href,headers:Pe(Pe({},f),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new VT(this.realtimeUrl.href,Pe(Pe({},t),{},{params:Pe(Pe({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qO=(t,e,r)=>new JO(t,e,r);function YO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}YO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZO="https://nabngkvvudvhlmcfwwfq.supabase.co",XO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5hYm5na3Z2dWR2aGxtY2Z3d2ZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMTYwMTgsImV4cCI6MjA4MjY5MjAxOH0.MUJvL-LUQUhUG6y2n-wZ7qRd74TnTNg_aYpFme8wuFo",zE=qO(ZO,XO);async function eN(t,e,r){return zE.from("contributions").insert({user_address:t,tx_hash:e,amount_cro:r})}async function tN(t){const{data:e,error:r}=await zE.from("contributions").select("*").eq("user_address",t).order("created_at",{ascending:!1});if(r)throw r;return e}function rN({isOpen:t,onClose:e}){const[r,n]=Gt.useState("0.1"),[s,i]=Gt.useState(""),[o,a]=Gt.useState(null);if(!t)return null;async function l(){try{const h=await zp();a(h),i("Connected: "+h.address)}catch(h){i("Failed to connect wallet"),console.error(h)}}async function u(){try{const h=await vT();a(h),i("Connected (WalletConnect): "+h.address)}catch(h){console.error(h),i("WalletConnect failed: "+((h==null?void 0:h.message)||h))}}async function c(){i("Sending transaction...");try{let h=o==null?void 0:o.signer,f=o==null?void 0:o.provider;if(!h){const A=await zp();h=A.signer,f=A.provider,a(A)}if(await pT(f)!==fT){i("Please switch your wallet to Cronos chain (chainId 25)");return}const v=await dT(h,r);i("Transaction sent: "+v);const y=await h.getAddress();await eN(y,v,Number(r))}catch(h){console.error(h),i("Transaction failed: "+((h==null?void 0:h.message)||h))}}return F.createElement("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center"},F.createElement("div",{className:"bg-white p-6 rounded w-96"},F.createElement("h2",{className:"text-lg font-bold mb-2"},"Buy into presale"),F.createElement("div",{className:"mb-2"},"Receiver: ",F.createElement("code",null,"0x46914D5DC59598801e435AF2a08928Da87C60dF0")),F.createElement("label",{className:"block mb-2"},"Amount (CRO)"),F.createElement("input",{value:r,onChange:h=>n(h.target.value),className:"w-full border rounded p-2 mb-4"}),F.createElement("div",{className:"flex space-x-2 mb-3"},F.createElement("button",{onClick:l,className:"px-3 py-2 bg-blue-500 text-white rounded"},"MetaMask"),F.createElement("button",{onClick:u,className:"px-3 py-2 bg-indigo-600 text-white rounded"},"WalletConnect"),F.createElement("button",{onClick:c,className:"px-3 py-2 bg-green-500 text-white rounded"},"Buy")),F.createElement("div",{className:"flex justify-between items-center"},F.createElement("button",{onClick:e,className:"px-3 py-2 border rounded"},"Close"),F.createElement("div",{className:"text-sm text-gray-600"},s))))}const gw=5e7;function nN({isOpen:t,onClose:e}){const[r,n]=Gt.useState(null),[s,i]=Gt.useState([]),[o,a]=Gt.useState(0),[l,u]=Gt.useState(""),[c,h]=Gt.useState(!1);Gt.useEffect(()=>{t&&(async()=>{try{const A=await zp();n(A.address);const g=await tN(A.address);i(g||[]);const m=await computeExpectedTokens(A.address,gw);a(m.total||0);const w=await getUserClaims(A.address);h((w||[]).some(k=>k.claimed))}catch(A){console.warn(A)}})()},[t]);const f=s.reduce((A,g)=>A+Number(g.amount_cro),0),p=o>0?gw/o:0,v=f*p;async function y(){if(r){u("Recording claim...");try{await recordClaim(r),h(!0),u("Claim recorded. We will process distribution at TGE.")}catch(A){u("Claim failed: "+((A==null?void 0:A.message)||A))}}}return t?F.createElement("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center"},F.createElement("div",{className:"bg-white p-6 rounded w-96"},F.createElement("h2",{className:"text-lg font-bold mb-2"},"Shed  Contributions"),F.createElement("div",{className:"text-sm mb-2"},"Address: ",r),F.createElement("div",{className:"mb-2"},"Your contributed CRO: ",f),F.createElement("div",{className:"mb-2"},"Total CRO (all users): ",o),F.createElement("div",{className:"mb-2"},"Expected $HENS on TGE: ",v.toFixed(2)),F.createElement("div",{className:"h-32 overflow-auto border rounded p-2"},s.length===0&&F.createElement("div",{className:"text-sm text-gray-500"},"No contributions yet."),s.map(A=>F.createElement("div",{key:A.id,className:"text-xs border-b py-1"},new Date(A.created_at).toLocaleString(),"  ",A.amount_cro," CRO  Tx ",A.tx_hash))),F.createElement("div",{className:"mt-3 flex justify-between items-center"},F.createElement("div",{className:"flex items-center space-x-2"},!c&&v>0&&F.createElement("button",{onClick:y,className:"px-3 py-2 bg-yellow-500 text-white rounded"},"Claim tokens"),c&&F.createElement("div",{className:"text-sm text-green-600"},"Claimed")),F.createElement("div",{className:"flex items-center space-x-2"},F.createElement("div",{className:"text-sm text-gray-600"},l),F.createElement("button",{onClick:e,className:"px-3 py-2 border rounded"},"Close"))))):null}function sN(){const[t,e]=Gt.useState(!1),[r,n]=Gt.useState(!1);return F.createElement("div",{className:"min-h-screen bg-green-50 flex items-center justify-center"},F.createElement("div",{className:"w-full max-w-5xl p-8"},F.createElement("h1",{className:"text-3xl font-bold mb-4"},"Henverse Presale (Prototype)"),F.createElement("p",{className:"mb-6"},"Click the human to buy CRO and the shed to view your contributions."),F.createElement("div",{className:"border rounded p-6 bg-white shadow"},F.createElement(h_,{onClickHuman:()=>e(!0),onClickShed:()=>n(!0)})),F.createElement(rN,{isOpen:t,onClose:()=>e(!1)}),F.createElement(nN,{isOpen:r,onClose:()=>n(!1)})))}class iN extends F.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,message:e==null?void 0:e.message}}componentDidCatch(e,r){console.error("Uncaught error in UI:",e,r)}render(){return this.state.hasError?F.createElement("div",{className:"min-h-screen flex items-center justify-center p-6"},F.createElement("div",{className:"max-w-lg text-center bg-white p-6 rounded shadow"},F.createElement("h2",{className:"text-xl font-bold mb-2"},"Something went wrong"),F.createElement("p",{className:"text-sm text-gray-600 mb-4"},"An unexpected error occurred while loading the app. Try disabling other browser wallet extensions or open the site in a clean browser profile."),F.createElement("div",{className:"text-xs text-red-600"},this.state.message))):this.props.children}}typeof window<"u"&&typeof window.global>"u"&&(window.global=window);Cb(document.getElementById("root")).render(F.createElement(F.StrictMode,null,F.createElement(iN,null,F.createElement(sN,null))));export{GE as a,aN as c,lN as g};
